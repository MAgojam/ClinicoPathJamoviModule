<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="ClinicoPath Development Team" />

<meta name="date" content="2025-06-30" />

<title>MedDecide 01: Introduction to Medical Decision Analysis for Pathologists</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">MedDecide 01: Introduction to Medical
Decision Analysis for Pathologists</h1>
<h4 class="author">ClinicoPath Development Team</h4>
<h4 class="date">2025-06-30</h4>


<div id="TOC">
<ul>
<li><a href="#introduction" id="toc-introduction"><span class="toc-section-number">1</span> Introduction</a>
<ul>
<li><a href="#module-overview" id="toc-module-overview"><span class="toc-section-number">1.1</span> Module Overview</a>
<ul>
<li><a href="#diagnostic-test-evaluation" id="toc-diagnostic-test-evaluation"><span class="toc-section-number">1.1.1</span> 1. <strong>Diagnostic Test
Evaluation</strong></a></li>
<li><a href="#decision-tree-analysis" id="toc-decision-tree-analysis"><span class="toc-section-number">1.1.2</span> 2. <strong>Decision Tree
Analysis</strong></a></li>
<li><a href="#markov-modeling" id="toc-markov-modeling"><span class="toc-section-number">1.1.3</span> 3. <strong>Markov
Modeling</strong></a></li>
<li><a href="#precision-medicine-decisions" id="toc-precision-medicine-decisions"><span class="toc-section-number">1.1.4</span> 4. <strong>Precision Medicine
Decisions</strong></a></li>
</ul></li>
</ul></li>
<li><a href="#getting-started" id="toc-getting-started"><span class="toc-section-number">2</span> Getting Started</a>
<ul>
<li><a href="#installation-and-setup" id="toc-installation-and-setup"><span class="toc-section-number">2.1</span> Installation and Setup</a>
<ul>
<li><a href="#in-jamovi" id="toc-in-jamovi"><span class="toc-section-number">2.1.1</span> In jamovi:</a></li>
<li><a href="#in-r" id="toc-in-r"><span class="toc-section-number">2.1.2</span> In R:</a></li>
</ul></li>
<li><a href="#sample-datasets" id="toc-sample-datasets"><span class="toc-section-number">2.2</span> Sample Datasets</a></li>
</ul></li>
<li><a href="#core-analysis-workflows" id="toc-core-analysis-workflows"><span class="toc-section-number">3</span> Core Analysis Workflows</a>
<ul>
<li><a href="#roc-analysis-and-diagnostic-test-evaluation" id="toc-roc-analysis-and-diagnostic-test-evaluation"><span class="toc-section-number">3.1</span> 1. ROC Analysis and Diagnostic
Test Evaluation</a></li>
<li><a href="#simple-decision-tree-analysis" id="toc-simple-decision-tree-analysis"><span class="toc-section-number">3.2</span> 2. Simple Decision Tree
Analysis</a></li>
<li><a href="#markov-model-analysis" id="toc-markov-model-analysis"><span class="toc-section-number">3.3</span> 3. Markov Model Analysis</a></li>
<li><a href="#precision-medicine-decision-analysis" id="toc-precision-medicine-decision-analysis"><span class="toc-section-number">3.4</span> 4. Precision Medicine Decision
Analysis</a></li>
</ul></li>
<li><a href="#advanced-applications" id="toc-advanced-applications"><span class="toc-section-number">4</span>
Advanced Applications</a>
<ul>
<li><a href="#agreement-analysis" id="toc-agreement-analysis"><span class="toc-section-number">4.1</span> Agreement Analysis</a></li>
<li><a href="#power-analysis" id="toc-power-analysis"><span class="toc-section-number">4.2</span> Power Analysis</a></li>
</ul></li>
<li><a href="#integration-with-other-modules" id="toc-integration-with-other-modules"><span class="toc-section-number">5</span> Integration with Other Modules</a>
<ul>
<li><a href="#connection-to-clinicopathdescriptives" id="toc-connection-to-clinicopathdescriptives"><span class="toc-section-number">5.1</span> Connection to
ClinicoPathDescriptives</a></li>
<li><a href="#connection-to-jsurvival" id="toc-connection-to-jsurvival"><span class="toc-section-number">5.2</span> Connection to jsurvival</a></li>
<li><a href="#connection-to-jjstatsplot" id="toc-connection-to-jjstatsplot"><span class="toc-section-number">5.3</span> Connection to jjstatsplot</a></li>
</ul></li>
<li><a href="#best-practices" id="toc-best-practices"><span class="toc-section-number">6</span> Best Practices</a>
<ul>
<li><a href="#decision-model-development" id="toc-decision-model-development"><span class="toc-section-number">6.1</span> Decision Model
Development</a></li>
<li><a href="#roc-analysis-guidelines" id="toc-roc-analysis-guidelines"><span class="toc-section-number">6.2</span> ROC Analysis Guidelines</a></li>
<li><a href="#economic-evaluation" id="toc-economic-evaluation"><span class="toc-section-number">6.3</span> Economic Evaluation</a></li>
</ul></li>
<li><a href="#conclusion" id="toc-conclusion"><span class="toc-section-number">7</span> Conclusion</a>
<ul>
<li><a href="#next-steps" id="toc-next-steps"><span class="toc-section-number">7.1</span> Next Steps</a></li>
<li><a href="#support-and-resources" id="toc-support-and-resources"><span class="toc-section-number">7.2</span> Support and Resources</a></li>
</ul></li>
</ul>
</div>

<div id="introduction" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p>The meddecide module provides comprehensive tools for medical
decision analysis, enabling healthcare professionals to make
evidence-based clinical decisions through systematic evaluation of
diagnostic tests, treatment options, and health economic outcomes. This
module combines traditional decision tree analysis with advanced Markov
modeling for complex medical scenarios.</p>
<p><strong>Learning Objectives:</strong></p>
<ul>
<li>Understand the fundamentals of medical decision analysis</li>
<li>Learn diagnostic test evaluation and ROC analysis</li>
<li>Master decision tree construction and interpretation</li>
<li>Apply Markov modeling for chronic disease scenarios</li>
<li>Conduct cost-effectiveness analysis for healthcare
interventions</li>
<li>Implement precision medicine decision frameworks</li>
</ul>
<div id="module-overview" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Module Overview</h2>
<p>meddecide encompasses four main areas of medical decision
analysis:</p>
<div id="diagnostic-test-evaluation" class="section level3" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> 1.
<strong>Diagnostic Test Evaluation</strong></h3>
<ul>
<li><strong>ROC Analysis</strong>: Receiver operating characteristic
curves and AUC calculation</li>
<li><strong>Diagnostic Accuracy</strong>: Sensitivity, specificity,
predictive values</li>
<li><strong>Test Performance</strong>: Likelihood ratios and clinical
utility measures</li>
<li><strong>Biomarker Validation</strong>: Companion diagnostic
development</li>
</ul>
</div>
<div id="decision-tree-analysis" class="section level3" number="1.1.2">
<h3><span class="header-section-number">1.1.2</span> 2. <strong>Decision
Tree Analysis</strong></h3>
<ul>
<li><strong>Simple Decision Trees</strong>: Binary choice scenarios with
immediate outcomes</li>
<li><strong>Complex Decision Trees</strong>: Multi-branch decisions with
sequential outcomes</li>
<li><strong>Cost-Effectiveness Trees</strong>: Economic evaluation
integrated with clinical outcomes</li>
<li><strong>Sensitivity Analysis</strong>: Parameter uncertainty
assessment</li>
</ul>
</div>
<div id="markov-modeling" class="section level3" number="1.1.3">
<h3><span class="header-section-number">1.1.3</span> 3. <strong>Markov
Modeling</strong></h3>
<ul>
<li><strong>State Transition Models</strong>: Chronic disease
progression modeling</li>
<li><strong>Markov Chains</strong>: Time-dependent health state
transitions</li>
<li><strong>Cohort Simulation</strong>: Population-level outcome
prediction</li>
<li><strong>Economic Evaluation</strong>: Long-term cost-effectiveness
analysis</li>
</ul>
</div>
<div id="precision-medicine-decisions" class="section level3" number="1.1.4">
<h3><span class="header-section-number">1.1.4</span> 4.
<strong>Precision Medicine Decisions</strong></h3>
<ul>
<li><strong>Biomarker-Guided Therapy</strong>: Treatment selection
algorithms</li>
<li><strong>Companion Diagnostics</strong>: Test-treatment
combinations</li>
<li><strong>Pharmacoeconomics</strong>: Personalized medicine
cost-effectiveness</li>
<li><strong>Real-World Evidence</strong>: Population-based decision
modeling</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(ClinicoPath)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">library</span>(pROC)</span></code></pre></div>
</div>
</div>
</div>
<div id="getting-started" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Getting Started</h1>
<div id="installation-and-setup" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Installation and
Setup</h2>
<p>meddecide is part of the comprehensive ClinicoPath suite and provides
specialized tools for medical decision analysis.</p>
<div id="in-jamovi" class="section level3" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> In jamovi:</h3>
<ol style="list-style-type: decimal">
<li>Install the ClinicoPath module from the jamovi library</li>
<li>Navigate to <strong>meddecide</strong> in the analysis menu</li>
<li>Choose from: Agreement, Decision, ROC, or Power Analysis</li>
</ol>
</div>
<div id="in-r" class="section level3" number="2.1.2">
<h3><span class="header-section-number">2.1.2</span> In R:</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># Install from GitHub</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">requireNamespace</span>(<span class="st">&quot;devtools&quot;</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>)) {</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">&quot;devtools&quot;</span>)</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>}</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;sbalci/meddecide&quot;</span>)</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="co"># Load the package</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="fu">library</span>(ClinicoPath)</span></code></pre></div>
</div>
</div>
<div id="sample-datasets" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Sample Datasets</h2>
<p>meddecide includes comprehensive datasets for decision analysis
training:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Load decision analysis datasets</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">data</span>(basic_decision_data)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="fu">data</span>(markov_decision_data) </span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="fu">data</span>(precision_oncology_data)</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="co"># Decision tree data overview</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Basic decision data dimensions:&quot;</span>, <span class="fu">nrow</span>(basic_decision_data), <span class="st">&quot;×&quot;</span>, <span class="fu">ncol</span>(basic_decision_data), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Key variables:&quot;</span>, <span class="fu">paste</span>(<span class="fu">names</span>(basic_decision_data)[<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>], <span class="at">collapse =</span> <span class="st">&quot;, &quot;</span>), <span class="st">&quot;...</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="co"># Markov model data overview</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Markov decision data dimensions:&quot;</span>, <span class="fu">nrow</span>(markov_decision_data), <span class="st">&quot;×&quot;</span>, <span class="fu">ncol</span>(markov_decision_data), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Key variables:&quot;</span>, <span class="fu">paste</span>(<span class="fu">names</span>(markov_decision_data)[<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>], <span class="at">collapse =</span> <span class="st">&quot;, &quot;</span>), <span class="st">&quot;...</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="co"># Precision oncology data overview</span></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Precision oncology data dimensions:&quot;</span>, <span class="fu">nrow</span>(precision_oncology_data), <span class="st">&quot;×&quot;</span>, <span class="fu">ncol</span>(precision_oncology_data), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a>molecular_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(precision_oncology_data)[<span class="fu">grepl</span>(<span class="st">&quot;Mutation|Status|TPS&quot;</span>, <span class="fu">names</span>(precision_oncology_data))]</span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Biomarker variables:&quot;</span>, <span class="fu">paste</span>(molecular_vars[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], <span class="at">collapse =</span> <span class="st">&quot;, &quot;</span>), <span class="st">&quot;...</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="core-analysis-workflows" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Core Analysis
Workflows</h1>
<div id="roc-analysis-and-diagnostic-test-evaluation" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> 1. ROC Analysis and
Diagnostic Test Evaluation</h2>
<p>Foundation for biomarker validation and diagnostic test
assessment.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># ROC Analysis Example</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="co"># In jamovi: meddecide &gt; ROC &gt; ROC Analysis</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="co"># Using precision oncology data for biomarker evaluation</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="fu">data</span>(precision_oncology_data)</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co"># Create binary outcome for treatment response</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>response_binary <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(precision_oncology_data<span class="sc">$</span>Treatment_Response <span class="sc">%in%</span> </span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>                             <span class="fu">c</span>(<span class="st">&quot;Complete_Response&quot;</span>, <span class="st">&quot;Partial_Response&quot;</span>))</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;ROC Analysis Example - PD-L1 TPS for Treatment Response</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;=====================================================</span><span class="sc">\n\n</span><span class="st">&quot;</span>)</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="co"># Basic ROC statistics</span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">requireNamespace</span>(<span class="st">&quot;pROC&quot;</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>)) {</span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a>  <span class="fu">library</span>(pROC)</span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a>  </span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a>  <span class="co"># ROC analysis for PD-L1 TPS</span></span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a>  roc_pdl1 <span class="ot">&lt;-</span> <span class="fu">roc</span>(response_binary, precision_oncology_data<span class="sc">$</span>PD_L1_TPS, <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a>  </span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;PD-L1 TPS ROC Results:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;AUC:&quot;</span>, <span class="fu">round</span>(<span class="fu">auc</span>(roc_pdl1), <span class="dv">3</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;95% CI:&quot;</span>, <span class="fu">paste</span>(<span class="fu">round</span>(<span class="fu">ci.auc</span>(roc_pdl1), <span class="dv">3</span>), <span class="at">collapse =</span> <span class="st">&quot; - &quot;</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a>  </span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a>  <span class="co"># Optimal cutpoint</span></span>
<span id="cb4-26"><a href="#cb4-26" tabindex="-1"></a>  optimal_cutpoint <span class="ot">&lt;-</span> <span class="fu">coords</span>(roc_pdl1, <span class="st">&quot;best&quot;</span>, <span class="at">ret =</span> <span class="st">&quot;threshold&quot;</span>)</span>
<span id="cb4-27"><a href="#cb4-27" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Optimal cutpoint:&quot;</span>, <span class="fu">round</span>(optimal_cutpoint, <span class="dv">1</span>), <span class="st">&quot;%</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb4-28"><a href="#cb4-28" tabindex="-1"></a>  </span>
<span id="cb4-29"><a href="#cb4-29" tabindex="-1"></a>  <span class="co"># Clinical cutpoints evaluation</span></span>
<span id="cb4-30"><a href="#cb4-30" tabindex="-1"></a>  cutpoints <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">50</span>)</span>
<span id="cb4-31"><a href="#cb4-31" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Performance at Clinical Cutpoints:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb4-32"><a href="#cb4-32" tabindex="-1"></a>  </span>
<span id="cb4-33"><a href="#cb4-33" tabindex="-1"></a>  <span class="cf">for</span>(cutpoint <span class="cf">in</span> cutpoints) {</span>
<span id="cb4-34"><a href="#cb4-34" tabindex="-1"></a>    sens <span class="ot">&lt;-</span> <span class="fu">coords</span>(roc_pdl1, cutpoint, <span class="at">ret =</span> <span class="st">&quot;sensitivity&quot;</span>)</span>
<span id="cb4-35"><a href="#cb4-35" tabindex="-1"></a>    spec <span class="ot">&lt;-</span> <span class="fu">coords</span>(roc_pdl1, cutpoint, <span class="at">ret =</span> <span class="st">&quot;specificity&quot;</span>)</span>
<span id="cb4-36"><a href="#cb4-36" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="fu">paste0</span>(<span class="st">&quot;PD-L1 ≥&quot;</span>, cutpoint, <span class="st">&quot;%: Sensitivity = &quot;</span>, <span class="fu">round</span>(sens, <span class="dv">3</span>), </span>
<span id="cb4-37"><a href="#cb4-37" tabindex="-1"></a>              <span class="st">&quot;, Specificity = &quot;</span>, <span class="fu">round</span>(spec, <span class="dv">3</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>))</span>
<span id="cb4-38"><a href="#cb4-38" tabindex="-1"></a>  }</span>
<span id="cb4-39"><a href="#cb4-39" tabindex="-1"></a>}</span>
<span id="cb4-40"><a href="#cb4-40" tabindex="-1"></a></span>
<span id="cb4-41"><a href="#cb4-41" tabindex="-1"></a><span class="co"># Diagnostic test characteristics</span></span>
<span id="cb4-42"><a href="#cb4-42" tabindex="-1"></a>n_positive <span class="ot">&lt;-</span> <span class="fu">sum</span>(precision_oncology_data<span class="sc">$</span>PD_L1_TPS <span class="sc">&gt;=</span> <span class="dv">50</span>)</span>
<span id="cb4-43"><a href="#cb4-43" tabindex="-1"></a>n_total <span class="ot">&lt;-</span> <span class="fu">nrow</span>(precision_oncology_data)</span>
<span id="cb4-44"><a href="#cb4-44" tabindex="-1"></a>prevalence <span class="ot">&lt;-</span> <span class="fu">round</span>(n_positive <span class="sc">/</span> n_total <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>)</span>
<span id="cb4-45"><a href="#cb4-45" tabindex="-1"></a></span>
<span id="cb4-46"><a href="#cb4-46" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Diagnostic Test Characteristics:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb4-47"><a href="#cb4-47" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;PD-L1 ≥50% prevalence:&quot;</span>, prevalence, <span class="st">&quot;%</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb4-48"><a href="#cb4-48" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Sample size:&quot;</span>, n_total, <span class="st">&quot;patients</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
</div>
<div id="simple-decision-tree-analysis" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> 2. Simple Decision
Tree Analysis</h2>
<p>Evaluate treatment alternatives with immediate outcomes.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># Decision Tree Analysis Example</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="co"># In jamovi: meddecide &gt; Decision &gt; Decision Tree Graph</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="co"># Using basic decision data</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="fu">data</span>(basic_decision_data)</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Decision Tree Analysis Example - Surgery vs Medical Treatment</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;===========================================================</span><span class="sc">\n\n</span><span class="st">&quot;</span>)</span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="co"># Decision analysis summary</span></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a>decision_summary <span class="ot">&lt;-</span> basic_decision_data <span class="sc">%&gt;%</span></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a>  <span class="fu">group_by</span>(treatment) <span class="sc">%&gt;%</span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a>    <span class="at">mean_prob_success =</span> <span class="fu">round</span>(<span class="fu">mean</span>(prob_success_surgery <span class="sc">+</span> prob_success_medical)<span class="sc">/</span><span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a>    <span class="at">mean_cost =</span> <span class="fu">round</span>(<span class="fu">mean</span>(cost_surgery <span class="sc">+</span> cost_medical)<span class="sc">/</span><span class="dv">2</span>, <span class="dv">0</span>),</span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a>    <span class="at">mean_utility_success =</span> <span class="fu">round</span>(<span class="fu">mean</span>(utility_success), <span class="dv">3</span>),</span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a>    <span class="at">clinical_response_rate =</span> <span class="fu">round</span>(<span class="fu">mean</span>(clinical_outcome <span class="sc">==</span> <span class="st">&quot;Complete_Response&quot;</span>) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&#39;drop&#39;</span></span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a>  )</span>
<span id="cb5-21"><a href="#cb5-21" tabindex="-1"></a></span>
<span id="cb5-22"><a href="#cb5-22" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Decision Alternatives:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb5-23"><a href="#cb5-23" tabindex="-1"></a><span class="fu">print</span>(decision_summary)</span>
<span id="cb5-24"><a href="#cb5-24" tabindex="-1"></a></span>
<span id="cb5-25"><a href="#cb5-25" tabindex="-1"></a><span class="co"># Expected value calculation example</span></span>
<span id="cb5-26"><a href="#cb5-26" tabindex="-1"></a>surgery_cases <span class="ot">&lt;-</span> basic_decision_data[basic_decision_data<span class="sc">$</span>treatment <span class="sc">==</span> <span class="st">&quot;Surgery&quot;</span>, ]</span>
<span id="cb5-27"><a href="#cb5-27" tabindex="-1"></a>medical_cases <span class="ot">&lt;-</span> basic_decision_data[basic_decision_data<span class="sc">$</span>treatment <span class="sc">==</span> <span class="st">&quot;Medical Treatment&quot;</span>, ]</span>
<span id="cb5-28"><a href="#cb5-28" tabindex="-1"></a></span>
<span id="cb5-29"><a href="#cb5-29" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">nrow</span>(surgery_cases) <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;&amp;</span> <span class="fu">nrow</span>(medical_cases) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb5-30"><a href="#cb5-30" tabindex="-1"></a>  <span class="co"># Surgery expected values</span></span>
<span id="cb5-31"><a href="#cb5-31" tabindex="-1"></a>  surgery_ev_cost <span class="ot">&lt;-</span> <span class="fu">mean</span>(surgery_cases<span class="sc">$</span>cost_surgery <span class="sc">*</span> surgery_cases<span class="sc">$</span>prob_success_surgery <span class="sc">+</span> </span>
<span id="cb5-32"><a href="#cb5-32" tabindex="-1"></a>                         surgery_cases<span class="sc">$</span>cost_complications <span class="sc">*</span> surgery_cases<span class="sc">$</span>prob_complications)</span>
<span id="cb5-33"><a href="#cb5-33" tabindex="-1"></a>  </span>
<span id="cb5-34"><a href="#cb5-34" tabindex="-1"></a>  surgery_ev_utility <span class="ot">&lt;-</span> <span class="fu">mean</span>(surgery_cases<span class="sc">$</span>utility_success <span class="sc">*</span> surgery_cases<span class="sc">$</span>prob_success_surgery <span class="sc">+</span> </span>
<span id="cb5-35"><a href="#cb5-35" tabindex="-1"></a>                            surgery_cases<span class="sc">$</span>utility_failure <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> surgery_cases<span class="sc">$</span>prob_success_surgery))</span>
<span id="cb5-36"><a href="#cb5-36" tabindex="-1"></a>  </span>
<span id="cb5-37"><a href="#cb5-37" tabindex="-1"></a>  <span class="co"># Medical treatment expected values  </span></span>
<span id="cb5-38"><a href="#cb5-38" tabindex="-1"></a>  medical_ev_cost <span class="ot">&lt;-</span> <span class="fu">mean</span>(medical_cases<span class="sc">$</span>cost_medical <span class="sc">*</span> medical_cases<span class="sc">$</span>prob_success_medical)</span>
<span id="cb5-39"><a href="#cb5-39" tabindex="-1"></a>  </span>
<span id="cb5-40"><a href="#cb5-40" tabindex="-1"></a>  medical_ev_utility <span class="ot">&lt;-</span> <span class="fu">mean</span>(medical_cases<span class="sc">$</span>utility_success <span class="sc">*</span> medical_cases<span class="sc">$</span>prob_success_medical <span class="sc">+</span> </span>
<span id="cb5-41"><a href="#cb5-41" tabindex="-1"></a>                            medical_cases<span class="sc">$</span>utility_failure <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> medical_cases<span class="sc">$</span>prob_success_medical))</span>
<span id="cb5-42"><a href="#cb5-42" tabindex="-1"></a>  </span>
<span id="cb5-43"><a href="#cb5-43" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Expected Value Analysis:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb5-44"><a href="#cb5-44" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Surgery - Expected Cost: $&quot;</span>, <span class="fu">round</span>(surgery_ev_cost, <span class="dv">0</span>), </span>
<span id="cb5-45"><a href="#cb5-45" tabindex="-1"></a>      <span class="st">&quot;, Expected Utility: &quot;</span>, <span class="fu">round</span>(surgery_ev_utility, <span class="dv">3</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb5-46"><a href="#cb5-46" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Medical - Expected Cost: $&quot;</span>, <span class="fu">round</span>(medical_ev_cost, <span class="dv">0</span>), </span>
<span id="cb5-47"><a href="#cb5-47" tabindex="-1"></a>      <span class="st">&quot;, Expected Utility: &quot;</span>, <span class="fu">round</span>(medical_ev_utility, <span class="dv">3</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb5-48"><a href="#cb5-48" tabindex="-1"></a>  </span>
<span id="cb5-49"><a href="#cb5-49" tabindex="-1"></a>  <span class="co"># Cost-effectiveness ratio</span></span>
<span id="cb5-50"><a href="#cb5-50" tabindex="-1"></a>  <span class="cf">if</span>(medical_ev_utility <span class="sc">!=</span> surgery_ev_utility) {</span>
<span id="cb5-51"><a href="#cb5-51" tabindex="-1"></a>    icer <span class="ot">&lt;-</span> (surgery_ev_cost <span class="sc">-</span> medical_ev_cost) <span class="sc">/</span> (surgery_ev_utility <span class="sc">-</span> medical_ev_utility)</span>
<span id="cb5-52"><a href="#cb5-52" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;Incremental Cost-Effectiveness Ratio: $&quot;</span>, <span class="fu">round</span>(<span class="fu">abs</span>(icer), <span class="dv">0</span>), <span class="st">&quot; per utility unit</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb5-53"><a href="#cb5-53" tabindex="-1"></a>  }</span>
<span id="cb5-54"><a href="#cb5-54" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="markov-model-analysis" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> 3. Markov Model
Analysis</h2>
<p>Long-term disease progression modeling for chronic conditions.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># Markov Model Analysis Example</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="co"># In jamovi: meddecide &gt; Decision &gt; Decision Tree Graph (Markov Model Tree)</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="co"># Using markov decision data</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="fu">data</span>(markov_decision_data)</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Markov Model Analysis Example - Chronic Disease Management</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;=========================================================</span><span class="sc">\n\n</span><span class="st">&quot;</span>)</span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="co"># Treatment strategy comparison</span></span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a>strategy_summary <span class="ot">&lt;-</span> markov_decision_data <span class="sc">%&gt;%</span></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a>  <span class="fu">group_by</span>(treatment_strategy) <span class="sc">%&gt;%</span></span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a>    <span class="at">n_states =</span> <span class="fu">n</span>(),</span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a>    <span class="at">mean_healthy_to_sick =</span> <span class="fu">round</span>(<span class="fu">mean</span>(prob_healthy_to_sick), <span class="dv">4</span>),</span>
<span id="cb6-16"><a href="#cb6-16" tabindex="-1"></a>    <span class="at">mean_sick_to_recovered =</span> <span class="fu">round</span>(<span class="fu">mean</span>(prob_sick_to_recovered), <span class="dv">4</span>),</span>
<span id="cb6-17"><a href="#cb6-17" tabindex="-1"></a>    <span class="at">annual_cost_healthy =</span> <span class="fu">round</span>(<span class="fu">mean</span>(cost_healthy_state), <span class="dv">0</span>),</span>
<span id="cb6-18"><a href="#cb6-18" tabindex="-1"></a>    <span class="at">annual_cost_sick =</span> <span class="fu">round</span>(<span class="fu">mean</span>(cost_sick_state), <span class="dv">0</span>),</span>
<span id="cb6-19"><a href="#cb6-19" tabindex="-1"></a>    <span class="at">annual_utility_healthy =</span> <span class="fu">round</span>(<span class="fu">mean</span>(utility_healthy), <span class="dv">3</span>),</span>
<span id="cb6-20"><a href="#cb6-20" tabindex="-1"></a>    <span class="at">annual_utility_sick =</span> <span class="fu">round</span>(<span class="fu">mean</span>(utility_sick), <span class="dv">3</span>),</span>
<span id="cb6-21"><a href="#cb6-21" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&#39;drop&#39;</span></span>
<span id="cb6-22"><a href="#cb6-22" tabindex="-1"></a>  )</span>
<span id="cb6-23"><a href="#cb6-23" tabindex="-1"></a></span>
<span id="cb6-24"><a href="#cb6-24" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Treatment Strategy Comparison:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb6-25"><a href="#cb6-25" tabindex="-1"></a><span class="fu">print</span>(strategy_summary)</span>
<span id="cb6-26"><a href="#cb6-26" tabindex="-1"></a></span>
<span id="cb6-27"><a href="#cb6-27" tabindex="-1"></a><span class="co"># Transition probability validation</span></span>
<span id="cb6-28"><a href="#cb6-28" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Transition Probability Validation:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb6-29"><a href="#cb6-29" tabindex="-1"></a>sample_state <span class="ot">&lt;-</span> markov_decision_data[<span class="dv">1</span>, ]</span>
<span id="cb6-30"><a href="#cb6-30" tabindex="-1"></a>prob_sum <span class="ot">&lt;-</span> sample_state<span class="sc">$</span>prob_healthy_to_sick <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">-</span> sample_state<span class="sc">$</span>prob_healthy_to_sick)</span>
<span id="cb6-31"><a href="#cb6-31" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Probability sum check (should = 1.0):&quot;</span>, prob_sum, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb6-32"><a href="#cb6-32" tabindex="-1"></a></span>
<span id="cb6-33"><a href="#cb6-33" tabindex="-1"></a><span class="co"># Long-term outcome simulation (simplified)</span></span>
<span id="cb6-34"><a href="#cb6-34" tabindex="-1"></a>time_horizon <span class="ot">&lt;-</span> <span class="dv">10</span>  <span class="co"># years</span></span>
<span id="cb6-35"><a href="#cb6-35" tabindex="-1"></a>initial_cohort <span class="ot">&lt;-</span> <span class="dv">1000</span></span>
<span id="cb6-36"><a href="#cb6-36" tabindex="-1"></a></span>
<span id="cb6-37"><a href="#cb6-37" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Simulated 10-Year Outcomes (per 1000 patients):</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb6-38"><a href="#cb6-38" tabindex="-1"></a><span class="cf">for</span>(strategy <span class="cf">in</span> <span class="fu">unique</span>(markov_decision_data<span class="sc">$</span>treatment_strategy)) {</span>
<span id="cb6-39"><a href="#cb6-39" tabindex="-1"></a>  strategy_data <span class="ot">&lt;-</span> markov_decision_data[markov_decision_data<span class="sc">$</span>treatment_strategy <span class="sc">==</span> strategy, ][<span class="dv">1</span>, ]</span>
<span id="cb6-40"><a href="#cb6-40" tabindex="-1"></a>  </span>
<span id="cb6-41"><a href="#cb6-41" tabindex="-1"></a>  <span class="co"># Simplified simulation</span></span>
<span id="cb6-42"><a href="#cb6-42" tabindex="-1"></a>  annual_transition_rate <span class="ot">&lt;-</span> strategy_data<span class="sc">$</span>prob_healthy_to_sick</span>
<span id="cb6-43"><a href="#cb6-43" tabindex="-1"></a>  annual_recovery_rate <span class="ot">&lt;-</span> strategy_data<span class="sc">$</span>prob_sick_to_recovered</span>
<span id="cb6-44"><a href="#cb6-44" tabindex="-1"></a>  </span>
<span id="cb6-45"><a href="#cb6-45" tabindex="-1"></a>  <span class="co"># Estimate patients progressing over time horizon</span></span>
<span id="cb6-46"><a href="#cb6-46" tabindex="-1"></a>  patients_progressing <span class="ot">&lt;-</span> <span class="fu">round</span>(initial_cohort <span class="sc">*</span> annual_transition_rate <span class="sc">*</span> time_horizon)</span>
<span id="cb6-47"><a href="#cb6-47" tabindex="-1"></a>  </span>
<span id="cb6-48"><a href="#cb6-48" tabindex="-1"></a>  <span class="co"># Estimate total costs</span></span>
<span id="cb6-49"><a href="#cb6-49" tabindex="-1"></a>  total_cost <span class="ot">&lt;-</span> strategy_data<span class="sc">$</span>cost_healthy_state <span class="sc">*</span> time_horizon <span class="sc">+</span> </span>
<span id="cb6-50"><a href="#cb6-50" tabindex="-1"></a>                patients_progressing <span class="sc">*</span> strategy_data<span class="sc">$</span>cost_sick_state</span>
<span id="cb6-51"><a href="#cb6-51" tabindex="-1"></a>  </span>
<span id="cb6-52"><a href="#cb6-52" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="fu">paste0</span>(strategy, <span class="st">&quot;: &quot;</span>, patients_progressing, <span class="st">&quot; progressions, $&quot;</span>, </span>
<span id="cb6-53"><a href="#cb6-53" tabindex="-1"></a>            <span class="fu">round</span>(total_cost, <span class="dv">0</span>), <span class="st">&quot; total cost</span><span class="sc">\n</span><span class="st">&quot;</span>))</span>
<span id="cb6-54"><a href="#cb6-54" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="precision-medicine-decision-analysis" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> 4. Precision Medicine
Decision Analysis</h2>
<p>Biomarker-guided treatment selection with cost-effectiveness
evaluation.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># Precision Medicine Decision Analysis</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="co"># Combining diagnostic testing with treatment selection</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="fu">data</span>(precision_oncology_data)</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Precision Medicine Decision Analysis</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;===================================</span><span class="sc">\n\n</span><span class="st">&quot;</span>)</span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="co"># Biomarker testing strategy evaluation</span></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a>biomarker_strategy <span class="ot">&lt;-</span> precision_oncology_data <span class="sc">%&gt;%</span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a>    <span class="co"># Define testing strategy</span></span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a>    <span class="at">test_egfr =</span> <span class="cn">TRUE</span>,  <span class="co"># Universal EGFR testing</span></span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a>    <span class="at">test_pdl1 =</span> <span class="cn">TRUE</span>,  <span class="co"># Universal PD-L1 testing</span></span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a>    </span>
<span id="cb7-16"><a href="#cb7-16" tabindex="-1"></a>    <span class="co"># Treatment assignment based on biomarkers</span></span>
<span id="cb7-17"><a href="#cb7-17" tabindex="-1"></a>    <span class="at">recommended_treatment =</span> <span class="fu">case_when</span>(</span>
<span id="cb7-18"><a href="#cb7-18" tabindex="-1"></a>      EGFR_Mutation <span class="sc">==</span> <span class="st">&quot;Positive&quot;</span> <span class="sc">~</span> <span class="st">&quot;EGFR_TKI&quot;</span>,</span>
<span id="cb7-19"><a href="#cb7-19" tabindex="-1"></a>      PD_L1_TPS <span class="sc">&gt;=</span> <span class="dv">50</span> <span class="sc">~</span> <span class="st">&quot;Anti_PD1_Mono&quot;</span>,</span>
<span id="cb7-20"><a href="#cb7-20" tabindex="-1"></a>      PD_L1_TPS <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;Combo_Immuno&quot;</span>,</span>
<span id="cb7-21"><a href="#cb7-21" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;Chemotherapy&quot;</span></span>
<span id="cb7-22"><a href="#cb7-22" tabindex="-1"></a>    ),</span>
<span id="cb7-23"><a href="#cb7-23" tabindex="-1"></a>    </span>
<span id="cb7-24"><a href="#cb7-24" tabindex="-1"></a>    <span class="co"># Estimate treatment costs</span></span>
<span id="cb7-25"><a href="#cb7-25" tabindex="-1"></a>    <span class="at">treatment_cost =</span> <span class="fu">case_when</span>(</span>
<span id="cb7-26"><a href="#cb7-26" tabindex="-1"></a>      recommended_treatment <span class="sc">==</span> <span class="st">&quot;EGFR_TKI&quot;</span> <span class="sc">~</span> <span class="dv">120000</span>,</span>
<span id="cb7-27"><a href="#cb7-27" tabindex="-1"></a>      recommended_treatment <span class="sc">==</span> <span class="st">&quot;Anti_PD1_Mono&quot;</span> <span class="sc">~</span> <span class="dv">150000</span>,</span>
<span id="cb7-28"><a href="#cb7-28" tabindex="-1"></a>      recommended_treatment <span class="sc">==</span> <span class="st">&quot;Combo_Immuno&quot;</span> <span class="sc">~</span> <span class="dv">200000</span>,</span>
<span id="cb7-29"><a href="#cb7-29" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">80000</span></span>
<span id="cb7-30"><a href="#cb7-30" tabindex="-1"></a>    ),</span>
<span id="cb7-31"><a href="#cb7-31" tabindex="-1"></a>    </span>
<span id="cb7-32"><a href="#cb7-32" tabindex="-1"></a>    <span class="co"># Testing costs</span></span>
<span id="cb7-33"><a href="#cb7-33" tabindex="-1"></a>    <span class="at">testing_cost =</span> <span class="dv">3000</span>,  <span class="co"># Comprehensive biomarker panel</span></span>
<span id="cb7-34"><a href="#cb7-34" tabindex="-1"></a>    </span>
<span id="cb7-35"><a href="#cb7-35" tabindex="-1"></a>    <span class="co"># Total cost</span></span>
<span id="cb7-36"><a href="#cb7-36" tabindex="-1"></a>    <span class="at">total_cost =</span> treatment_cost <span class="sc">+</span> testing_cost</span>
<span id="cb7-37"><a href="#cb7-37" tabindex="-1"></a>  )</span>
<span id="cb7-38"><a href="#cb7-38" tabindex="-1"></a></span>
<span id="cb7-39"><a href="#cb7-39" tabindex="-1"></a><span class="co"># Strategy outcomes</span></span>
<span id="cb7-40"><a href="#cb7-40" tabindex="-1"></a>strategy_outcomes <span class="ot">&lt;-</span> biomarker_strategy <span class="sc">%&gt;%</span></span>
<span id="cb7-41"><a href="#cb7-41" tabindex="-1"></a>  <span class="fu">group_by</span>(recommended_treatment) <span class="sc">%&gt;%</span></span>
<span id="cb7-42"><a href="#cb7-42" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb7-43"><a href="#cb7-43" tabindex="-1"></a>    <span class="at">n_patients =</span> <span class="fu">n</span>(),</span>
<span id="cb7-44"><a href="#cb7-44" tabindex="-1"></a>    <span class="at">percentage =</span> <span class="fu">round</span>(<span class="fu">n</span>() <span class="sc">/</span> <span class="fu">nrow</span>(biomarker_strategy) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb7-45"><a href="#cb7-45" tabindex="-1"></a>    <span class="at">response_rate =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Treatment_Response <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Complete_Response&quot;</span>, <span class="st">&quot;Partial_Response&quot;</span>)) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb7-46"><a href="#cb7-46" tabindex="-1"></a>    <span class="at">median_pfs =</span> <span class="fu">median</span>(PFS_Months),</span>
<span id="cb7-47"><a href="#cb7-47" tabindex="-1"></a>    <span class="at">mean_cost =</span> <span class="fu">round</span>(<span class="fu">mean</span>(total_cost), <span class="dv">0</span>),</span>
<span id="cb7-48"><a href="#cb7-48" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&#39;drop&#39;</span></span>
<span id="cb7-49"><a href="#cb7-49" tabindex="-1"></a>  )</span>
<span id="cb7-50"><a href="#cb7-50" tabindex="-1"></a></span>
<span id="cb7-51"><a href="#cb7-51" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Biomarker-Guided Treatment Strategy Outcomes:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb7-52"><a href="#cb7-52" tabindex="-1"></a><span class="fu">print</span>(strategy_outcomes)</span>
<span id="cb7-53"><a href="#cb7-53" tabindex="-1"></a></span>
<span id="cb7-54"><a href="#cb7-54" tabindex="-1"></a><span class="co"># Cost-effectiveness summary</span></span>
<span id="cb7-55"><a href="#cb7-55" tabindex="-1"></a>total_responses <span class="ot">&lt;-</span> <span class="fu">sum</span>(biomarker_strategy<span class="sc">$</span>Treatment_Response <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Complete_Response&quot;</span>, <span class="st">&quot;Partial_Response&quot;</span>))</span>
<span id="cb7-56"><a href="#cb7-56" tabindex="-1"></a>total_cost <span class="ot">&lt;-</span> <span class="fu">sum</span>(biomarker_strategy<span class="sc">$</span>total_cost)</span>
<span id="cb7-57"><a href="#cb7-57" tabindex="-1"></a>cost_per_response <span class="ot">&lt;-</span> <span class="fu">round</span>(total_cost <span class="sc">/</span> total_responses, <span class="dv">0</span>)</span>
<span id="cb7-58"><a href="#cb7-58" tabindex="-1"></a></span>
<span id="cb7-59"><a href="#cb7-59" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Overall Strategy Performance:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb7-60"><a href="#cb7-60" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Total patients:&quot;</span>, <span class="fu">nrow</span>(biomarker_strategy), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb7-61"><a href="#cb7-61" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Total responses:&quot;</span>, total_responses, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb7-62"><a href="#cb7-62" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Response rate:&quot;</span>, <span class="fu">round</span>(total_responses <span class="sc">/</span> <span class="fu">nrow</span>(biomarker_strategy) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>), <span class="st">&quot;%</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb7-63"><a href="#cb7-63" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Cost per response: $&quot;</span>, cost_per_response, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb7-64"><a href="#cb7-64" tabindex="-1"></a></span>
<span id="cb7-65"><a href="#cb7-65" tabindex="-1"></a><span class="co"># Compare with standard care (no biomarker testing)</span></span>
<span id="cb7-66"><a href="#cb7-66" tabindex="-1"></a>standard_care_response_rate <span class="ot">&lt;-</span> <span class="dv">25</span>  <span class="co"># Assumed standard chemotherapy response rate</span></span>
<span id="cb7-67"><a href="#cb7-67" tabindex="-1"></a>standard_care_cost <span class="ot">&lt;-</span> <span class="dv">80000</span>  <span class="co"># Standard chemotherapy cost</span></span>
<span id="cb7-68"><a href="#cb7-68" tabindex="-1"></a>cost_per_response_standard <span class="ot">&lt;-</span> <span class="fu">round</span>(standard_care_cost <span class="sc">/</span> (standard_care_response_rate<span class="sc">/</span><span class="dv">100</span>), <span class="dv">0</span>)</span>
<span id="cb7-69"><a href="#cb7-69" tabindex="-1"></a></span>
<span id="cb7-70"><a href="#cb7-70" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Comparison with Standard Care:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb7-71"><a href="#cb7-71" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Standard care cost per response: $&quot;</span>, cost_per_response_standard, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb7-72"><a href="#cb7-72" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Biomarker strategy cost per response: $&quot;</span>, cost_per_response, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb7-73"><a href="#cb7-73" tabindex="-1"></a></span>
<span id="cb7-74"><a href="#cb7-74" tabindex="-1"></a><span class="cf">if</span>(cost_per_response <span class="sc">&lt;</span> cost_per_response_standard) {</span>
<span id="cb7-75"><a href="#cb7-75" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Biomarker strategy is more cost-effective</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb7-76"><a href="#cb7-76" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb7-77"><a href="#cb7-77" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Standard care is more cost-effective</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb7-78"><a href="#cb7-78" tabindex="-1"></a>}</span></code></pre></div>
</div>
</div>
<div id="advanced-applications" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Advanced
Applications</h1>
<div id="agreement-analysis" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Agreement
Analysis</h2>
<p>Evaluate diagnostic test reliability and inter-observer
agreement.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Agreement Analysis Applications</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;==============================</span><span class="sc">\n\n</span><span class="st">&quot;</span>)</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="co"># Load biomarker validation data for agreement analysis</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="fu">data</span>(biomarker_validation_study)</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="co"># Multi-platform agreement</span></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a>platform_agreement <span class="ot">&lt;-</span> biomarker_validation_study <span class="sc">%&gt;%</span></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a>    <span class="at">n_cases =</span> <span class="fu">n</span>(),</span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a>    <span class="at">correlation =</span> <span class="fu">round</span>(<span class="fu">cor</span>(Platform_A_PD_L1, Platform_B_PD_L1), <span class="dv">3</span>),</span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a>    <span class="at">mean_difference =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Platform_B_PD_L1 <span class="sc">-</span> Platform_A_PD_L1), <span class="dv">2</span>),</span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a>    <span class="at">agreement_within_10pct =</span> <span class="fu">round</span>(<span class="fu">mean</span>(<span class="fu">abs</span>(Platform_B_PD_L1 <span class="sc">-</span> Platform_A_PD_L1) <span class="sc">&lt;=</span> <span class="dv">10</span>) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a>    <span class="at">overall_agreement =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Platform_Agreement) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>)</span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a>  )</span>
<span id="cb8-16"><a href="#cb8-16" tabindex="-1"></a></span>
<span id="cb8-17"><a href="#cb8-17" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Multi-Platform Biomarker Agreement:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb8-18"><a href="#cb8-18" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Cases analyzed:&quot;</span>, platform_agreement<span class="sc">$</span>n_cases, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb8-19"><a href="#cb8-19" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Correlation:&quot;</span>, platform_agreement<span class="sc">$</span>correlation, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb8-20"><a href="#cb8-20" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Mean difference:&quot;</span>, platform_agreement<span class="sc">$</span>mean_difference, <span class="st">&quot;%</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb8-21"><a href="#cb8-21" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Agreement within ±10%:&quot;</span>, platform_agreement<span class="sc">$</span>agreement_within_10pct, <span class="st">&quot;%</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb8-22"><a href="#cb8-22" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Overall agreement:&quot;</span>, platform_agreement<span class="sc">$</span>overall_agreement, <span class="st">&quot;%</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb8-23"><a href="#cb8-23" tabindex="-1"></a></span>
<span id="cb8-24"><a href="#cb8-24" tabindex="-1"></a><span class="co"># Clinical significance</span></span>
<span id="cb8-25"><a href="#cb8-25" tabindex="-1"></a><span class="cf">if</span>(platform_agreement<span class="sc">$</span>correlation <span class="sc">&gt;=</span> <span class="fl">0.90</span> <span class="sc">&amp;&amp;</span> platform_agreement<span class="sc">$</span>overall_agreement <span class="sc">&gt;=</span> <span class="dv">85</span>) {</span>
<span id="cb8-26"><a href="#cb8-26" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Conclusion: Platforms show excellent agreement for clinical use</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb8-27"><a href="#cb8-27" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb8-28"><a href="#cb8-28" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Conclusion: Platform harmonization may be needed</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb8-29"><a href="#cb8-29" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="power-analysis" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Power Analysis</h2>
<p>Sample size and statistical power calculations for diagnostic
studies.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Power Analysis for Diagnostic Studies</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;====================================</span><span class="sc">\n\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="co"># Sample size calculation for ROC analysis</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="co"># Based on AUC difference detection</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>auc_null <span class="ot">&lt;-</span> <span class="fl">0.5</span>      <span class="co"># Null hypothesis (no discrimination)</span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>auc_alternative <span class="ot">&lt;-</span> <span class="fl">0.75</span>  <span class="co"># Alternative hypothesis (good discrimination)</span></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a>alpha <span class="ot">&lt;-</span> <span class="fl">0.05</span>        <span class="co"># Type I error rate</span></span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a>power <span class="ot">&lt;-</span> <span class="fl">0.80</span>        <span class="co"># Desired power</span></span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a><span class="co"># Simplified sample size estimation</span></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a><span class="co"># Using normal approximation for AUC</span></span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a>z_alpha <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(<span class="dv">1</span> <span class="sc">-</span> alpha<span class="sc">/</span><span class="dv">2</span>)  <span class="co"># 1.96 for 95% confidence</span></span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a>z_beta <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(power)         <span class="co"># 0.84 for 80% power</span></span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a></span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a><span class="co"># Approximate sample size (simplified formula)</span></span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a>estimated_n <span class="ot">&lt;-</span> ((z_alpha <span class="sc">+</span> z_beta)<span class="sc">^</span><span class="dv">2</span> <span class="sc">*</span> <span class="dv">2</span>) <span class="sc">/</span> ((auc_alternative <span class="sc">-</span> auc_null)<span class="sc">^</span><span class="dv">2</span> <span class="sc">*</span> <span class="dv">4</span>)</span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a></span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Sample Size Estimation for ROC Study:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-21"><a href="#cb9-21" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Null AUC:&quot;</span>, auc_null, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-22"><a href="#cb9-22" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Alternative AUC:&quot;</span>, auc_alternative, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>) </span>
<span id="cb9-23"><a href="#cb9-23" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Alpha:&quot;</span>, alpha, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-24"><a href="#cb9-24" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Power:&quot;</span>, power, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-25"><a href="#cb9-25" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Estimated sample size:&quot;</span>, <span class="fu">round</span>(estimated_n), <span class="st">&quot;per group</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-26"><a href="#cb9-26" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Total sample size:&quot;</span>, <span class="fu">round</span>(estimated_n <span class="sc">*</span> <span class="dv">2</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-27"><a href="#cb9-27" tabindex="-1"></a></span>
<span id="cb9-28"><a href="#cb9-28" tabindex="-1"></a><span class="co"># Recommendations</span></span>
<span id="cb9-29"><a href="#cb9-29" tabindex="-1"></a><span class="cf">if</span>(estimated_n <span class="sc">&lt;</span> <span class="dv">50</span>) {</span>
<span id="cb9-30"><a href="#cb9-30" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Recommendation: Small study feasible</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-31"><a href="#cb9-31" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span>(estimated_n <span class="sc">&lt;</span> <span class="dv">200</span>) {</span>
<span id="cb9-32"><a href="#cb9-32" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Recommendation: Moderate-sized study required</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-33"><a href="#cb9-33" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb9-34"><a href="#cb9-34" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Recommendation: Large study required, consider multi-center collaboration</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-35"><a href="#cb9-35" tabindex="-1"></a>}</span></code></pre></div>
</div>
</div>
<div id="integration-with-other-modules" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Integration with Other
Modules</h1>
<p>meddecide works seamlessly with other ClinicoPath modules:</p>
<div id="connection-to-clinicopathdescriptives" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Connection to
ClinicoPathDescriptives</h2>
<ul>
<li>Descriptive statistics inform decision model parameters</li>
<li>Quality metrics validate input data reliability</li>
<li>Baseline characteristics define patient populations</li>
</ul>
</div>
<div id="connection-to-jsurvival" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Connection to
jsurvival</h2>
<ul>
<li>Survival analysis provides time-to-event data for Markov models</li>
<li>Hazard ratios inform transition probabilities</li>
<li>Survival curves validate decision model outcomes</li>
</ul>
</div>
<div id="connection-to-jjstatsplot" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Connection to
jjstatsplot</h2>
<ul>
<li>Statistical plots support decision analysis communication</li>
<li>ROC curves and forest plots enhance interpretation</li>
<li>Sensitivity analysis visualization</li>
</ul>
</div>
</div>
<div id="best-practices" class="section level1" number="6">
<h1><span class="header-section-number">6</span> Best Practices</h1>
<div id="decision-model-development" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Decision Model
Development</h2>
<ol style="list-style-type: decimal">
<li><strong>Problem Definition</strong>: Clearly define the decision
context and alternatives</li>
<li><strong>Model Structure</strong>: Choose appropriate model type
(tree vs. Markov)</li>
<li><strong>Parameter Estimation</strong>: Use high-quality data
sources</li>
<li><strong>Validation</strong>: Test model predictions against
real-world outcomes</li>
<li><strong>Sensitivity Analysis</strong>: Assess parameter uncertainty
impact</li>
</ol>
</div>
<div id="roc-analysis-guidelines" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> ROC Analysis
Guidelines</h2>
<ol style="list-style-type: decimal">
<li><strong>Study Design</strong>: Prospective cohort with appropriate
controls</li>
<li><strong>Sample Size</strong>: Adequate power for clinically
meaningful differences</li>
<li><strong>Cutpoint Selection</strong>: Balance sensitivity and
specificity based on clinical needs</li>
<li><strong>Validation</strong>: Independent validation cohort
required</li>
<li><strong>Clinical Utility</strong>: Demonstrate impact on patient
outcomes</li>
</ol>
</div>
<div id="economic-evaluation" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Economic
Evaluation</h2>
<ol style="list-style-type: decimal">
<li><strong>Perspective</strong>: Clearly state economic perspective
(payer, societal)</li>
<li><strong>Time Horizon</strong>: Appropriate to capture all relevant
costs and benefits</li>
<li><strong>Discounting</strong>: Apply standard discount rates for
future costs/benefits</li>
<li><strong>Uncertainty</strong>: Comprehensive sensitivity and scenario
analysis</li>
<li><strong>Transparency</strong>: Report all assumptions and data
sources</li>
</ol>
</div>
</div>
<div id="conclusion" class="section level1" number="7">
<h1><span class="header-section-number">7</span> Conclusion</h1>
<p>The meddecide module provides comprehensive tools for evidence-based
medical decision making, from simple diagnostic test evaluation to
complex health economic modeling. The integration of traditional
decision analysis with modern precision medicine applications makes it
an essential tool for contemporary healthcare research and practice.</p>
<div id="next-steps" class="section level2" number="7.1">
<h2><span class="header-section-number">7.1</span> Next Steps</h2>
<p>To explore specific applications in detail:</p>
<ul>
<li><strong>Precision Oncology</strong>: See
<code>meddecide-precision-oncology-biomarkers.Rmd</code></li>
<li><strong>ROC Analysis</strong>: See
<code>meddecide-roc-analysis.Rmd</code></li>
<li><strong>Decision Trees</strong>: See
<code>meddecide-decision-tree-examples.Rmd</code></li>
<li><strong>Markov Modeling</strong>: See
<code>meddecide-decision-tree-vs-markov-analysis.Rmd</code></li>
</ul>
</div>
<div id="support-and-resources" class="section level2" number="7.2">
<h2><span class="header-section-number">7.2</span> Support and
Resources</h2>
<ul>
<li><strong>Comprehensive Documentation</strong>: Detailed function
references</li>
<li><strong>Real-World Examples</strong>: Clinical case studies and
applications</li>
<li><strong>Best Practice Guidelines</strong>: Evidence-based
recommendations</li>
<li><strong>Community Support</strong>: Active user forums and expert
guidance</li>
</ul>
<hr />
<p><em>This introduction provides the foundation for using meddecide in
medical decision analysis. Explore the detailed vignettes for specific
techniques and advanced applications.</em></p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
