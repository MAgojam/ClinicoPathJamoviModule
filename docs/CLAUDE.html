<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>CLAUDE.md • ClinicoPath</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="CLAUDE.md"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">ClinicoPath</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3.31</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="dev/index.html"><span class="fa fa-cogs"></span></a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/advanced-topics.html">Advanced Survival Analysis with jsurvival</a></li>
    <li><a class="dropdown-item" href="articles/agepyramid.html">Vignette: Creating an Age Pyramid with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="articles/agreement-analysis.html">Agreement and Reliability</a></li>
    <li><a class="dropdown-item" href="articles/alluvial.html">Vignette: Visualizing Data Flows with Alluvial Diagrams</a></li>
    <li><a class="dropdown-item" href="articles/analysis-gallery.html">Complete Analysis Gallery - All jjstatsplot Functions</a></li>
    <li><a class="dropdown-item" href="articles/benford.html">Vignette: Checking Data Authenticity with Benford's Law</a></li>
    <li><a class="dropdown-item" href="articles/categorical-plots.html">Categorical Plot Functions</a></li>
    <li><a class="dropdown-item" href="articles/clinical-examples.html">Clinical Research Examples with jsurvival</a></li>
    <li><a class="dropdown-item" href="articles/clinicoPathDescriptives-introduction.html">Getting Started with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="articles/continuous-comparisons-vignette.html">Continuous Variable Comparisons</a></li>
    <li><a class="dropdown-item" href="articles/correlations-scatterplots.html">Correlations and Scatter Plots</a></li>
    <li><a class="dropdown-item" href="articles/crosstable.html">Vignette: Generating a Publication-Ready 'Table 1' with crosstable</a></li>
    <li><a class="dropdown-item" href="articles/data-preparation.html">Data Preparation for Survival Analysis</a></li>
    <li><a class="dropdown-item" href="articles/data-preperation.html">Data Preperation for Clinicopathology Histopathology Pathology Research</a></li>
    <li><a class="dropdown-item" href="articles/data-quality-exploration.html">Data Quality Assessment and Exploration</a></li>
    <li><a class="dropdown-item" href="articles/data-summary.html">Summarising Clinicopathological Data</a></li>
    <li><a class="dropdown-item" href="articles/decision-tree-examples.html">Decision Tree and Markov Chain Analysis Examples</a></li>
    <li><a class="dropdown-item" href="articles/decision-tree-vs-markov-analysis.html">Decision Tree vs Markov Chain Analysis: Complete Guide</a></li>
    <li><a class="dropdown-item" href="articles/decisionpanel_advanced.html">Advanced Features and Customization in Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="articles/decisionpanel_clinical.html">Clinical Applications of Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="articles/decisionpanel_optimisation.html">Introduction to Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="articles/decisiontree-analysis-vignette.html">Decision Tree Graph Analysis: Comprehensive Guide and Testing</a></li>
    <li><a class="dropdown-item" href="articles/diagnostic_style_clustering.html">Diagnostic Style Clustering: Identifying Pathologist 'Schools' and Diagnostic Preferences</a></li>
    <li><a class="dropdown-item" href="articles/diagnostic_style_quick_guide.html">Quick Guide: Diagnostic Style Clustering in jamovi</a></li>
    <li><a class="dropdown-item" href="articles/diagnostic-tests.html">Diagnostic Test Evaluation</a></li>
    <li><a class="dropdown-item" href="articles/examples.html">Examples</a></li>
    <li><a class="dropdown-item" href="articles/getting-started.html">Getting Started with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="articles/ihcstats_comprehensive_guide.html">Comprehensive Guide to IHC Expression Analysis with ihcstats</a></li>
    <li><a class="dropdown-item" href="articles/jamovi-user-guide.html">Complete jamovi User Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="articles/jamovi-workflow-examples.html">Jamovi Workflow Examples for Decision Tree and Markov Analysis</a></li>
    <li><a class="dropdown-item" href="articles/jamovi-workflow.html">Using jsurvival in jamovi: Complete Workflow</a></li>
    <li><a class="dropdown-item" href="articles/jjstatsplot-introduction.html">Introduction to jjstatsplot</a></li>
    <li><a class="dropdown-item" href="articles/jsurvival.html">Using jsurvival for Survival Analysis</a></li>
    <li><a class="dropdown-item" href="articles/meddecide-vignettes.html">meddecide: Medical Decision Making in R</a></li>
    <li><a class="dropdown-item" href="articles/medical_decision_tree_guide.html">Medical Decision Tree - Clinical Implementation Guide</a></li>
    <li><a class="dropdown-item" href="articles/module_development_jamovi.html">Module Development for Jamovi</a></li>
    <li><a class="dropdown-item" href="articles/motivation.html">Motivation</a></li>
    <li><a class="dropdown-item" href="articles/nogoldstandard.html">Analyzing Diagnostic Tests without a Gold Standard</a></li>
    <li><a class="dropdown-item" href="articles/pathology_jamovi.html">Using jamovi for the Common Statistical Analysis in Pathology</a></li>
    <li><a class="dropdown-item" href="articles/person-time-analysis.html">Person-Time Analysis in jsurvival Module</a></li>
    <li><a class="dropdown-item" href="articles/pkgnet-report.html">ClinicoPath Package Report, by pkgnet</a></li>
    <li><a class="dropdown-item" href="articles/quick-reference.html">Quick Reference Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="articles/r-programming-guide.html">R Programming Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="articles/reportcat.html">Vignette: Generating Quick Summaries of Categorical Pathology Data</a></li>
    <li><a class="dropdown-item" href="articles/roc-analysis.html">ROC Curve Analysis</a></li>
    <li><a class="dropdown-item" href="articles/stage-migration-analysis.html">Stage Migration Analysis: Understanding the Will Rogers Phenomenon</a></li>
    <li><a class="dropdown-item" href="articles/summarydata.html">Vignette: Descriptive Analysis of Continuous Variables in Clinical Data</a></li>
    <li><a class="dropdown-item" href="articles/swimmerplot.html">Vignette: Creating Advanced Swimmer Plots with Date and Event Handling</a></li>
    <li><a class="dropdown-item" href="articles/tableone.html">Vignette: Generating a 'Table 1' with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="articles/treatment-response-analysis.html">Treatment Response Analysis in Oncology</a></li>
    <li><a class="dropdown-item" href="articles/troubleshooting-faq.html">Troubleshooting Guide and FAQ for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="articles/use-ClinicoPathDescriptives-in-R.html">Use ClinicoPathDescriptives in R</a></li>
    <li><a class="dropdown-item" href="articles/use-jjstatsplot-in-R.html">Use jjstatsplot in R</a></li>
    <li><a class="dropdown-item" href="articles/use-jsurvival-in-R.html">Use jsurvival in R</a></li>
    <li><a class="dropdown-item" href="articles/use-meddecide-in-R.html">Use meddecide in R</a></li>
    <li><a class="dropdown-item" href="articles/users-of-ClinicoPath.html">Users of ClinicoPath</a></li>
    <li><a class="dropdown-item" href="articles/venn.html">Vignette: Visualizing Co-occurrence with Venn &amp; Upset Plots</a></li>
    <li><a class="dropdown-item" href="articles/visualization-gallery.html">Visualization Gallery for Clinical Research</a></li>
    <li><a class="dropdown-item" href="articles/visualization.html">Visualising Clinicopathological Data</a></li>
    <li><a class="dropdown-item" href="articles/waterfall.html">Vignette: Creating Waterfall Plots to Show Patient Response to Therapy</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/serdarbalci"><span class="fa fab fa-twitter fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sbalci/ClinicoPathJamoviModule/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>CLAUDE.md</h1>
      <small class="dont-index">Source: <a href="https://github.com/sbalci/ClinicoPathJamoviModule/blob/HEAD/CLAUDE.md" class="external-link"><code>CLAUDE.md</code></a></small>
    </div>


<div id="claudemd" class="section level1">

<p>This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.</p>
<div class="section level2">
<h2 id="package-overview">Package Overview<a class="anchor" aria-label="anchor" href="#package-overview"></a></h2>
<p>ClinicoPath is a comprehensive jamovi module for clinicopathological research analysis. It provides statistical analysis tools specifically designed for pathology and clinical research, including survival analysis, decision analysis, descriptive statistics, and specialized plots. The project serves as an umbrella package that coordinates multiple sub-modules distributed across separate repositories.</p>
</div>
<div class="section level2">
<h2 id="core-architecture">Core Architecture<a class="anchor" aria-label="anchor" href="#core-architecture"></a></h2>
<div class="section level3">
<h3 id="jamovi-module-structure">Jamovi Module Structure<a class="anchor" aria-label="anchor" href="#jamovi-module-structure"></a></h3>
<p>This is a jamovi R module with a specific 4-file architecture pattern that must be followed for all analyses:</p>
<ul><li>
<strong><code>.b.R</code> files</strong>: Backend implementation classes (e.g., <code>crosstable.b.R</code>, <code>survival.b.R</code>, <code>decisiongraph.b.R</code>)</li>
<li>
<strong><code>.a.yaml</code> files</strong>: Analysis definitions with options/parameters (e.g., <code>crosstable.a.yaml</code>)</li>
<li>
<strong><code>.u.yaml</code> files</strong>: User interface definitions (e.g., <code>crosstable.u.yaml</code>)</li>
<li>
<strong><code>.r.yaml</code> files</strong>: Results/output definitions (e.g., <code>crosstable.r.yaml</code>)</li>
<li>
<strong><code>.h.R</code> files</strong>: Auto-generated header files (compiled from .yaml files)</li>
</ul></div>
<div class="section level3">
<h3 id="key-backend-pattern">Key Backend Pattern<a class="anchor" aria-label="anchor" href="#key-backend-pattern"></a></h3>
<p>All analysis classes inherit from auto-generated base classes and use R6 class system:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">crosstableClass</span> <span class="op">&lt;-</span> <span class="fu">R6</span><span class="fu">::</span><span class="kw"><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6Class</a></span><span class="op">(</span></span>
<span>    <span class="st">"crosstableClass"</span>, </span>
<span>    inherit <span class="op">=</span> <span class="va">crosstableBase</span>,  <span class="co"># Auto-generated from .yaml files</span></span>
<span>    private <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        .init <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span> <span class="va">...</span> <span class="op">}</span>,</span>
<span>        .run <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span> <span class="va">...</span> <span class="op">}</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="main-functional-areas">Main Functional Areas<a class="anchor" aria-label="anchor" href="#main-functional-areas"></a></h3>
<ol style="list-style-type: decimal"><li>
<strong>ClinicoPath Descriptives</strong>: Summary statistics, Table One, cross tables, data checking</li>
<li>
<strong>ClinicoPath Survival</strong>: Survival analysis, Cox regression, Kaplan-Meier, competing risks</li>
<li>
<strong>meddecide</strong>: Medical decision analysis, ROC curves, sensitivity/specificity, diagnostic tests, decision trees with Markov chain modeling</li>
<li>
<strong>JJStatsPlot</strong>: Statistical plots using ggstatsplot wrappers</li>
<li>
<strong>Patient Follow-Up Plots</strong>: Swimmer plots, waterfall plots, treatment response visualization</li>
</ol></div>
<div class="section level3">
<h3 id="advanced-decision-analysis-architecture">Advanced Decision Analysis Architecture<a class="anchor" aria-label="anchor" href="#advanced-decision-analysis-architecture"></a></h3>
<p>The <code>decisiongraph</code> module supports both traditional decision trees and advanced Markov chain models:</p>
<p><strong>Decision Trees</strong>: One-time decisions with immediate outcomes</p>
<ul><li>Acute medical conditions (surgery vs. conservative treatment)</li>
<li>Emergency decisions with clear cost/utility trade-offs</li>
<li>Point-in-time cost-effectiveness analysis</li>
</ul><p><strong>Markov Chain Models</strong>: Long-term disease progression modeling</p>
<ul><li>Chronic disease management with multiple health states</li>
<li>Transition probability matrices for state changes over time</li>
<li>Cohort trace analysis with discounted cost-effectiveness calculations</li>
<li>Multi-cycle analysis for lifetime economic evaluations</li>
</ul><p>The module automatically handles different analysis types based on <code>treeType</code> option (<code>simple</code>, <code>costeffectiveness</code>, <code>markov</code>).</p>
</div>
</div>
<div class="section level2">
<h2 id="development-commands">Development Commands<a class="anchor" aria-label="anchor" href="#development-commands"></a></h2>
<div class="section level3">
<h3 id="testing">Testing<a class="anchor" aria-label="anchor" href="#testing"></a></h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># Run all tests</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"devtools::test()"</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="co"># Run specific test file</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"testthat::test_file('tests/testthat/test-roc.R')"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="building-and-checking">Building and Checking<a class="anchor" aria-label="anchor" href="#building-and-checking"></a></h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Check package</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"devtools::check()"</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co"># Build package</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"devtools::build()"</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="co"># Install development version</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"devtools::install()"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="jamovi-module-development">Jamovi Module Development<a class="anchor" aria-label="anchor" href="#jamovi-module-development"></a></h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># Build jamovi module (.jmo file)</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="co"># This requires jamovi development tools</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"jmvtools::prepare()"</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"devtools::document()"</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"jmvtools::install()"</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co"># Install module in jamovi for testing</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="co"># Copy .jmo file to jamovi modules directory</span></span></code></pre></div>
<p><strong>IMPORTANT</strong>:</p>
<ul><li>Prepare a dataset and vignette for each function.
<ul><li>Make sure the data is comprehensive enough to test all arguments.</li>
<li>Vignette should be explanatory for the clinicians.</li>
</ul></li>
<li>After adding a new function, always ensure <code><a href="https://rdrr.io/pkg/jmvtools/man/prepare.html" class="external-link">jmvtools::prepare()</a></code> and <code><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">devtools::document()</a></code> run without errors to verify module compilation success</li>
<li>Before closing any GitHub issue, always ensure <code><a href="https://rdrr.io/pkg/jmvtools/man/prepare.html" class="external-link">jmvtools::prepare()</a></code> and <code><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">devtools::document()</a></code> run without errors to verify module compilation success.</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="jamovi-r6-module-development-patterns">Jamovi R6 Module Development Patterns<a class="anchor" aria-label="anchor" href="#jamovi-r6-module-development-patterns"></a></h2>
<p>This section documents comprehensive patterns for implementing jamovi modules using R6 classes based on analysis of 100+ existing modules in this project.</p>
<div class="section level3">
<h3 id="core-r6-class-structure">Core R6 Class Structure<a class="anchor" aria-label="anchor" href="#core-r6-class-structure"></a></h3>
<p>All jamovi modules follow this base pattern:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">moduleNameClass</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"jmvcore"</span><span class="op">)</span><span class="op">)</span> <span class="fu">R6</span><span class="fu">::</span><span class="kw"><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6Class</a></span><span class="op">(</span><span class="st">"moduleNameClass"</span>,</span>
<span>    inherit <span class="op">=</span> <span class="va">moduleNameBase</span>,  <span class="co"># Auto-generated from .yaml files</span></span>
<span>    private <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    </span>
<span>        .init <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="co"># Initialization code - runs once when module loads</span></span>
<span>        <span class="op">}</span>,</span>
<span>    </span>
<span>        .run <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="co"># Main analysis code - runs when options change</span></span>
<span>        <span class="op">}</span>,</span>
<span>    </span>
<span>        .plot <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">image</span>, <span class="va">ggtheme</span>, <span class="va">theme</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="co"># Plot generation code - runs for Image results</span></span>
<span>        <span class="op">}</span>,</span>
<span>    </span>
<span>        <span class="co"># Additional private helper functions</span></span>
<span>        .helper_function <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="co"># Custom helper methods</span></span>
<span>        <span class="op">}</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="the-init-function">The .init() Function<a class="anchor" aria-label="anchor" href="#the-init-function"></a></h3>
<p>The <code>.init()</code> function runs once when the module is first loaded and is used for:</p>
<div class="section level4">
<h4 id="id_1-ui-state-management-and-conditional-display">1. UI State Management and Conditional Display<a class="anchor" aria-label="anchor" href="#id_1-ui-state-management-and-conditional-display"></a></h4>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.init</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Control visibility of result components</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">show_advanced</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">advanced_results</span><span class="op">$</span><span class="fu">setVisible</span><span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">advanced_results</span><span class="op">$</span><span class="fu">setVisible</span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  </span>
<span>    <span class="co"># Complex conditional logic</span></span>
<span>    <span class="va">explanatory_len</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">explanatory</span><span class="op">)</span></span>
<span>    <span class="va">contexpl_len</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">contexpl</span><span class="op">)</span></span>
<span>  </span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">explanatory_len</span> <span class="op">&gt;</span> <span class="fl">0</span> <span class="op">||</span> <span class="va">contexpl_len</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot8</span><span class="op">$</span><span class="fu">setSize</span><span class="op">(</span><span class="op">(</span><span class="va">explanatory_len</span> <span class="op">+</span> <span class="va">contexpl_len</span><span class="op">)</span> <span class="op">*</span> <span class="fl">400</span>,</span>
<span>                                   <span class="op">(</span><span class="va">explanatory_len</span> <span class="op">+</span> <span class="va">contexpl_len</span><span class="op">)</span> <span class="op">*</span> <span class="fl">300</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot8</span><span class="op">$</span><span class="fu">setVisible</span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_2-dynamic-plot-sizing-based-on-variables">2. Dynamic Plot Sizing Based on Variables<a class="anchor" aria-label="anchor" href="#id_2-dynamic-plot-sizing-based-on-variables"></a></h4>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.init</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Adjust plot dimensions based on number of selected variables</span></span>
<span>    <span class="va">deplen</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">dep</span><span class="op">)</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot</span><span class="op">$</span><span class="fu">setSize</span><span class="op">(</span><span class="fl">650</span>, <span class="va">deplen</span> <span class="op">*</span> <span class="fl">450</span><span class="op">)</span></span>
<span>  </span>
<span>    <span class="co"># Multi-level sizing</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">grvar</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">mydata</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">data</span></span>
<span>        <span class="va">grvar</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">grvar</span></span>
<span>        <span class="va">num_levels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nlevels.html" class="external-link">nlevels</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">[[</span><span class="va">grvar</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot2</span><span class="op">$</span><span class="fu">setSize</span><span class="op">(</span><span class="va">num_levels</span> <span class="op">*</span> <span class="fl">650</span>, <span class="va">deplen</span> <span class="op">*</span> <span class="fl">450</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_3-table-structure-pre-population">3. Table Structure Pre-population<a class="anchor" aria-label="anchor" href="#id_3-table-structure-pre-population"></a></h4>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.init</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Pre-populate table rows for known structure</span></span>
<span>    <span class="va">cTable</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">cTable</span></span>
<span>  </span>
<span>    <span class="va">cTable</span><span class="op">$</span><span class="fu">addRow</span><span class="op">(</span>rowKey <span class="op">=</span> <span class="st">"Test Positive"</span>,</span>
<span>                  values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>newtest <span class="op">=</span> <span class="st">"Test Positive"</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">cTable</span><span class="op">$</span><span class="fu">addRow</span><span class="op">(</span>rowKey <span class="op">=</span> <span class="st">"Test Negative"</span>, </span>
<span>                  values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>newtest <span class="op">=</span> <span class="st">"Test Negative"</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">cTable</span><span class="op">$</span><span class="fu">addRow</span><span class="op">(</span>rowKey <span class="op">=</span> <span class="st">"Total"</span>, values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>newtest <span class="op">=</span> <span class="st">"Total"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_4-instructions-and-welcome-messages">4. Instructions and Welcome Messages<a class="anchor" aria-label="anchor" href="#id_4-instructions-and-welcome-messages"></a></h4>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.init</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">instructions_html</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span></span>
<span>        <span class="st">"&lt;div style='background-color: #f8f9fa; padding: 15px; border-radius: 5px;'&gt;"</span>,</span>
<span>        <span class="st">"&lt;h4&gt;Module Instructions:&lt;/h4&gt;"</span>,</span>
<span>        <span class="st">"&lt;ul&gt;"</span>,</span>
<span>        <span class="st">"&lt;li&gt;&lt;strong&gt;Step 1:&lt;/strong&gt; Select required variables&lt;/li&gt;"</span>,</span>
<span>        <span class="st">"&lt;li&gt;&lt;strong&gt;Step 2:&lt;/strong&gt; Configure analysis options&lt;/li&gt;"</span>,</span>
<span>        <span class="st">"&lt;li&gt;&lt;strong&gt;Step 3:&lt;/strong&gt; Review results&lt;/li&gt;"</span>,</span>
<span>        <span class="st">"&lt;/ul&gt;"</span>,</span>
<span>        <span class="st">"&lt;/div&gt;"</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">instructions</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="va">instructions_html</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="the-run-function">The .run() Function<a class="anchor" aria-label="anchor" href="#the-run-function"></a></h3>
<p>The <code>.run()</code> function contains the main analysis logic and runs whenever user options change:</p>
<div class="section level4">
<h4 id="id_1-basic-structure-pattern">1. Basic Structure Pattern<a class="anchor" aria-label="anchor" href="#id_1-basic-structure-pattern"></a></h4>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.run</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># 1. Early validation and welcome messages</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">required_var</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">welcome_msg</span> <span class="op">&lt;-</span> <span class="st">"&lt;div&gt;Welcome message with instructions...&lt;/div&gt;"</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">todo</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="va">welcome_msg</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">todo</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="st">""</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  </span>
<span>    <span class="co"># 2. Data validation</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">data</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Data contains no (complete) rows"</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  </span>
<span>    <span class="co"># 3. Package requirements check</span></span>
<span>    <span class="va">required_packages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"package1"</span>, <span class="st">"package2"</span><span class="op">)</span></span>
<span>    <span class="kw">for</span> <span class="op">(</span><span class="va">pkg</span> <span class="kw">in</span> <span class="va">required_packages</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="va">pkg</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="va">error_msg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Package "</span>, <span class="va">pkg</span>, <span class="st">" is required"</span><span class="op">)</span></span>
<span>            <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">error</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="va">error_msg</span><span class="op">)</span></span>
<span>            <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span>        <span class="op">}</span></span>
<span>    <span class="op">}</span></span>
<span>  </span>
<span>    <span class="co"># 4. Get data and options</span></span>
<span>    <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">data</span></span>
<span>    <span class="va">variables</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">variables</span></span>
<span>  </span>
<span>    <span class="co"># 5. Perform analysis</span></span>
<span>    <span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">analyze_data</span><span class="op">(</span><span class="va">dataset</span>, <span class="va">variables</span><span class="op">)</span></span>
<span>  </span>
<span>    <span class="co"># 6. Generate outputs</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">show_table</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">table_html</span> <span class="op">&lt;-</span> <span class="fu">generate_table</span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">table</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="va">table_html</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  </span>
<span>    <span class="co"># 7. Prepare plot data</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">show_plot</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">plot_data</span> <span class="op">&lt;-</span> <span class="fu">prepare_plot_data</span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot</span><span class="op">$</span><span class="fu">setState</span><span class="op">(</span><span class="va">plot_data</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_2-complex-conditional-logic">2. Complex Conditional Logic<a class="anchor" aria-label="anchor" href="#id_2-complex-conditional-logic"></a></h4>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.run</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Multi-level validation</span></span>
<span>    <span class="va">subcondition1a</span> <span class="op">&lt;-</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">outcome</span><span class="op">)</span></span>
<span>    <span class="va">subcondition1b1</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">multievent</span></span>
<span>    <span class="va">subcondition1b2</span> <span class="op">&lt;-</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">dod</span><span class="op">)</span></span>
<span>    <span class="va">subcondition2a</span> <span class="op">&lt;-</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">elapsedtime</span><span class="op">)</span></span>
<span>  </span>
<span>    <span class="va">condition1</span> <span class="op">&lt;-</span> <span class="va">subcondition1a</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="va">subcondition1b1</span> <span class="op">||</span> </span>
<span>                  <span class="va">subcondition1b1</span> <span class="op">&amp;&amp;</span> <span class="va">subcondition1b2</span></span>
<span>    <span class="va">condition2</span> <span class="op">&lt;-</span> <span class="va">subcondition2a</span> <span class="op">&amp;&amp;</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">time_calculated</span></span>
<span>  </span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="op">(</span><span class="va">condition1</span> <span class="op">&amp;&amp;</span> <span class="va">condition2</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">error</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="st">"Please check required options"</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  </span>
<span>    <span class="co"># Conditional analysis paths</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">analysis_type</span> <span class="op">==</span> <span class="st">"overall"</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">overall_analysis</span><span class="op">(</span><span class="va">dataset</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">analysis_type</span> <span class="op">==</span> <span class="st">"stratified"</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">stratified_analysis</span><span class="op">(</span><span class="va">dataset</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="the-plot-function">The .plot() Function<a class="anchor" aria-label="anchor" href="#the-plot-function"></a></h3>
<p>Plot functions generate visualizations for Image result types:</p>
<div class="section level4">
<h4 id="id_1-basic-plot-structure">1. Basic Plot Structure<a class="anchor" aria-label="anchor" href="#id_1-basic-plot-structure"></a></h4>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.plot</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">image</span>, <span class="va">ggtheme</span>, <span class="va">theme</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># 1. Check if plot should be generated</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">show_plot</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  </span>
<span>    <span class="co"># 2. Retrieve plot data from state</span></span>
<span>    <span class="va">results</span> <span class="op">&lt;-</span> <span class="va">image</span><span class="op">$</span><span class="va">state</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  </span>
<span>    <span class="co"># 3. Error checking</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">data</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">'Data contains no (complete) rows'</span><span class="op">)</span></span>
<span>  </span>
<span>    <span class="co"># 4. Create plot</span></span>
<span>    <span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">data</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>        <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>            title <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">plot_title</span>,</span>
<span>            x <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">x_label</span>,</span>
<span>            y <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">y_label</span></span>
<span>        <span class="op">)</span></span>
<span>  </span>
<span>    <span class="co"># 5. Apply theme</span></span>
<span>    <span class="va">plot</span> <span class="op">&lt;-</span> <span class="va">plot</span> <span class="op">+</span> <span class="va">ggtheme</span></span>
<span>  </span>
<span>    <span class="co"># 6. Print and return</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">plot</span><span class="op">)</span></span>
<span>    <span class="cn">TRUE</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_2-multiple-plot-functions">2. Multiple Plot Functions<a class="anchor" aria-label="anchor" href="#id_2-multiple-plot-functions"></a></h4>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Primary plot</span></span>
<span><span class="va">.plot</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">image</span>, <span class="va">ggtheme</span>, <span class="va">theme</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Main visualization</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Secondary plot</span></span>
<span><span class="va">.plot2</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">image2</span>, <span class="va">ggtheme</span>, <span class="va">theme</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Alternative or grouped visualization</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Specialized plots</span></span>
<span><span class="va">.plot3</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">image3</span>, <span class="va">ggtheme</span>, <span class="va">theme</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Additional visualization type</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_3-state-management-for-complex-data">3. State Management for Complex Data<a class="anchor" aria-label="anchor" href="#id_3-state-management-for-complex-data"></a></h4>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># In .run() - prepare plot data</span></span>
<span><span class="va">plotData</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"cleanData"</span> <span class="op">=</span> <span class="va">processed_data</span>,</span>
<span>    <span class="st">"variables"</span> <span class="op">=</span> <span class="va">selected_vars</span>,</span>
<span>    <span class="st">"options"</span> <span class="op">=</span> <span class="va">analysis_options</span>,</span>
<span>    <span class="st">"results"</span> <span class="op">=</span> <span class="va">analysis_results</span></span>
<span><span class="op">)</span></span>
<span><span class="va">image</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot</span></span>
<span><span class="va">image</span><span class="op">$</span><span class="fu">setState</span><span class="op">(</span><span class="va">plotData</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># In .plot() - use stored data</span></span>
<span><span class="va">.plot</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">image</span>, <span class="va">ggtheme</span>, <span class="va">theme</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">plot_data</span> <span class="op">&lt;-</span> <span class="va">image</span><span class="op">$</span><span class="va">state</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">plot_data</span><span class="op">)</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  </span>
<span>    <span class="co"># Access stored components</span></span>
<span>    <span class="va">data</span> <span class="op">&lt;-</span> <span class="va">plot_data</span><span class="op">$</span><span class="va">cleanData</span></span>
<span>    <span class="va">vars</span> <span class="op">&lt;-</span> <span class="va">plot_data</span><span class="op">$</span><span class="va">variables</span></span>
<span>    <span class="va">opts</span> <span class="op">&lt;-</span> <span class="va">plot_data</span><span class="op">$</span><span class="va">options</span></span>
<span>  </span>
<span>    <span class="co"># Generate plot using stored data</span></span>
<span>    <span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu">create_visualization</span><span class="op">(</span><span class="va">data</span>, <span class="va">vars</span>, <span class="va">opts</span><span class="op">)</span></span>
<span>    <span class="va">plot</span> <span class="op">&lt;-</span> <span class="va">plot</span> <span class="op">+</span> <span class="va">ggtheme</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">plot</span><span class="op">)</span></span>
<span>    <span class="cn">TRUE</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="selfoptions-usage-patterns">self$options Usage Patterns<a class="anchor" aria-label="anchor" href="#selfoptions-usage-patterns"></a></h3>
<p>Access user-selected variables and settings through <code>self$options</code>:</p>
<div class="section level4">
<h4 id="id_1-variable-access">1. Variable Access<a class="anchor" aria-label="anchor" href="#id_1-variable-access"></a></h4>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Single variables</span></span>
<span><span class="va">outcome_var</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">outcome</span>           <span class="co"># String - variable name</span></span>
<span><span class="va">group_var</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">group</span>              <span class="co"># String - grouping variable</span></span>
<span></span>
<span><span class="co"># Multiple variables (lists)</span></span>
<span><span class="va">dependent_vars</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">dep</span>           <span class="co"># List - multiple variables</span></span>
<span><span class="va">explanatory_vars</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">explanatory</span> <span class="co"># List - explanatory variables</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_2-option-types">2. Option Types<a class="anchor" aria-label="anchor" href="#id_2-option-types"></a></h4>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Boolean options</span></span>
<span><span class="va">exclude_missing</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">excl</span>         <span class="co"># Boolean - TRUE/FALSE</span></span>
<span><span class="va">show_confidence</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">ci</span>           <span class="co"># Boolean - confidence intervals</span></span>
<span><span class="va">calculate_power</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">power</span>        <span class="co"># Boolean - power analysis</span></span>
<span></span>
<span><span class="co"># String/categorical options</span></span>
<span><span class="va">table_style</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">style</span>            <span class="co"># String - "style1", "style2"</span></span>
<span><span class="va">analysis_method</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">method</span>       <span class="co"># String - analysis method</span></span>
<span><span class="va">output_format</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">format</span>         <span class="co"># String - output format</span></span>
<span></span>
<span><span class="co"># Numeric options</span></span>
<span><span class="va">confidence_level</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">conf_level</span>  <span class="co"># Numeric - 0.95, 0.99</span></span>
<span><span class="va">sample_size</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">n</span>                <span class="co"># Numeric - sample size</span></span>
<span><span class="va">alpha_level</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">alpha</span>            <span class="co"># Numeric - significance level</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_3-complex-conditional-logic">3. Complex Conditional Logic<a class="anchor" aria-label="anchor" href="#id_3-complex-conditional-logic"></a></h4>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Multiple option validation</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">analysis_type</span> <span class="op">==</span> <span class="st">"survival"</span> <span class="op">&amp;&amp;</span> </span>
<span>    <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">time_var</span><span class="op">)</span> <span class="op">&amp;&amp;</span> </span>
<span>    <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">event_var</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>    <span class="co"># Conditional processing based on date type</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">time_format</span> <span class="op">==</span> <span class="st">"ymd"</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">data</span><span class="op">$</span><span class="va">time</span> <span class="op">&lt;-</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">time_var</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">time_format</span> <span class="op">==</span> <span class="st">"mdy"</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">data</span><span class="op">$</span><span class="va">time</span> <span class="op">&lt;-</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">mdy</a></span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">time_var</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  </span>
<span>    <span class="co"># Analysis type conditional logic</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">analysis_type</span> <span class="op">==</span> <span class="st">'overall'</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">overall_survival_analysis</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">analysis_type</span> <span class="op">==</span> <span class="st">'cause_specific'</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">cause_specific_analysis</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="selfresults-usage-patterns">self$results Usage Patterns<a class="anchor" aria-label="anchor" href="#selfresults-usage-patterns"></a></h3>
<p>Control output display and content through <code>self$results</code>:</p>
<div class="section level4">
<h4 id="id_1-content-setting-methods">1. Content Setting Methods<a class="anchor" aria-label="anchor" href="#id_1-content-setting-methods"></a></h4>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># HTML content</span></span>
<span><span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">instructions</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="va">html_content</span><span class="op">)</span></span>
<span><span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">summary</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="va">text_summary</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Table content</span></span>
<span><span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">main_table</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="va">formatted_table</span><span class="op">)</span></span>
<span><span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">statistics</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="va">stats_table</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot state (for images)</span></span>
<span><span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot</span><span class="op">$</span><span class="fu">setState</span><span class="op">(</span><span class="va">plot_data</span><span class="op">)</span></span>
<span><span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot2</span><span class="op">$</span><span class="fu">setState</span><span class="op">(</span><span class="va">secondary_plot_data</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_2-visibility-control">2. Visibility Control<a class="anchor" aria-label="anchor" href="#id_2-visibility-control"></a></h4>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Conditional visibility</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">show_advanced</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">advanced_results</span><span class="op">$</span><span class="fu">setVisible</span><span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">advanced_results</span><span class="op">$</span><span class="fu">setVisible</span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Hide elements when conditions not met</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">analysis_failed</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">main_table</span><span class="op">$</span><span class="fu">setVisible</span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot</span><span class="op">$</span><span class="fu">setVisible</span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">todo</span><span class="op">$</span><span class="fu">setVisible</span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_3-dynamic-sizing">3. Dynamic Sizing<a class="anchor" aria-label="anchor" href="#id_3-dynamic-sizing"></a></h4>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot sizing based on data</span></span>
<span><span class="va">num_variables</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">variables</span><span class="op">)</span></span>
<span><span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot</span><span class="op">$</span><span class="fu">setSize</span><span class="op">(</span><span class="fl">650</span>, <span class="va">num_variables</span> <span class="op">*</span> <span class="fl">450</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Factor-level based sizing</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">group_var</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">num_levels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nlevels.html" class="external-link">nlevels</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">group_var</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot2</span><span class="op">$</span><span class="fu">setSize</span><span class="op">(</span><span class="va">num_levels</span> <span class="op">*</span> <span class="fl">300</span>, <span class="fl">600</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_4-table-management">4. Table Management<a class="anchor" aria-label="anchor" href="#id_4-table-management"></a></h4>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Manual table building</span></span>
<span><span class="va">results_table</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">results_table</span></span>
<span><span class="va">results_table</span><span class="op">$</span><span class="fu">addRow</span><span class="op">(</span>rowKey <span class="op">=</span> <span class="st">"row1"</span>, values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    variable <span class="op">=</span> <span class="st">"Variable 1"</span>,</span>
<span>    n <span class="op">=</span> <span class="fl">100</span>,</span>
<span>    mean <span class="op">=</span> <span class="fl">25.5</span>,</span>
<span>    sd <span class="op">=</span> <span class="fl">4.2</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Dynamic table population</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">results_data</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">results_table</span><span class="op">$</span><span class="fu">addRow</span><span class="op">(</span>rowKey <span class="op">=</span> <span class="va">i</span>, values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">results_data</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Single row updates</span></span>
<span><span class="va">results_table</span><span class="op">$</span><span class="fu">setRow</span><span class="op">(</span>rowKey <span class="op">=</span> <span class="st">"summary"</span>, values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    total_n <span class="op">=</span> <span class="va">total_sample</span>,</span>
<span>    overall_mean <span class="op">=</span> <span class="va">grand_mean</span>,</span>
<span>    p_value <span class="op">=</span> <span class="va">significance_test</span><span class="op">$</span><span class="va">p.value</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_5-advanced-content-management">5. Advanced Content Management<a class="anchor" aria-label="anchor" href="#id_5-advanced-content-management"></a></h4>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Conditional content with rich HTML</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">required_var</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">welcome_html</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">    &lt;div style='background-color: #e8f5e8; padding: 20px; border-radius: 8px;'&gt;</span></span>
<span><span class="st">        &lt;h3&gt;Welcome to Analysis Module&lt;/h3&gt;</span></span>
<span><span class="st">        &lt;p&gt;&lt;strong&gt;Instructions:&lt;/strong&gt;&lt;/p&gt;</span></span>
<span><span class="st">        &lt;ul&gt;</span></span>
<span><span class="st">            &lt;li&gt;Select required variables&lt;/li&gt;</span></span>
<span><span class="st">            &lt;li&gt;Configure analysis options&lt;/li&gt;</span></span>
<span><span class="st">            &lt;li&gt;Review results and interpretations&lt;/li&gt;</span></span>
<span><span class="st">        &lt;/ul&gt;</span></span>
<span><span class="st">    &lt;/div&gt;"</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">instructions</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="va">welcome_html</span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">instructions</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="st">""</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Multiple output formats based on user choice</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">output_style</span> <span class="op">==</span> <span class="st">"detailed"</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">detailed_table</span> <span class="op">&lt;-</span> <span class="fu">generate_detailed_output</span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">detailed_output</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="va">detailed_table</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">output_style</span> <span class="op">==</span> <span class="st">"summary"</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">summary_table</span> <span class="op">&lt;-</span> <span class="fu">generate_summary_output</span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">summary_output</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="va">summary_table</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="private-functions-and-data-storage">private$ Functions and Data Storage<a class="anchor" aria-label="anchor" href="#private-functions-and-data-storage"></a></h3>
<p>Use private functions for helper methods and internal data storage:</p>
<div class="section level4">
<h4 id="id_1-helper-functions">1. Helper Functions<a class="anchor" aria-label="anchor" href="#id_1-helper-functions"></a></h4>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">private</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    .run <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="co"># Main run function</span></span>
<span>        <span class="va">processed_data</span> <span class="op">&lt;-</span> <span class="va">private</span><span class="op">$</span><span class="fu">.process_data</span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">data</span><span class="op">)</span></span>
<span>        <span class="va">results</span> <span class="op">&lt;-</span> <span class="va">private</span><span class="op">$</span><span class="fu">.perform_analysis</span><span class="op">(</span><span class="va">processed_data</span><span class="op">)</span></span>
<span>        <span class="va">private</span><span class="op">$</span><span class="fu">.generate_outputs</span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span>    <span class="op">}</span>,</span>
<span>  </span>
<span>    .process_data <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">raw_data</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="co"># Data cleaning and preparation</span></span>
<span>        <span class="va">clean_data</span> <span class="op">&lt;-</span> <span class="va">raw_data</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>            <span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/clean_names.html" class="external-link">clean_names</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>            <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">outcome</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>            <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>processed_var <span class="op">=</span> <span class="fu">transform_variable</span><span class="op">(</span><span class="va">var</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">clean_data</span><span class="op">)</span></span>
<span>    <span class="op">}</span>,</span>
<span>  </span>
<span>    .perform_analysis <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="co"># Core analysis logic</span></span>
<span>        <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">method</span> <span class="op">==</span> <span class="st">"parametric"</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">parametric_analysis</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span>        <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>            <span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">nonparametric_analysis</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span>        <span class="op">}</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span>    <span class="op">}</span>,</span>
<span>  </span>
<span>    .generate_outputs <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">results</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="co"># Output generation</span></span>
<span>        <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">show_table</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="va">table_html</span> <span class="op">&lt;-</span> <span class="va">private</span><span class="op">$</span><span class="fu">.create_table</span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span>            <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">main_table</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="va">table_html</span><span class="op">)</span></span>
<span>        <span class="op">}</span></span>
<span>    </span>
<span>        <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">show_plot</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="va">plot_data</span> <span class="op">&lt;-</span> <span class="va">private</span><span class="op">$</span><span class="fu">.prepare_plot_data</span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span>            <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot</span><span class="op">$</span><span class="fu">setState</span><span class="op">(</span><span class="va">plot_data</span><span class="op">)</span></span>
<span>        <span class="op">}</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_2-internal-data-storage">2. Internal Data Storage<a class="anchor" aria-label="anchor" href="#id_2-internal-data-storage"></a></h4>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">private</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="co"># Internal data fields</span></span>
<span>    .processed_data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    .analysis_results <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    .plot_cache <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  </span>
<span>    .init <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="co"># Initialize internal storage</span></span>
<span>        <span class="va">private</span><span class="op">$</span><span class="va">.processed_data</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span>        <span class="va">private</span><span class="op">$</span><span class="va">.analysis_results</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span>        <span class="va">private</span><span class="op">$</span><span class="va">.plot_cache</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span>    <span class="op">}</span>,</span>
<span>  </span>
<span>    .run <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="co"># Store processed data for reuse</span></span>
<span>        <span class="va">private</span><span class="op">$</span><span class="va">.processed_data</span> <span class="op">&lt;-</span> <span class="fu">process_input_data</span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">data</span><span class="op">)</span></span>
<span>        <span class="va">private</span><span class="op">$</span><span class="va">.analysis_results</span> <span class="op">&lt;-</span> <span class="fu">run_analysis</span><span class="op">(</span><span class="va">private</span><span class="op">$</span><span class="va">.processed_data</span><span class="op">)</span></span>
<span>    </span>
<span>        <span class="co"># Generate outputs using stored data</span></span>
<span>        <span class="va">private</span><span class="op">$</span><span class="fu">.update_results</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">}</span>,</span>
<span>  </span>
<span>    .update_results <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="co"># Use stored data to update results</span></span>
<span>        <span class="va">results</span> <span class="op">&lt;-</span> <span class="va">private</span><span class="op">$</span><span class="va">.analysis_results</span></span>
<span>        <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">summary</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="fu">format_summary</span><span class="op">(</span><span class="va">results</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="op">}</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="complete-module-example-pattern">Complete Module Example Pattern<a class="anchor" aria-label="anchor" href="#complete-module-example-pattern"></a></h3>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' @title Module Title</span></span>
<span><span class="co">#' @description Module description</span></span>
<span><span class="co">#' @importFrom R6 R6Class</span></span>
<span><span class="co">#' @import jmvcore</span></span>
<span><span class="co">#' @importFrom package_name function_name</span></span>
<span></span>
<span><span class="va">moduleClass</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"jmvcore"</span><span class="op">)</span><span class="op">)</span> <span class="fu">R6</span><span class="fu">::</span><span class="kw"><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6Class</a></span><span class="op">(</span><span class="st">"moduleClass"</span>,</span>
<span>    inherit <span class="op">=</span> <span class="va">moduleBase</span>,</span>
<span>    private <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    </span>
<span>        <span class="co"># Internal data storage</span></span>
<span>        .results_cache <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>        .plot_data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    </span>
<span>        .init <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="co"># UI setup and sizing</span></span>
<span>            <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">show_advanced</span><span class="op">)</span> <span class="op">{</span></span>
<span>                <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">advanced</span><span class="op">$</span><span class="fu">setVisible</span><span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span>            <span class="op">}</span></span>
<span>        </span>
<span>            <span class="co"># Dynamic plot sizing</span></span>
<span>            <span class="va">n_vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">variables</span><span class="op">)</span></span>
<span>            <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot</span><span class="op">$</span><span class="fu">setSize</span><span class="op">(</span><span class="fl">600</span>, <span class="va">n_vars</span> <span class="op">*</span> <span class="fl">200</span><span class="op">)</span></span>
<span>        <span class="op">}</span>,</span>
<span>    </span>
<span>        .run <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="co"># 1. Validation</span></span>
<span>            <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">variables</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>                <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">instructions</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="va">welcome_message</span><span class="op">)</span></span>
<span>                <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span>            <span class="op">}</span></span>
<span>        </span>
<span>            <span class="co"># 2. Data processing</span></span>
<span>            <span class="va">data</span> <span class="op">&lt;-</span> <span class="va">private</span><span class="op">$</span><span class="fu">.process_data</span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">data</span><span class="op">)</span></span>
<span>        </span>
<span>            <span class="co"># 3. Analysis</span></span>
<span>            <span class="va">results</span> <span class="op">&lt;-</span> <span class="va">private</span><span class="op">$</span><span class="fu">.analyze</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span>        </span>
<span>            <span class="co"># 4. Output generation</span></span>
<span>            <span class="va">private</span><span class="op">$</span><span class="fu">.generate_outputs</span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span>        <span class="op">}</span>,</span>
<span>    </span>
<span>        .plot <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">image</span>, <span class="va">ggtheme</span>, <span class="va">theme</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">show_plot</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span>        </span>
<span>            <span class="va">plot_data</span> <span class="op">&lt;-</span> <span class="va">image</span><span class="op">$</span><span class="va">state</span></span>
<span>            <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">plot_data</span><span class="op">)</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span>        </span>
<span>            <span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu">create_plot</span><span class="op">(</span><span class="va">plot_data</span><span class="op">)</span></span>
<span>            <span class="va">plot</span> <span class="op">&lt;-</span> <span class="va">plot</span> <span class="op">+</span> <span class="va">ggtheme</span></span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">plot</span><span class="op">)</span></span>
<span>            <span class="cn">TRUE</span></span>
<span>        <span class="op">}</span>,</span>
<span>    </span>
<span>        <span class="co"># Helper functions</span></span>
<span>        .process_data <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">raw_data</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="co"># Data cleaning logic</span></span>
<span>            <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">processed_data</span><span class="op">)</span></span>
<span>        <span class="op">}</span>,</span>
<span>    </span>
<span>        .analyze <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="co"># Analysis logic</span></span>
<span>            <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">analysis_results</span><span class="op">)</span></span>
<span>        <span class="op">}</span>,</span>
<span>    </span>
<span>        .generate_outputs <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">results</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="co"># Output generation logic</span></span>
<span>            <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">show_table</span><span class="op">)</span> <span class="op">{</span></span>
<span>                <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">table</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="fu">format_table</span><span class="op">(</span><span class="va">results</span><span class="op">)</span><span class="op">)</span></span>
<span>            <span class="op">}</span></span>
<span>            <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">show_plot</span><span class="op">)</span> <span class="op">{</span></span>
<span>                <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot</span><span class="op">$</span><span class="fu">setState</span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">plot_data</span><span class="op">)</span></span>
<span>            <span class="op">}</span></span>
<span>        <span class="op">}</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>These patterns provide a comprehensive framework for implementing robust, user-friendly jamovi modules with proper error handling, dynamic UI updates, and flexible output generation.</p>
</div>
</div>
<div class="section level2">
<h2 id="jamovi-module-file-structure">Jamovi Module File Structure<a class="anchor" aria-label="anchor" href="#jamovi-module-file-structure"></a></h2>
<p>This section provides comprehensive documentation for the 4-file jamovi module architecture based on analysis of 100+ modules in this project.</p>
<div class="section level3">
<h3 id="analysis-definition-files-ayaml">Analysis Definition Files (.a.yaml)<a class="anchor" aria-label="anchor" href="#analysis-definition-files-ayaml"></a></h3>
<p>Analysis definition files specify module metadata, options, and parameters.</p>
<div class="section level4">
<h4 id="required-header-structure">Required Header Structure<a class="anchor" aria-label="anchor" href="#required-header-structure"></a></h4>
<div class="sourceCode" id="cb26"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> modulename</span><span class="co">                  # Internal module name (no spaces)</span></span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Display Title"</span><span class="co">            # User-visible title</span></span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a><span class="fu">menuGroup</span><span class="kw">:</span><span class="at"> GroupName</span><span class="co">              # Main menu category</span></span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a><span class="fu">menuSubgroup</span><span class="kw">:</span><span class="at"> SubgroupName</span><span class="co">        # Submenu category  </span></span>
<span id="cb26-6"><a href="#cb26-6" tabindex="-1"></a><span class="fu">menuSubtitle</span><span class="kw">:</span><span class="at"> </span><span class="st">"Optional Subtitle"</span><span class="co"> # Additional subtitle</span></span>
<span id="cb26-7"><a href="#cb26-7" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">'0.0.3'</span><span class="co">                  # Module version</span></span>
<span id="cb26-8"><a href="#cb26-8" tabindex="-1"></a><span class="fu">jas</span><span class="kw">:</span><span class="at"> </span><span class="st">'1.2'</span><span class="co">                        # jamovi Analysis Specification version</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="menu-groups-menugroup">Menu Groups (menuGroup)<a class="anchor" aria-label="anchor" href="#menu-groups-menugroup"></a></h4>
<ul><li>
<code>Exploration</code> - Descriptive analysis and EDA</li>
<li>
<code>Survival</code> - Survival analysis modules</li>
<li>
<code>meddecide</code> - Medical decision analysis</li>
<li>
<code>JJStatsPlot</code> - Statistical plotting</li>
<li>
<code>ExplorationD</code> - Draft exploration modules</li>
<li>
<code>SurvivalD</code> - Draft survival modules</li>
<li>
<code>meddecideD</code> - Draft decision modules</li>
<li>
<code>JJStatsPlotD</code> - Draft plotting modules</li>
</ul></div>
<div class="section level4">
<h4 id="description-block-optional">Description Block (Optional)<a class="anchor" aria-label="anchor" href="#description-block-optional"></a></h4>
<div class="sourceCode" id="cb27"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a><span class="fu">  main</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a>    Multi-line description of module functionality.</span>
<span id="cb27-4"><a href="#cb27-4" tabindex="-1"></a>    Supports Markdown formatting.</span>
<span id="cb27-5"><a href="#cb27-5" tabindex="-1"></a><span class="at">  </span><span class="fu">R</span><span class="kw">:</span></span>
<span id="cb27-6"><a href="#cb27-6" tabindex="-1"></a><span class="at">    </span><span class="fu">dontrun</span><span class="kw">:</span><span class="at"> true|false</span><span class="co">           # Whether R examples should be run</span></span>
<span id="cb27-7"><a href="#cb27-7" tabindex="-1"></a><span class="fu">    usage</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb27-8"><a href="#cb27-8" tabindex="-1"></a>      # R code examples</span>
<span id="cb27-9"><a href="#cb27-9" tabindex="-1"></a>      # Shows typical usage patterns</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="options-structure">Options Structure<a class="anchor" aria-label="anchor" href="#options-structure"></a></h4>
<p>All modules must include a data option and analysis-specific options:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> data</span></span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a><span class="at">    </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Data</span></span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a><span class="at">    </span><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a><span class="fu">      R</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a>        The data as a data frame.</span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a><span class="fu">      jamovi</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb28-8"><a href="#cb28-8" tabindex="-1"></a>        The dataset for analysis.</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="option-types-and-properties">Option Types and Properties<a class="anchor" aria-label="anchor" href="#option-types-and-properties"></a></h4>
<p><strong>Variable Types:</strong></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> variable_name</span></span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Display Name"</span></span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Variable</span><span class="co">                  # Single variable</span></span>
<span id="cb29-4"><a href="#cb29-4" tabindex="-1"></a><span class="co">  # OR</span></span>
<span id="cb29-5"><a href="#cb29-5" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Variables</span><span class="co">                 # Multiple variables</span></span>
<span id="cb29-6"><a href="#cb29-6" tabindex="-1"></a><span class="at">  </span><span class="fu">suggested</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">continuous</span><span class="kw">,</span><span class="at"> nominal</span><span class="kw">,</span><span class="at"> ordinal</span><span class="kw">]</span></span>
<span id="cb29-7"><a href="#cb29-7" tabindex="-1"></a><span class="at">  </span><span class="fu">permitted</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">numeric</span><span class="kw">,</span><span class="at"> factor</span><span class="kw">,</span><span class="at"> id</span><span class="kw">]</span></span>
<span id="cb29-8"><a href="#cb29-8" tabindex="-1"></a><span class="at">  </span><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb29-9"><a href="#cb29-9" tabindex="-1"></a><span class="fu">    R</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb29-10"><a href="#cb29-10" tabindex="-1"></a>      R documentation text.</span>
<span id="cb29-11"><a href="#cb29-11" tabindex="-1"></a><span class="fu">    ui</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb29-12"><a href="#cb29-12" tabindex="-1"></a>      UI tooltip text.</span>
<span id="cb29-13"><a href="#cb29-13" tabindex="-1"></a><span class="fu">    jamovi</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb29-14"><a href="#cb29-14" tabindex="-1"></a>      Jamovi-specific description.</span></code></pre></div>
<p><strong>Variable Suggestions:</strong></p>
<ul><li>
<code>continuous</code> - Numeric continuous variables</li>
<li>
<code>nominal</code> - Categorical variables</li>
<li>
<code>ordinal</code> - Ordered categorical variables</li>
</ul><p><strong>Variable Permissions:</strong></p>
<ul><li>
<code>numeric</code> - Numeric data types</li>
<li>
<code>factor</code> - Factor/categorical data types</li>
<li>
<code>id</code> - ID variables for longitudinal connections</li>
</ul><p><strong>List/Dropdown Options:</strong></p>
<div class="sourceCode" id="cb30"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> option_name</span></span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Display Name"</span></span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> List</span></span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a><span class="at">  </span><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb30-5"><a href="#cb30-5" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Display Option 1"</span></span>
<span id="cb30-6"><a href="#cb30-6" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> value1</span></span>
<span id="cb30-7"><a href="#cb30-7" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Display Option 2"</span><span class="at"> </span></span>
<span id="cb30-8"><a href="#cb30-8" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> value2</span></span>
<span id="cb30-9"><a href="#cb30-9" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> value1</span></span></code></pre></div>
<p><strong>Boolean Options:</strong></p>
<div class="sourceCode" id="cb31"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> checkbox_name</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Display Name"</span></span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Bool</span></span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> true|false</span></span></code></pre></div>
<p><strong>Numeric Options:</strong></p>
<div class="sourceCode" id="cb32"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> numeric_name</span></span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Display Name"</span></span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Number</span></span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a><span class="at">  </span><span class="fu">min</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.1</span></span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a><span class="at">  </span><span class="fu">max</span><span class="kw">:</span><span class="at"> </span><span class="fl">5.0</span></span>
<span id="cb32-6"><a href="#cb32-6" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.5</span></span></code></pre></div>
<p><strong>String Options:</strong></p>
<div class="sourceCode" id="cb33"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> text_name</span></span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Display Name"</span></span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> String</span></span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="st">"Default text"</span></span></code></pre></div>
<p><strong>Level Selection (for factors):</strong></p>
<div class="sourceCode" id="cb34"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> level_name</span></span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Select Level"</span></span>
<span id="cb34-3"><a href="#cb34-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Level</span></span>
<span id="cb34-4"><a href="#cb34-4" tabindex="-1"></a><span class="at">  </span><span class="fu">variable</span><span class="kw">:</span><span class="at"> (parent_variable)</span><span class="co">     # References another variable option</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="user-interface-files-uyaml">User Interface Files (.u.yaml)<a class="anchor" aria-label="anchor" href="#user-interface-files-uyaml"></a></h3>
<p>UI files define the visual layout and controls for the analysis interface.</p>
<div class="section level4">
<h4 id="required-header-structure-1">Required Header Structure<a class="anchor" aria-label="anchor" href="#required-header-structure-1"></a></h4>
<div class="sourceCode" id="cb35"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Module Display Title"</span></span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> modulename</span><span class="co">                  # Must match .a.yaml name</span></span>
<span id="cb35-3"><a href="#cb35-3" tabindex="-1"></a><span class="fu">jus</span><span class="kw">:</span><span class="at"> </span><span class="st">'3.0'</span><span class="co">                       # jamovi UI Specification version</span></span>
<span id="cb35-4"><a href="#cb35-4" tabindex="-1"></a><span class="fu">stage</span><span class="kw">:</span><span class="at"> </span><span class="dv">0</span><span class="co">                         # Development stage (0=stable)</span></span>
<span id="cb35-5"><a href="#cb35-5" tabindex="-1"></a><span class="fu">compilerMode</span><span class="kw">:</span><span class="at"> tame|aggressive</span><span class="co">  # UI compilation mode</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="ui-component-types">UI Component Types<a class="anchor" aria-label="anchor" href="#ui-component-types"></a></h4>
<p><strong>VariableSupplier - Variable Selection:</strong></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariableSupplier</span></span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a><span class="at">    </span><span class="fu">persistentItems</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a><span class="at">    </span><span class="fu">stretchFactor</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb36-5"><a href="#cb36-5" tabindex="-1"></a><span class="at">    </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb36-6"><a href="#cb36-6" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> TargetLayoutBox</span></span>
<span id="cb36-7"><a href="#cb36-7" tabindex="-1"></a><span class="at">        </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">"Variable Label"</span></span>
<span id="cb36-8"><a href="#cb36-8" tabindex="-1"></a><span class="at">        </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb36-9"><a href="#cb36-9" tabindex="-1"></a><span class="at">          </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariablesListBox</span></span>
<span id="cb36-10"><a href="#cb36-10" tabindex="-1"></a><span class="at">            </span><span class="fu">name</span><span class="kw">:</span><span class="at"> variable_option_name</span><span class="co">    # Must match .a.yaml option</span></span>
<span id="cb36-11"><a href="#cb36-11" tabindex="-1"></a><span class="at">            </span><span class="fu">maxItemCount</span><span class="kw">:</span><span class="at"> 1|unlimited</span><span class="co">     # 1 for single, omit for multiple</span></span>
<span id="cb36-12"><a href="#cb36-12" tabindex="-1"></a><span class="at">            </span><span class="fu">isTarget</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb36-13"><a href="#cb36-13" tabindex="-1"></a><span class="at">            </span><span class="fu">itemDropBehaviour</span><span class="kw">:</span><span class="at"> overwrite</span><span class="co">  # Optional</span></span></code></pre></div>
<p><strong>Layout Containers:</strong></p>
<div class="sourceCode" id="cb37"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="co"># Basic layout box with margin</span></span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> LayoutBox</span></span>
<span id="cb37-3"><a href="#cb37-3" tabindex="-1"></a><span class="at">  </span><span class="fu">margin</span><span class="kw">:</span><span class="at"> large|normal|small</span></span>
<span id="cb37-4"><a href="#cb37-4" tabindex="-1"></a><span class="at">  </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb37-5"><a href="#cb37-5" tabindex="-1"></a><span class="co">    # Child components here</span></span>
<span id="cb37-6"><a href="#cb37-6" tabindex="-1"></a></span>
<span id="cb37-7"><a href="#cb37-7" tabindex="-1"></a><span class="co"># Collapsible section</span></span>
<span id="cb37-8"><a href="#cb37-8" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CollapseBox</span></span>
<span id="cb37-9"><a href="#cb37-9" tabindex="-1"></a><span class="at">  </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">"Section Title"</span></span>
<span id="cb37-10"><a href="#cb37-10" tabindex="-1"></a><span class="at">  </span><span class="fu">collapsed</span><span class="kw">:</span><span class="at"> true|false</span></span>
<span id="cb37-11"><a href="#cb37-11" tabindex="-1"></a><span class="at">  </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb37-12"><a href="#cb37-12" tabindex="-1"></a><span class="co">    # Child components here</span></span>
<span id="cb37-13"><a href="#cb37-13" tabindex="-1"></a></span>
<span id="cb37-14"><a href="#cb37-14" tabindex="-1"></a><span class="co"># Group box with border</span></span>
<span id="cb37-15"><a href="#cb37-15" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> GroupBox</span></span>
<span id="cb37-16"><a href="#cb37-16" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Group Title"</span></span>
<span id="cb37-17"><a href="#cb37-17" tabindex="-1"></a><span class="at">  </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb37-18"><a href="#cb37-18" tabindex="-1"></a><span class="co">    # Child components here</span></span></code></pre></div>
<p><strong>Form Controls:</strong></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="co"># Dropdown/ComboBox</span></span>
<span id="cb38-2"><a href="#cb38-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> ComboBox</span></span>
<span id="cb38-3"><a href="#cb38-3" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> option_name</span><span class="co">              # Must match .a.yaml option</span></span>
<span id="cb38-4"><a href="#cb38-4" tabindex="-1"></a><span class="at">  </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">"Display Label"</span><span class="co">        # Optional, overrides .a.yaml title</span></span>
<span id="cb38-5"><a href="#cb38-5" tabindex="-1"></a><span class="at">  </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (condition)</span><span class="co">            # Conditional enabling</span></span>
<span id="cb38-6"><a href="#cb38-6" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" tabindex="-1"></a><span class="co"># Checkbox</span></span>
<span id="cb38-8"><a href="#cb38-8" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CheckBox</span></span>
<span id="cb38-9"><a href="#cb38-9" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> option_name</span></span>
<span id="cb38-10"><a href="#cb38-10" tabindex="-1"></a><span class="at">  </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">"Display Label"</span></span>
<span id="cb38-11"><a href="#cb38-11" tabindex="-1"></a><span class="at">  </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (condition)</span></span>
<span id="cb38-12"><a href="#cb38-12" tabindex="-1"></a></span>
<span id="cb38-13"><a href="#cb38-13" tabindex="-1"></a><span class="co"># Text input</span></span>
<span id="cb38-14"><a href="#cb38-14" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> TextBox</span></span>
<span id="cb38-15"><a href="#cb38-15" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> option_name</span></span>
<span id="cb38-16"><a href="#cb38-16" tabindex="-1"></a><span class="at">  </span><span class="fu">format</span><span class="kw">:</span><span class="at"> string|number</span><span class="co">          # Data type validation</span></span>
<span id="cb38-17"><a href="#cb38-17" tabindex="-1"></a><span class="at">  </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">"Display Label"</span></span>
<span id="cb38-18"><a href="#cb38-18" tabindex="-1"></a><span class="at">  </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (condition)</span></span>
<span id="cb38-19"><a href="#cb38-19" tabindex="-1"></a></span>
<span id="cb38-20"><a href="#cb38-20" tabindex="-1"></a><span class="co"># Radio buttons (for List options)</span></span>
<span id="cb38-21"><a href="#cb38-21" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> RadioButton</span></span>
<span id="cb38-22"><a href="#cb38-22" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> option_name</span></span>
<span id="cb38-23"><a href="#cb38-23" tabindex="-1"></a><span class="at">  </span><span class="fu">optionName</span><span class="kw">:</span><span class="at"> parent_option</span></span>
<span id="cb38-24"><a href="#cb38-24" tabindex="-1"></a><span class="at">  </span><span class="fu">optionPart</span><span class="kw">:</span><span class="at"> </span><span class="st">"value"</span></span>
<span id="cb38-25"><a href="#cb38-25" tabindex="-1"></a><span class="at">  </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">"Radio Label"</span></span>
<span id="cb38-26"><a href="#cb38-26" tabindex="-1"></a><span class="at">  </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (condition)</span></span>
<span id="cb38-27"><a href="#cb38-27" tabindex="-1"></a></span>
<span id="cb38-28"><a href="#cb38-28" tabindex="-1"></a><span class="co"># Level selector (for factor variables)</span></span>
<span id="cb38-29"><a href="#cb38-29" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> LevelSelector</span></span>
<span id="cb38-30"><a href="#cb38-30" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> level_option_name</span></span>
<span id="cb38-31"><a href="#cb38-31" tabindex="-1"></a><span class="at">  </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (parent_variable)</span><span class="co">      # Enable when parent variable selected</span></span></code></pre></div>
<p><strong>Labels and Structure:</strong></p>
<div class="sourceCode" id="cb39"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="co"># Static text label</span></span>
<span id="cb39-2"><a href="#cb39-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Label</span></span>
<span id="cb39-3"><a href="#cb39-3" tabindex="-1"></a><span class="at">  </span><span class="fu">label</span><span class="kw">:</span><span class="at"> </span><span class="st">"Section Label"</span></span>
<span id="cb39-4"><a href="#cb39-4" tabindex="-1"></a><span class="at">  </span><span class="fu">fitToGrid</span><span class="kw">:</span><span class="at"> true|false</span></span>
<span id="cb39-5"><a href="#cb39-5" tabindex="-1"></a><span class="at">  </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb39-6"><a href="#cb39-6" tabindex="-1"></a><span class="co">    # Child components here</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="conditional-ui-control-with-enable">Conditional UI Control with <code>enable</code>
<a class="anchor" aria-label="anchor" href="#conditional-ui-control-with-enable"></a></h4>
<p>The <code>enable</code> property allows UI components to be conditionally enabled/disabled based on other option values:</p>
<p><strong>Basic Enable Conditions:</strong></p>
<div class="sourceCode" id="cb40"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="co"># Enable when option is true/selected</span></span>
<span id="cb40-2"><a href="#cb40-2" tabindex="-1"></a><span class="fu">enable</span><span class="kw">:</span><span class="at"> (option_name)</span></span>
<span id="cb40-3"><a href="#cb40-3" tabindex="-1"></a></span>
<span id="cb40-4"><a href="#cb40-4" tabindex="-1"></a><span class="co"># Enable when option has specific value  </span></span>
<span id="cb40-5"><a href="#cb40-5" tabindex="-1"></a><span class="fu">enable</span><span class="kw">:</span><span class="at"> (option_name:value)</span></span>
<span id="cb40-6"><a href="#cb40-6" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" tabindex="-1"></a><span class="co"># Enable when option is false/not selected</span></span>
<span id="cb40-8"><a href="#cb40-8" tabindex="-1"></a><span class="fu">enable</span><span class="kw">:</span><span class="at"> (!option_name)</span></span>
<span id="cb40-9"><a href="#cb40-9" tabindex="-1"></a></span>
<span id="cb40-10"><a href="#cb40-10" tabindex="-1"></a><span class="co"># Enable when variable is selected</span></span>
<span id="cb40-11"><a href="#cb40-11" tabindex="-1"></a><span class="fu">enable</span><span class="kw">:</span><span class="at"> (variable_name)</span></span>
<span id="cb40-12"><a href="#cb40-12" tabindex="-1"></a></span>
<span id="cb40-13"><a href="#cb40-13" tabindex="-1"></a><span class="co"># Multiple conditions with logical operators</span></span>
<span id="cb40-14"><a href="#cb40-14" tabindex="-1"></a><span class="fu">enable</span><span class="kw">:</span><span class="at"> (option1 &amp;&amp; option2)</span><span class="co">          # Both must be true</span></span>
<span id="cb40-15"><a href="#cb40-15" tabindex="-1"></a><span class="fu">enable</span><span class="kw">:</span><span class="at"> (option1 || option2)</span><span class="co">          # Either can be true</span></span>
<span id="cb40-16"><a href="#cb40-16" tabindex="-1"></a><span class="fu">enable</span><span class="kw">:</span><span class="at"> (option1 &amp;&amp; !option2)</span><span class="co">         # First true, second false</span></span>
<span id="cb40-17"><a href="#cb40-17" tabindex="-1"></a><span class="fu">enable</span><span class="kw">:</span><span class="at"> (!option1 &amp;&amp; !option2)</span><span class="co">        # Both false</span></span></code></pre></div>
<p><strong>Common Enable Patterns:</strong></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="co"># Level selectors enabled when parent variable selected</span></span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> LevelSelector</span></span>
<span id="cb41-3"><a href="#cb41-3" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> outcomeLevel</span></span>
<span id="cb41-4"><a href="#cb41-4" tabindex="-1"></a><span class="at">  </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (outcome &amp;&amp; !multievent)</span></span>
<span id="cb41-5"><a href="#cb41-5" tabindex="-1"></a></span>
<span id="cb41-6"><a href="#cb41-6" tabindex="-1"></a><span class="co"># Date inputs enabled when date calculation checkbox checked</span></span>
<span id="cb41-7"><a href="#cb41-7" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariablesListBox</span></span>
<span id="cb41-8"><a href="#cb41-8" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> dxdate</span></span>
<span id="cb41-9"><a href="#cb41-9" tabindex="-1"></a><span class="at">  </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (tint)</span></span>
<span id="cb41-10"><a href="#cb41-10" tabindex="-1"></a></span>
<span id="cb41-11"><a href="#cb41-11" tabindex="-1"></a><span class="co"># Options enabled based on mutually exclusive choices</span></span>
<span id="cb41-12"><a href="#cb41-12" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CheckBox</span></span>
<span id="cb41-13"><a href="#cb41-13" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> confidence_intervals</span></span>
<span id="cb41-14"><a href="#cb41-14" tabindex="-1"></a><span class="at">  </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (!prior_probability)</span></span>
<span id="cb41-15"><a href="#cb41-15" tabindex="-1"></a></span>
<span id="cb41-16"><a href="#cb41-16" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> TextBox</span></span>
<span id="cb41-17"><a href="#cb41-17" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> prior_prob_value</span></span>
<span id="cb41-18"><a href="#cb41-18" tabindex="-1"></a><span class="at">  </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (!confidence_intervals &amp;&amp; prior_probability)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="ui-layout-best-practices">UI Layout Best Practices<a class="anchor" aria-label="anchor" href="#ui-layout-best-practices"></a></h4>
<ol style="list-style-type: decimal"><li>Group related options in <code>CollapseBox</code> or <code>GroupBox</code> containers</li>
<li>Use <code>LayoutBox</code> with appropriate margins for spacing</li>
<li>Place primary variables in main <code>VariableSupplier</code>
</li>
<li>Use descriptive labels for all <code>TargetLayoutBox</code> components</li>
<li>Maintain consistent spacing with <code>margin: large</code>
</li>
<li>Use <code>enable</code> conditions to create logical UI flow and prevent invalid combinations</li>
<li>Always enable <code>LevelSelector</code> components conditionally based on their parent variable</li>
</ol></div>
</div>
<div class="section level3">
<h3 id="results-definition-files-ryaml">Results Definition Files (.r.yaml)<a class="anchor" aria-label="anchor" href="#results-definition-files-ryaml"></a></h3>
<p>Results files define the output structure and types for analysis modules.</p>
<div class="section level4">
<h4 id="required-header-structure-2">Required Header Structure<a class="anchor" aria-label="anchor" href="#required-header-structure-2"></a></h4>
<div class="sourceCode" id="cb42"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> modulename</span><span class="co">                  # Must match .a.yaml name</span></span>
<span id="cb42-3"><a href="#cb42-3" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Results Title"</span></span>
<span id="cb42-4"><a href="#cb42-4" tabindex="-1"></a><span class="fu">jrs</span><span class="kw">:</span><span class="at"> </span><span class="st">'1.1'</span><span class="co">                       # jamovi Results Specification version</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="result-item-types">Result Item Types<a class="anchor" aria-label="anchor" href="#result-item-types"></a></h4>
<p><strong>HTML Output:</strong></p>
<div class="sourceCode" id="cb43"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="fu">items</span><span class="kw">:</span></span>
<span id="cb43-2"><a href="#cb43-2" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> result_name</span></span>
<span id="cb43-3"><a href="#cb43-3" tabindex="-1"></a><span class="at">    </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Display Title"</span></span>
<span id="cb43-4"><a href="#cb43-4" tabindex="-1"></a><span class="at">    </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Html</span></span>
<span id="cb43-5"><a href="#cb43-5" tabindex="-1"></a><span class="at">    </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (show_option)</span><span class="co">        # Conditional visibility</span></span>
<span id="cb43-6"><a href="#cb43-6" tabindex="-1"></a><span class="at">    </span><span class="fu">clearWith</span><span class="kw">:</span><span class="co">                    # Clear when these options change</span></span>
<span id="cb43-7"><a href="#cb43-7" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> option1</span></span>
<span id="cb43-8"><a href="#cb43-8" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> option2</span></span>
<span id="cb43-9"><a href="#cb43-9" tabindex="-1"></a><span class="at">    </span><span class="fu">refs</span><span class="kw">:</span><span class="at"> package_reference</span><span class="co">       # Package citations</span></span></code></pre></div>
<p><strong>Image/Plot Output:</strong></p>
<div class="sourceCode" id="cb44"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> plot_name</span></span>
<span id="cb44-2"><a href="#cb44-2" tabindex="-1"></a><span class="at">    </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Plot Title"</span></span>
<span id="cb44-3"><a href="#cb44-3" tabindex="-1"></a><span class="at">    </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Image</span></span>
<span id="cb44-4"><a href="#cb44-4" tabindex="-1"></a><span class="at">    </span><span class="fu">width</span><span class="kw">:</span><span class="at"> </span><span class="dv">800</span><span class="co">                    # Pixel width</span></span>
<span id="cb44-5"><a href="#cb44-5" tabindex="-1"></a><span class="at">    </span><span class="fu">height</span><span class="kw">:</span><span class="at"> </span><span class="dv">600</span><span class="co">                   # Pixel height</span></span>
<span id="cb44-6"><a href="#cb44-6" tabindex="-1"></a><span class="at">    </span><span class="fu">renderFun</span><span class="kw">:</span><span class="at"> .plot</span><span class="co">             # Backend render function</span></span>
<span id="cb44-7"><a href="#cb44-7" tabindex="-1"></a><span class="at">    </span><span class="fu">clearWith</span><span class="kw">:</span></span>
<span id="cb44-8"><a href="#cb44-8" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> plotting_options</span></span></code></pre></div>
<p><strong>Preformatted Text:</strong></p>
<div class="sourceCode" id="cb45"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> text_output</span></span>
<span id="cb45-2"><a href="#cb45-2" tabindex="-1"></a><span class="at">    </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Text Results"</span></span>
<span id="cb45-3"><a href="#cb45-3" tabindex="-1"></a><span class="at">    </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Preformatted</span></span>
<span id="cb45-4"><a href="#cb45-4" tabindex="-1"></a><span class="at">    </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (show_text)</span></span>
<span id="cb45-5"><a href="#cb45-5" tabindex="-1"></a><span class="at">    </span><span class="fu">clearWith</span><span class="kw">:</span></span>
<span id="cb45-6"><a href="#cb45-6" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> text_options</span></span></code></pre></div>
<p><strong>Table Output:</strong></p>
<div class="sourceCode" id="cb46"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> table_name</span></span>
<span id="cb46-2"><a href="#cb46-2" tabindex="-1"></a><span class="at">    </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Table Title"</span></span>
<span id="cb46-3"><a href="#cb46-3" tabindex="-1"></a><span class="at">    </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Table</span></span>
<span id="cb46-4"><a href="#cb46-4" tabindex="-1"></a><span class="at">    </span><span class="fu">rows</span><span class="kw">:</span><span class="at"> (dynamic_rows)</span></span>
<span id="cb46-5"><a href="#cb46-5" tabindex="-1"></a><span class="at">    </span><span class="fu">clearWith</span><span class="kw">:</span></span>
<span id="cb46-6"><a href="#cb46-6" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> table_options</span></span>
<span id="cb46-7"><a href="#cb46-7" tabindex="-1"></a><span class="at">    </span><span class="fu">columns</span><span class="kw">:</span></span>
<span id="cb46-8"><a href="#cb46-8" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> column1</span></span>
<span id="cb46-9"><a href="#cb46-9" tabindex="-1"></a><span class="at">        </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Column 1"</span></span>
<span id="cb46-10"><a href="#cb46-10" tabindex="-1"></a><span class="at">        </span><span class="fu">type</span><span class="kw">:</span><span class="at"> text|number</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="visibility-conditions">Visibility Conditions<a class="anchor" aria-label="anchor" href="#visibility-conditions"></a></h4>
<p>Results can be conditionally displayed based on option values:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="fu">visible</span><span class="kw">:</span><span class="at"> (option_name)</span><span class="co">              # Show when option is true</span></span>
<span id="cb47-2"><a href="#cb47-2" tabindex="-1"></a><span class="fu">visible</span><span class="kw">:</span><span class="at"> (option_name:value)</span><span class="co">        # Show when option equals value  </span></span>
<span id="cb47-3"><a href="#cb47-3" tabindex="-1"></a><span class="fu">visible</span><span class="kw">:</span><span class="at"> </span><span class="st">"(!option_name)"</span><span class="co">           # Show when option is false</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="dynamic-titles">Dynamic Titles<a class="anchor" aria-label="anchor" href="#dynamic-titles"></a></h4>
<p>Results can use dynamic titles that include option values:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Analysis Results - ${variable_name}`'</span><span class="co">  # Includes variable name</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="package-references">Package References<a class="anchor" aria-label="anchor" href="#package-references"></a></h4>
<div class="sourceCode" id="cb49"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a><span class="fu">refs</span><span class="kw">:</span></span>
<span id="cb49-2"><a href="#cb49-2" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> package_name1</span></span>
<span id="cb49-3"><a href="#cb49-3" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> package_name2</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="backend-implementation-br-integration">Backend Implementation (.b.R) Integration<a class="anchor" aria-label="anchor" href="#backend-implementation-br-integration"></a></h3>
<p>The YAML files generate header files (.h.R) that define R6 classes with:</p>
<ol style="list-style-type: decimal"><li>
<strong>Options Classes</strong> - Generated from .a.yaml option definitions</li>
<li>
<strong>Results Classes</strong> - Generated from .r.yaml item definitions</li>
<li>
<strong>Base Classes</strong> - Combined options + results for inheritance</li>
</ol><p>Backend .b.R files inherit from these auto-generated base classes:</p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">moduleClass</span> <span class="op">&lt;-</span> <span class="fu">R6</span><span class="fu">::</span><span class="kw"><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6Class</a></span><span class="op">(</span></span>
<span>    <span class="st">"moduleClass"</span>,</span>
<span>    inherit <span class="op">=</span> <span class="va">moduleBase</span>,           <span class="co"># Auto-generated from YAML files</span></span>
<span>    private <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        .init <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="co"># Initialization code</span></span>
<span>        <span class="op">}</span>,</span>
<span>        .run <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="co"># Main analysis logic</span></span>
<span>        <span class="op">}</span>,</span>
<span>        .plot <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">image</span>, <span class="va">ggtheme</span>, <span class="va">theme</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="co"># Plot rendering (if module has Image results)</span></span>
<span>        <span class="op">}</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="module-registration">Module Registration<a class="anchor" aria-label="anchor" href="#module-registration"></a></h3>
<p>All modules must be registered in <code>jamovi/0000.yaml</code>:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a><span class="fu">analyses</span><span class="kw">:</span></span>
<span id="cb51-2"><a href="#cb51-2" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Module Display Title"</span></span>
<span id="cb51-3"><a href="#cb51-3" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> modulename</span></span>
<span id="cb51-4"><a href="#cb51-4" tabindex="-1"></a><span class="at">    </span><span class="fu">ns</span><span class="kw">:</span><span class="at"> ClinicoPath</span></span>
<span id="cb51-5"><a href="#cb51-5" tabindex="-1"></a><span class="at">    </span><span class="fu">menuGroup</span><span class="kw">:</span><span class="at"> GroupName</span></span>
<span id="cb51-6"><a href="#cb51-6" tabindex="-1"></a><span class="at">    </span><span class="fu">menuSubgroup</span><span class="kw">:</span><span class="at"> SubgroupName  </span></span>
<span id="cb51-7"><a href="#cb51-7" tabindex="-1"></a><span class="at">    </span><span class="fu">menuTitle</span><span class="kw">:</span><span class="at"> </span><span class="st">"Menu Display Title"</span></span>
<span id="cb51-8"><a href="#cb51-8" tabindex="-1"></a><span class="at">    </span><span class="fu">menuSubtitle</span><span class="kw">:</span><span class="at"> </span><span class="st">"Optional Menu Subtitle"</span></span>
<span id="cb51-9"><a href="#cb51-9" tabindex="-1"></a><span class="fu">    description</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb51-10"><a href="#cb51-10" tabindex="-1"></a>      Brief description for module library.</span>
<span id="cb51-11"><a href="#cb51-11" tabindex="-1"></a><span class="at">    </span><span class="fu">ribbon</span><span class="kw">:</span><span class="at"> analyses</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="compilation-and-validation">Compilation and Validation<a class="anchor" aria-label="anchor" href="#compilation-and-validation"></a></h3>
<ol style="list-style-type: decimal"><li>
<strong>jmvtools::prepare()</strong> - Compiles YAML files to .h.R headers</li>
<li>
<strong>devtools::document()</strong> - Generates R documentation</li>
<li>Both must complete without errors before module deployment</li>
</ol></div>
<div class="section level3">
<h3 id="common-patterns-and-anti-patterns">Common Patterns and Anti-Patterns<a class="anchor" aria-label="anchor" href="#common-patterns-and-anti-patterns"></a></h3>
<p><strong>✅ Good Practices:</strong></p>
<ul><li>Use consistent naming conventions across .a.yaml/.u.yaml/.r.yaml</li>
<li>Group related UI components in logical containers</li>
<li>Provide clear, descriptive titles and labels</li>
<li>Include comprehensive option descriptions</li>
<li>Use appropriate variable suggestions and permissions</li>
<li>Implement conditional result visibility</li>
<li>Clear results when relevant options change</li>
</ul><p><strong>❌ Anti-Patterns:</strong></p>
<ul><li>Mismatched option names between YAML files</li>
<li>Missing required header fields</li>
<li>Invalid variable permission types</li>
<li>Overly complex UI layouts without logical grouping</li>
<li>Missing clearWith specifications for dynamic results</li>
<li>Inconsistent option types between .a.yaml and .u.yaml</li>
</ul></div>
<div class="section level3">
<h3 id="proper-jamovi-module-development-workflow">Proper Jamovi Module Development Workflow<a class="anchor" aria-label="anchor" href="#proper-jamovi-module-development-workflow"></a></h3>
<p><strong>IMPORTANT</strong>: Always use this exact workflow when adding new analyses:</p>
<ol style="list-style-type: decimal"><li>
<p><strong>Start with template generation:</strong></p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a>Rscript <span class="sc">-</span>e <span class="st">"jmvtools::addAnalysis(name = 'functionName')"</span></span></code></pre></div>
<p>This creates initial template files with <code>.u.yaml</code> in aggressive compiler mode.</p>
</li>
<li>
<p><strong>Fill in the analysis definition:</strong></p>
<ul><li>Edit <code>.a.yaml</code> (analysis definition with options/parameters)</li>
<li>Edit <code>.b.R</code> (backend R6 implementation)</li>
</ul></li>
<li>
<p><strong>Auto-populate the UI:</strong></p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" tabindex="-1"></a>Rscript <span class="sc">-</span>e <span class="st">"jmvtools::prepare()"</span></span></code></pre></div>
<p>This auto-populates the <code>.u.yaml</code> file based on the analysis definition.</p>
</li>
<li>
<p><strong>Make UI customizations (if needed):</strong></p>
<ul><li>After auto-generation, make any necessary UI changes to <code>.u.yaml</code>
</li>
<li>The UI file will now be properly synchronized with the analysis definition</li>
</ul></li>
<li>
<p><strong>Verify compilation:</strong></p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a>Rscript <span class="sc">-</span>e <span class="st">"devtools::document()"</span></span></code></pre></div>
</li>
</ol><p>This workflow ensures proper synchronization between analysis definition and UI components, and prevents compilation issues.</p>
</div>
<div class="section level3">
<h3 id="uyaml-file-structure">.u.yaml File Structure<a class="anchor" aria-label="anchor" href="#uyaml-file-structure"></a></h3>
<p>The <code>.u.yaml</code> file defines the user interface for the analysis module. It includes:</p>
<ul><li>
<strong>title</strong>: The name of the analysis module</li>
<li>
<strong>description</strong>: A brief description of the analysis</li>
<li>
<strong>options</strong>: List of user-configurable options (e.g., variables, statistical tests)</li>
<li>
<strong>results</strong>: Output definitions, including tables and plots</li>
</ul><p><code>compilerMode:</code> is either <code>aggressive</code>or <code>tame</code>. If aggressive it generates automatically from the <code>.a.yaml</code> file, if tame it uses specific changes and organisation defined by the user in the <code>.u.yaml</code> file.</p>
</div>
<div class="section level3">
<h3 id="ayaml-file-structure">.a.yaml File Structure<a class="anchor" aria-label="anchor" href="#ayaml-file-structure"></a></h3>
<p>The <code>.a.yaml</code> file defines the analysis parameters and options. It includes:</p>
<ul><li>
<strong>name</strong>: Unique identifier for the analysis</li>
<li>
<strong>title</strong>: Display name in the jamovi interface</li>
<li>
<strong>description</strong>: Detailed description of the analysis</li>
<li>
<strong>options</strong>: List of parameters that users can configure (e.g., variables, statistical methods)</li>
</ul></div>
</div>
</div>
<div class="section level1">
<h1 id="key-dependencies-and-patterns">Key Dependencies and Patterns<a class="anchor" aria-label="anchor" href="#key-dependencies-and-patterns"></a></h1>
<div class="section level3">
<h3 id="core-dependencies">Core Dependencies<a class="anchor" aria-label="anchor" href="#core-dependencies"></a></h3>
<ul><li>
<strong>jmvcore</strong>: Jamovi module framework</li>
<li>
<strong>R6</strong>: Class system for all analysis classes</li>
<li>
<strong>magrittr</strong>: Pipe operators</li>
<li>
<strong>finalfit</strong>: Survival analysis and medical tables</li>
<li>
<strong>ggstatsplot</strong>: Statistical plotting</li>
<li>
<strong>gtsummary</strong>: Summary tables</li>
<li>
<strong>survival/survminer</strong>: Survival analysis</li>
</ul></div>
<div class="section level3">
<h3 id="data-processing-pattern">Data Processing Pattern<a class="anchor" aria-label="anchor" href="#data-processing-pattern"></a></h3>
<p>Most modules follow this pattern:</p>
<ol style="list-style-type: decimal"><li>Clean variable names with <code><a href="https://sfirke.github.io/janitor/reference/clean_names.html" class="external-link">janitor::clean_names()</a></code>
</li>
<li>Set variable labels with <code><a href="https://larmarange.github.io/labelled/reference/var_label.html" class="external-link">labelled::set_variable_labels()</a></code>
</li>
<li>Build formulas dynamically based on user inputs</li>
<li>Apply appropriate statistical tests</li>
<li>Format results for display</li>
</ol></div>
<div class="section level3">
<h3 id="output-types">Output Types<a class="anchor" aria-label="anchor" href="#output-types"></a></h3>
<ul><li>
<strong>HTML tables</strong>: Primary output format for most analyses</li>
<li>
<strong>Plots</strong>: ggplot2-based visualizations</li>
<li>
<strong>Text summaries</strong>: Natural language interpretations</li>
<li>
<strong>Export options</strong>: CSV downloads for some modules</li>
</ul></div>
<div class="section level2">
<h2 id="module-categories-by-menu-structure">Module Categories by Menu Structure<a class="anchor" aria-label="anchor" href="#module-categories-by-menu-structure"></a></h2>
<div class="section level3">
<h3 id="exploration-menu">Exploration Menu<a class="anchor" aria-label="anchor" href="#exploration-menu"></a></h3>
<ul><li>
<strong>ClinicoPath Descriptives</strong>: <code>tableone</code>, <code>summarydata</code>, <code>reportcat</code>, <code>benford</code>
</li>
<li>
<strong>ClinicoPath Comparisons</strong>: <code>crosstable</code>, <code>chisqposttest</code>
</li>
<li>
<strong>ClinicoPath Descriptive Plots</strong>: <code>agepyramid</code>, <code>alluvial</code>, <code>vartree</code>, <code>venn</code>
</li>
<li>
<strong>Patient Follow-Up Plots</strong>: <code>waterfall</code>, <code>swimmerplot</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="survival-menu">Survival Menu<a class="anchor" aria-label="anchor" href="#survival-menu"></a></h3>
<ul><li>
<strong>ClinicoPath Survival</strong>: <code>survival</code>, <code>survivalcont</code>, <code>multisurvival</code>, <code>oddsratio</code>, <code>singlearm</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="meddecide-menu">meddecide Menu<a class="anchor" aria-label="anchor" href="#meddecide-menu"></a></h3>
<ul><li>
<strong>Agreement</strong>: <code>agreement</code>, <code>icccoeff</code>
</li>
<li>
<strong>Decision</strong>: <code>decision</code>, <code>decisioncalculator</code>, <code>decisiongraph</code>, <code>nogoldstandard</code>, <code>decisioncompare</code>
</li>
<li>
<strong>ROC</strong>: <code>psychopdaroc</code>, <code>roc</code>
</li>
<li>
<strong>Power Analysis</strong>: <code>kappasizeci</code>, <code>kappasizefixedn</code>, <code>kappasizepower</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="jjstatsplot-menu">JJStatsPlot Menu<a class="anchor" aria-label="anchor" href="#jjstatsplot-menu"></a></h3>
<ul><li>
<strong>Categorical vs Continuous</strong>: <code>jjbetweenstats</code>, <code>jjwithinstats</code>, <code>jjdotplotstats</code>
</li>
<li>
<strong>Categorical vs Categorical</strong>: <code>jjbarstats</code>, <code>jjpiestats</code>
</li>
<li>
<strong>Continuous vs Continuous</strong>: <code>jjcorrmat</code>, <code>jjscatterstats</code>
</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="common-development-tasks">Common Development Tasks<a class="anchor" aria-label="anchor" href="#common-development-tasks"></a></h2>
<div class="section level3">
<h3 id="adding-new-analysis-module">Adding New Analysis Module<a class="anchor" aria-label="anchor" href="#adding-new-analysis-module"></a></h3>
<ol style="list-style-type: decimal"><li>Create 4 jamovi files: <code>.a.yaml</code>, <code>.u.yaml</code>, <code>.r.yaml</code>, <code>.b.R</code>
</li>
<li>Add entry to <code>jamovi/0000.yaml</code>
</li>
<li>Implement R6 class inheriting from auto-generated base</li>
<li>Add to appropriate menu group/subgroup</li>
</ol></div>
<div class="section level3">
<h3 id="function-naming-convention">Function Naming Convention<a class="anchor" aria-label="anchor" href="#function-naming-convention"></a></h3>
<p><strong>IMPORTANT</strong>: When integrating external R packages, avoid using identical function names that may cause confusion in the R environment.</p>
<p><strong>Naming Strategy</strong>: - Add ‘j’ suffix to distinguish jamovi wrapper functions from original package functions - Example: <code><a href="reference/visr.html">visr()</a></code> → <code><a href="reference/jvisr.html">jvisr()</a></code>, <code>estimate_KM()</code> → <code>jestimate_KM()</code> - This prevents namespace conflicts and makes it clear which functions are jamovi-specific wrappers</p>
<p><strong>Rationale</strong>: - Prevents confusion between original package functions and jamovi wrappers - Maintains clear separation of concerns - Avoids potential conflicts in R environment - Makes debugging easier by clearly identifying function origins</p>
</div>
<div class="section level3">
<h3 id="testing-strategy">Testing Strategy<a class="anchor" aria-label="anchor" href="#testing-strategy"></a></h3>
<ul><li>Unit tests in <code>tests/testthat/</code>
</li>
<li>Test data in <code>data/</code> directory (many .csv, .omv, .rda files)</li>
<li>Example analyses in jamovi format (.omv files)</li>
</ul></div>
<div class="section level3">
<h3 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a></h3>
<ul><li>Function documentation in .R files using roxygen2</li>
<li>Vignettes in <code>vignettes/</code> directory using R Markdown/Quarto</li>
<li>Package website built with pkgdown</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="file-structure-notes">File Structure Notes<a class="anchor" aria-label="anchor" href="#file-structure-notes"></a></h2>
<ul><li>
<code>R/</code>: Backend R code (.b.R analysis classes, utility functions)</li>
<li>
<code>jamovi/</code>: Module definitions (.yaml files)</li>
<li>
<code>data/</code>: Example datasets in multiple formats</li>
<li>
<code>man/</code>: Auto-generated documentation</li>
<li>
<code>inst/extdata/</code>: Additional example data files</li>
<li>
<code>vignettes/</code>: Documentation and tutorials</li>
</ul></div>
<div class="section level2">
<h2 id="module-update-workflow">Module Update Workflow<a class="anchor" aria-label="anchor" href="#module-update-workflow"></a></h2>
<div class="section level3">
<h3 id="automated-module-distribution">Automated Module Distribution<a class="anchor" aria-label="anchor" href="#automated-module-distribution"></a></h3>
<p>This project uses <code>_updateModules.R</code> script to synchronize code across 4 separate repositories:</p>
<ul><li>
<strong>Main repository</strong>: ClinicoPathJamoviModule (umbrella package)</li>
<li>
<strong>jjstatsplot</strong>: Statistical plotting functions using ggstatsplot</li>
<li>
<strong>meddecide</strong>: Medical decision analysis tools (includes decision trees, ROC analysis)</li>
<li>
<strong>jsurvival</strong>: Survival analysis functions</li>
<li>
<strong>ClinicoPathDescriptives</strong>: Descriptive statistics and summary tables</li>
</ul><p>The script automatically:</p>
<ol style="list-style-type: decimal"><li>Updates version numbers across all DESCRIPTION and YAML files</li>
<li>Copies module files (<code>.b.R</code>, <code>.a.yaml</code>, <code>.u.yaml</code>, <code>.r.yaml</code>) to appropriate repos</li>
<li>Updates documentation and installs modules</li>
<li>Commits changes with consistent commit messages</li>
</ol></div>
<div class="section level3">
<h3 id="version-management">Version Management<a class="anchor" aria-label="anchor" href="#version-management"></a></h3>
<ul><li>Version format: <code>X.Y.Z.BUILD</code> (e.g., 0.0.3.24)</li>
<li>Date format: <code>YYYY-MM-DD</code>
</li>
<li>Versions are updated centrally and distributed to all sub-modules</li>
<li>Each module maintains 3-part semantic version in <code>.a.yaml</code> files</li>
</ul></div>
<div class="section level3">
<h3 id="module-distribution-strategy">Module Distribution Strategy<a class="anchor" aria-label="anchor" href="#module-distribution-strategy"></a></h3>
<p><strong>WIP vs Release Modes:</strong></p>
<ul><li>WIP mode: Limited module sets for testing</li>
<li>Release mode: Full module distribution</li>
<li>Controlled by <code>WIP</code> flag in update script</li>
</ul></div>
<div class="section level3">
<h3 id="test-data-generation">Test Data Generation<a class="anchor" aria-label="anchor" href="#test-data-generation"></a></h3>
<ul><li>Test data generation scripts in <code>data-raw/</code> directory (e.g., <code>decisiontree_testdata.R</code>)</li>
<li>CSV versions automatically created in <code>inst/extdata/</code>
</li>
<li>Comprehensive datasets covering all module functionalities</li>
<li>Edge case testing data for robust validation</li>
<li>Specialized datasets for decision analysis:
<ul><li>Medical treatment comparisons (acute conditions)</li>
<li>Pharmaceutical cost-effectiveness studies</li>
<li>Disease progression modeling (chronic conditions)</li>
<li>Screening program evaluations</li>
</ul></li>
</ul></div>
</div>
<div class="section level2">
<h2 id="testing-and-quality-assurance">Testing and Quality Assurance<a class="anchor" aria-label="anchor" href="#testing-and-quality-assurance"></a></h2>
<div class="section level3">
<h3 id="test-structure">Test Structure<a class="anchor" aria-label="anchor" href="#test-structure"></a></h3>
<ul><li>Unit tests in <code>tests/testthat/</code> directory</li>
<li>Test data provided in multiple formats (<code>.csv</code>, <code>.omv</code>, <code>.rda</code>)</li>
<li>Example analyses embedded in jamovi files (<code>.omv</code>)</li>
<li>Key test files: <code>test-decision.R</code>, <code>test-roc.R</code>, <code>test-decisiongraph.R</code>
</li>
<li>Manual testing scripts for complex modules (decision trees, Markov models)</li>
<li>Performance validation for computationally intensive analyses</li>
</ul></div>
<div class="section level3">
<h3 id="data-management">Data Management<a class="anchor" aria-label="anchor" href="#data-management"></a></h3>
<ul><li>Example datasets in <code>data/</code> directory with multiple format support</li>
<li>Comprehensive test data generation scripts in <code>data-raw/</code>
</li>
<li>Each sub-module receives relevant subset of example data</li>
<li>Extensive test datasets for decision tree analysis:
<ul><li>
<code>basic_decision_data</code>: Surgery vs medical treatment comparisons</li>
<li>
<code>markov_decision_data</code>: Multi-state disease progression models</li>
<li>
<code>pharma_decision_data</code>: Pharmaceutical cost-effectiveness studies</li>
<li>
<code>screening_decision_data</code>: Cancer screening program analysis</li>
<li>
<code>appendicitis_decision_tree.csv</code>: Acute treatment decision example</li>
<li>
<code>heart_disease_markov.csv</code>: Chronic disease Markov model example</li>
<li>
<code>minimal_test_data</code>: Basic functionality testing</li>
<li>
<code>edge_case_data</code>: Error handling and boundary conditions</li>
</ul></li>
</ul></div>
</div>
<div class="section level2">
<h2 id="project-distribution-strategy">Project Distribution Strategy<a class="anchor" aria-label="anchor" href="#project-distribution-strategy"></a></h2>
<div class="section level3">
<h3 id="multi-repository-architecture">Multi-Repository Architecture<a class="anchor" aria-label="anchor" href="#multi-repository-architecture"></a></h3>
<p>The main ClinicoPathJamoviModule repository serves as an umbrella package that coordinates four specialized sub-modules:</p>
<ol style="list-style-type: decimal"><li>
<strong>ClinicoPathDescriptives</strong>: Basic statistical summaries and descriptive analysis</li>
<li>
<strong>jsurvival</strong>: Survival analysis (Kaplan-Meier, Cox regression, competing risks)</li>
<li>
<strong>meddecide</strong>: Medical decision analysis (ROC curves, decision trees, diagnostic tests)</li>
<li>
<strong>jjstatsplot</strong>: Statistical plotting using ggstatsplot framework</li>
</ol></div>
<div class="section level3">
<h3 id="installation-methods">Installation Methods<a class="anchor" aria-label="anchor" href="#installation-methods"></a></h3>
<ul><li>
<strong>jamovi Library</strong>: Direct installation through jamovi’s module library</li>
<li>
<strong>Sideload</strong>: Manual <code>.jmo</code> file installation for development versions</li>
<li>
<strong>R Package</strong>: Direct installation via <code><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">devtools::install_github()</a></code>
</li>
<li>
<strong>Development</strong>: Local builds using <code>_updateModules.R</code> script</li>
</ul></div>
<div class="section level3">
<h3 id="version-synchronization">Version Synchronization<a class="anchor" aria-label="anchor" href="#version-synchronization"></a></h3>
<p>All sub-modules maintain synchronized version numbers (currently 0.0.3.24) through the automated update script, ensuring compatibility across the ecosystem.</p>
</div>
</div>
<div class="section level2">
<h2 id="special-development-considerations">Special Development Considerations<a class="anchor" aria-label="anchor" href="#special-development-considerations"></a></h2>
<div class="section level3">
<h3 id="decision-analysis-module-development">Decision Analysis Module Development<a class="anchor" aria-label="anchor" href="#decision-analysis-module-development"></a></h3>
<p>When working on decision tree or Markov chain analyses:</p>
<ol style="list-style-type: decimal"><li>
<strong>Dual Architecture Support</strong>: The <code>decisiongraph</code> module handles both decision trees and Markov models based on the <code>treeType</code> option</li>
<li>
<strong>Mathematical Validation</strong>: Transition matrices must be stochastic (rows sum to 1.0)</li>
<li>
<strong>Performance Considerations</strong>: Markov models with large state spaces or long time horizons require optimization</li>
<li>
<strong>Extensive Test Data</strong>: Use specialized test datasets that cover realistic medical scenarios</li>
</ol></div>
<div class="section level3">
<h3 id="module-synchronization-workflow">Module Synchronization Workflow<a class="anchor" aria-label="anchor" href="#module-synchronization-workflow"></a></h3>
<p>Use <code>_updateModules.R</code> script for coordinated updates across repositories:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" tabindex="-1"></a><span class="co"># Update version and synchronize all modules</span></span>
<span id="cb55-2"><a href="#cb55-2" tabindex="-1"></a><span class="ex">Rscript</span> _updateModules.R</span></code></pre></div>
<p>This script:</p>
<ul><li>Updates version numbers across all DESCRIPTION and YAML files</li>
<li>Distributes module files to appropriate sub-repositories</li>
<li>Handles WIP vs release mode configurations</li>
<li>Maintains version consistency across the ecosystem</li>
</ul></div>
<div class="section level3">
<h3 id="example-analysis-development">Example Analysis Development<a class="anchor" aria-label="anchor" href="#example-analysis-development"></a></h3>
<p>The <code>examples/</code> directory contains comprehensive demonstrations:</p>
<ul><li>
<code>decision_tree_examples.R</code>: Complete comparison of decision trees vs Markov chains</li>
<li>
<code>analysis_interpretation_guide.md</code>: Clinical interpretation guide</li>
<li>
<code>jamovi_workflow_example.R</code>: Step-by-step jamovi usage instructions</li>
</ul></div>
<div class="section level3">
<h3 id="testing-complex-modules">Testing Complex Modules<a class="anchor" aria-label="anchor" href="#testing-complex-modules"></a></h3>
<p>For computationally intensive modules (like Markov models):</p>
<ol style="list-style-type: decimal"><li>Use manual testing scripts when unit tests are insufficient</li>
<li>Validate mathematical properties (e.g., matrix properties, discounting)</li>
<li>Test with multiple realistic datasets</li>
<li>Performance profiling for large models</li>
</ol></div>
</div>
</div>
<div class="section level1">
<h1 id="important-instruction-reminders">important-instruction-reminders<a class="anchor" aria-label="anchor" href="#important-instruction-reminders"></a></h1>
<p>Do what has been asked; nothing more, nothing less. NEVER create files unless they’re absolutely necessary for achieving your goal. ALWAYS prefer editing an existing file to creating a new one. NEVER proactively create documentation files (*.md) or README files. Only create documentation files if explicitly requested by the User.</p>
</div>


  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.serdarbalci.com/" class="external-link">Serdar Balci</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

