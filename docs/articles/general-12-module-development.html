<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Module Development for Jamovi • ClinicoPath</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Module Development for Jamovi">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ClinicoPath</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3.33</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../dev/index.html"><span class="fa fa-cogs"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/clinicopath-descriptives-01-introduction.html">ClinicoPath Descriptives 01: Introduction to Descriptive Statistics for Pathologists</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-02-data-quality.html">Data Quality Assessment and Exploration</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-02-tableone.html">Vignette: Generating a 'Table 1' with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-03-data-summary.html">Summarising Clinicopathological Data</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-03-reportcat.html">Vignette: Generating Quick Summaries of Categorical Pathology Data</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-03-summarydata.html">Vignette: Descriptive Analysis of Continuous Variables in Clinical Data</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-04-benford.html">Vignette: Checking Data Authenticity with Benford's Law</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-04-data-quality-exploration.html">ClinicoPath Descriptives 04: Data Quality Assessment for Clinical Research</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-05-alluvial.html">Vignette: Visualizing Data Flows with Alluvial Diagrams</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-05-digital-pathology.html">Digital Pathology Validation: AI-Assisted Quantification and Method Comparison</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-06-agepyramid.html">Vignette: Creating an Age Pyramid with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-06-molecular-workflow.html">Modern Molecular Pathology Workflow: Integrated Morphologic and Molecular Diagnostics</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-07-ihcstats-comprehensive-guide.html">Comprehensive IHC Analysis Guide</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-08-function-agepyramid.html">Vignette: Creating an Age Pyramid with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-09-crosstable.html">Vignette: Generating a Publication-Ready 'Table 1' with crosstable</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-09-function-alluvial.html">Vignette: Visualizing Data Flows with Alluvial Diagrams</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-10-function-benford.html">Vignette: Checking Data Authenticity with Benford's Law</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-11-function-crosstable.html">Vignette: Generating a Publication-Ready 'Table 1' with crosstable</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-11-swimmerplot.html">Vignette: Creating Advanced Swimmer Plots with Date and Event Handling</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-12-function-reportcat.html">Vignette: Generating Quick Summaries of Categorical Pathology Data</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-13-function-summarydata.html">Vignette: Descriptive Analysis of Continuous Variables in Clinical Data</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-14-function-tableone.html">Vignette: Generating a 'Table 1' with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-15-function-venn.html">Vignette: Visualizing Co-occurrence with Venn &amp; Upset Plots</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-16-data-summary-legacy.html">Summarising Clinicopathological Data</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-17-introduction-legacy.html">ClinicoPathDescriptives: Introduction to Clinical and Pathological Descriptive Statistics</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-18-digital-pathology-validation-legacy.html">Digital Pathology Validation: AI-Assisted Quantification and Method Comparison</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-19-molecular-pathology-workflow-legacy.html">Modern Molecular Pathology Workflow: Integrated Morphologic and Molecular Diagnostics</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-20-ihcstats-comprehensive-legacy.html">Comprehensive Guide to IHC Expression Analysis with ihcstats</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-21-use-in-r-legacy.html">Use ClinicoPathDescriptives in R</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-22-venn-legacy.html">Vignette: Visualizing Co-occurrence with Venn &amp; Upset Plots</a></li>
    <li><a class="dropdown-item" href="../articles/general-01-getting-started.html">Getting Started with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="../articles/general-02-jamovi-user-guide.html">General 01: jamovi User Guide for Statistical Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/general-03-clinical-examples.html">Clinical Research Examples with jsurvival</a></li>
    <li><a class="dropdown-item" href="../articles/general-03-getting-started-alt.html">General 02: Getting Started with Statistical Analysis for Pathologists</a></li>
    <li><a class="dropdown-item" href="../articles/general-04-clinical-workflow.html">Clinical Research Workflow with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="../articles/general-05-jamovi-workflow.html">Using jsurvival in jamovi: Complete Workflow</a></li>
    <li><a class="dropdown-item" href="../articles/general-06-jamovi-workflow-examples.html">Jamovi Workflow Examples for Decision Tree and Markov Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/general-07-pathology-jamovi.html">Using jamovi for the Common Statistical Analysis in Pathology</a></li>
    <li><a class="dropdown-item" href="../articles/general-08-advanced-topics.html">Advanced Survival Analysis with jsurvival</a></li>
    <li><a class="dropdown-item" href="../articles/general-09-analysis-gallery.html">Complete Analysis Gallery - All jjstatsplot Functions</a></li>
    <li><a class="dropdown-item" href="../articles/general-10-visualization-gallery.html">Visualization Gallery for Clinical Research</a></li>
    <li><a class="dropdown-item" href="../articles/general-11-data-preparation.html">Data Preparation for Survival Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/general-12-module-development.html">Module Development for Jamovi</a></li>
    <li><a class="dropdown-item" href="../articles/general-13-quick-reference.html">Quick Reference Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/general-14-r-programming-guide.html">R Programming Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/general-15-troubleshooting-faq.html">Troubleshooting Guide and FAQ for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/general-16-use-clinicopath-in-r.html">Use ClinicoPathDescriptives in R</a></li>
    <li><a class="dropdown-item" href="../articles/general-17-users-of-clinicopath.html">Users of ClinicoPath</a></li>
    <li><a class="dropdown-item" href="../articles/general-18-analysis-gallery-legacy.html">Complete Analysis Gallery - All jjstatsplot Functions</a></li>
    <li><a class="dropdown-item" href="../articles/general-19-clinical-examples-legacy.html">Clinical Research Examples with jsurvival</a></li>
    <li><a class="dropdown-item" href="../articles/general-20-clinical-workflow-legacy.html">Clinical Research Workflow with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="../articles/general-21-visualization-gallery-legacy.html">Visualization Gallery for Clinical Research</a></li>
    <li><a class="dropdown-item" href="../articles/general-22-advanced-topics-legacy.html">Advanced Survival Analysis with jsurvival</a></li>
    <li><a class="dropdown-item" href="../articles/general-23-data-preparation-legacy.html">Data Preparation for Survival Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/general-24-jamovi-user-guide-legacy.html">Complete jamovi User Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/general-25-jamovi-workflow-examples-legacy.html">Jamovi Workflow Examples for Decision Tree and Markov Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/general-26-jamovi-workflow-legacy.html">Using jsurvival in jamovi: Complete Workflow</a></li>
    <li><a class="dropdown-item" href="../articles/general-28-pathology-jamovi-legacy.html">Using jamovi for the Common Statistical Analysis in Pathology</a></li>
    <li><a class="dropdown-item" href="../articles/general-29-quick-reference-legacy.html">Quick Reference Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/general-30-r-programming-guide-legacy.html">R Programming Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/general-31-troubleshooting-faq-legacy.html">Troubleshooting Guide and FAQ for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-01-introduction.html">jjStatsPlot 01: Statistical Visualization for Pathologists</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-02-categorical-plots.html">Categorical Plot Functions</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-03-continuous-comparisons.html">Categorical Plot Functions</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-04-continuous-comparisons-alt.html">Continuous Variable Comparisons</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-05-correlations-scatterplots.html">Correlations and Scatter Plots</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-06-use-in-r.html">Use jjstatsplot in R</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-07-advancedbarplot.html">Advanced Bar Charts - 7 Professional Approaches</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-07-continuous-comparisons-legacy.html">Continuous Variable Comparisons</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-08-advancedraincloud.html">Advanced Raincloud Plots - Enhanced Distribution Visualization</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-08-categorical-plots-legacy.html">Categorical Plot Functions</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-09-advancedtree.html">Advanced Decision Tree Analysis in ClinicoPath</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-09-continuous-comparisons-legacy.html">Categorical Plot Functions</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-10-correlations-scatterplots-legacy.html">Correlations and Scatter Plots</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-11-introduction-legacy.html">jjstatsplot: Statistical Visualization for Clinical Research</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-01-introduction.html">jSurvival 01: Introduction to Survival Analysis for Pathologists</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-02-person-time-analysis.html">Person-Time Analysis in jsurvival Module</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-03-treatment-response.html">Treatment Response Analysis in Oncology</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-04-stage-migration-analysis.html">Stage Migration Analysis: Understanding the Will Rogers Phenomenon</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-05-function-swimmerplot.html">Vignette: Creating Advanced Swimmer Plots with Date and Event Handling</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-06-function-waterfall.html">Vignette: Creating Waterfall Plots to Show Patient Response to Therapy</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-07-use-in-r.html">Use jsurvival in R</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-08-stage-migration-analysis-legacy.html">Stage Migration Analysis: Understanding the Will Rogers Phenomenon</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-09-waterfall-legacy.html">Vignette: Creating Waterfall Plots to Show Patient Response to Therapy</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-10-introduction-legacy.html">jsurvival: Introduction to Survival Analysis for Clinical Research</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-11-person-time-analysis-legacy.html">Person-Time Analysis in jsurvival Module</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-12-treatment-response-analysis-legacy.html">Treatment Response Analysis in Oncology</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-13-use-in-r-legacy.html">Use jsurvival in R</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-01-introduction.html">MedDecide 01: Introduction to Medical Decision Analysis for Pathologists</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-02-comprehensive-guide.html">meddecide: Medical Decision Making in R</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-03-agreement-advanced-features.html">Advanced Features in Interrater Agreement Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-03-agreement-analysis.html">Inter-Rater Agreement and Reliability Analysis in Pathology</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-03-roc-analysis.html">ROC Curve Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-04-decision-tree-guide.html">Medical Decision Tree - Clinical Implementation Guide</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-05-decision-tree-analysis.html">Decision Tree Graph Analysis: Comprehensive Guide and Testing</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-06-decision-tree-vs-markov.html">Decision Tree vs Markov Chain Analysis: Complete Guide</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-07-decision-trees.html">Decision Tree and Markov Chain Analysis Examples</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-08-decision-panel-clinical.html">Clinical Applications of Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-09-decision-panel-advanced.html">Advanced Features and Customization in Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-10-decision-panel-optimization.html">Introduction to Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-11-precision-oncology.html">Precision Oncology: Biomarker-Guided Treatment Selection and Outcome Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-12-nogoldstandard.html">Analyzing Diagnostic Tests without a Gold Standard</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-13-diagnostic-tests.html">Diagnostic Test Evaluation</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-14-diagnostic-style-quick-guide.html">Quick Guide: Diagnostic Style Clustering in jamovi</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-15-diagnostic-style-clustering.html">Diagnostic Style Clustering: Identifying Pathologist 'Schools' and Diagnostic Preferences</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-16-use-in-r.html">Use meddecide in R</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-17-introduction-legacy.html">meddecide: Introduction to Medical Decision Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-18-roc-analysis-legacy.html">ROC Curve Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-19-decisionpanel-advanced-legacy.html">Advanced Features and Customization in Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-20-decisionpanel-clinical-legacy.html">Clinical Applications of Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-21-decisionpanel-optimization-legacy.html">Introduction to Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-22-diagnostic-style-clustering-legacy.html">Diagnostic Style Clustering: Identifying Pathologist 'Schools' and Diagnostic Preferences</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-23-diagnostic-style-quick-guide-legacy.html">Quick Guide: Diagnostic Style Clustering in jamovi</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-24-agreement-analysis-legacy.html">Inter-Rater Agreement and Reliability Analysis in Pathology</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-25-diagnostic-tests-legacy.html">Diagnostic Test Evaluation</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-26-medical-decision-tree-guide-legacy.html">Medical Decision Tree - Clinical Implementation Guide</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-27-nogoldstandard-legacy.html">Analyzing Diagnostic Tests without a Gold Standard</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-28-decision-tree-examples-legacy.html">Decision Tree and Markov Chain Analysis Examples</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-29-decision-tree-vs-markov-analysis-legacy.html">Decision Tree vs Markov Chain Analysis: Complete Guide</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-30-decisiontree-analysis-vignette-legacy.html">Decision Tree Graph Analysis: Comprehensive Guide and Testing</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-31-precision-oncology-biomarkers-legacy.html">Precision Oncology: Biomarker-Guided Treatment Selection and Outcome Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-32-vignettes-legacy.html">meddecide: Medical Decision Making in R</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-33-use-in-r-legacy.html">Use meddecide in R</a></li>
    <li><a class="dropdown-item" href="../articles/module-development-jamovi.html">Module Development for Jamovi</a></li>
    <li><a class="dropdown-item" href="../articles/pkgnet-report.html">ClinicoPath Package Report, by pkgnet</a></li>
    <li><a class="dropdown-item" href="../articles/use-jjstatsplot-in-R.html">Use jjstatsplot in R</a></li>
    <li><a class="dropdown-item" href="../articles/users-of-clinicopath.html">Users of ClinicoPath</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/serdarbalci"><span class="fa fab fa-twitter fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sbalci/ClinicoPathJamoviModule/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Module Development for Jamovi</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sbalci/ClinicoPathJamoviModule/blob/HEAD/vignettes/general-12-module-development.Rmd" class="external-link"><code>vignettes/general-12-module-development.Rmd</code></a></small>
      <div class="d-none name"><code>general-12-module-development.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="a-beginners-guide-to-jamovi-modules-or-jamovi-modules-for-dummies">‘A beginners guide to jamovi modules’ or ‘jamovi modules for
dummies’<a class="anchor" aria-label="anchor" href="#a-beginners-guide-to-jamovi-modules-or-jamovi-modules-for-dummies"></a>
</h2>
<p>Official documentation is here: <a href="https://dev.jamovi.org/" class="external-link uri">https://dev.jamovi.org/</a></p>
<div class="section level3">
<h3 id="tldr">TL;DR<a class="anchor" aria-label="anchor" href="#tldr"></a>
</h3>
<ul>
<li>Details are here: <a href="https://dev.jamovi.org/" class="external-link uri">https://dev.jamovi.org/</a>
</li>
</ul>
<p>Briefly:</p>
<ul>
<li><p>Use <code>R &gt;= 4.0.5</code></p></li>
<li><p>Install jamovi from this link: <a href="https://www.jamovi.org/download.html" class="external-link uri">https://www.jamovi.org/download.html</a> Get the latest one
2.3.2</p></li>
<li><p>Install jmvtools package with:</p></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'node'</span>, repos<span class="op">=</span><span class="st">'https://repo.jamovi.org'</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'jmvtools'</span>, repos<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'https://repo.jamovi.org'</span>, <span class="st">'https://cran.r-project.org'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<ul>
<li><p>locate jamovi bin folder via this:
<code>jmvtools::check("C://Program Files//jamovi//bin")</code> I
recommend changing folder name from default <code>jamovi 1.2</code> to
<code>jamovi</code></p></li>
<li><p><code>C:\Program Files\jamovi 2.3.0.0\bin\jamovi.exe</code></p></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/check.html" class="external-link">check</a></span><span class="op">(</span>home <span class="op">=</span> <span class="st">'C:\\Program Files\\jamovi 2.3.0.0\\bin'</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>jamovi_home <span class="op">=</span> <span class="st">'C:\\Program Files\\jamovi 2.3.0.0\\bin'</span><span class="op">)</span></span></code></pre></div>
<ul>
<li><p>Fork and Clone this repo: <a href="https://github.com/sbalci/ClinicoPath" class="external-link uri">https://github.com/sbalci/ClinicoPath</a></p></li>
<li><p>inside this repo folder in R
<code><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">jmvtools::install()</a></code></p></li>
<li><p>it will produce a file named ClinicoPath.jmo and install this
module to jamovi</p></li>
<li><p>The repo is like an R package except <code>jamovi</code>
folder.</p></li>
<li><p>You need to edit <code>R/crosstable.b.R</code></p></li>
<li><p>Just edit the <code>tangram::</code> code <a href="https://dev.jamovi.org/tuts0104-implementing-an-analysis.html" class="external-link uri">https://dev.jamovi.org/tuts0104-implementing-an-analysis.html</a>
<a href="https://dev.jamovi.org/tuts0105-debugging-an-analysis.html" class="external-link uri">https://dev.jamovi.org/tuts0105-debugging-an-analysis.html</a></p></li>
<li><p>In DESCRIPTION file change <code>spgarbet/tangram@0.3.2</code> to
the version you want to test.</p></li>
<li><p>run <code><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">jmvtools::install()</a></code> again.</p></li>
</ul>
<p>Let me know how it goes :)</p>
</div>
<div class="section level3">
<h3 id="user2017-jamovi-a-spreadsheet-for-r">
<a href="https://channel9.msdn.com/Events/useR-international-R-User-conferences/useR-International-R-User-2017-Conference/jamovi-a-spreadsheet-for-R" class="external-link">useR!2017:
<em>jamovi</em>: a spreadsheet for R</a><a class="anchor" aria-label="anchor" href="#user2017-jamovi-a-spreadsheet-for-r"></a>
</h3>
<iframe src="https://channel9.msdn.com/Events/useR-international-R-User-conferences/useR-International-R-User-2017-Conference/jamovi-a-spreadsheet-for-R/player" width="50%" allowfullscreen frameborder="0" title="*jamovi*: a spreadsheet for R - Microsoft Channel 9 Video">
</iframe>
</div>
<div class="section level3">
<h3 id="preparing-development-tools">preparing development tools<a class="anchor" aria-label="anchor" href="#preparing-development-tools"></a>
</h3>
<div class="section level4">
<h4 id="use-an-unsigned-version-of-jamovi-for-development-in-mac">use an unsigned version of jamovi for development in mac<a class="anchor" aria-label="anchor" href="#use-an-unsigned-version-of-jamovi-for-development-in-mac"></a>
</h4>
<p><a href="https://dev.jamovi.org/#28-02-2020" class="external-link uri">https://dev.jamovi.org/#28-02-2020</a></p>
<p><a href="https://www.jamovi.org/downloads/jamovi-unsigned.zip" class="external-link uri">https://www.jamovi.org/downloads/jamovi-unsigned.zip</a></p>
</div>
<div class="section level4">
<h4 id="jmvtools-should-be-installed-from-the-jamovi-repo">jmvtools should be installed from the jamovi repo<a class="anchor" aria-label="anchor" href="#jmvtools-should-be-installed-from-the-jamovi-repo"></a>
</h4>
<p><a href="https://dev.jamovi.org/tuts0101-getting-started.html" class="external-link uri">https://dev.jamovi.org/tuts0101-getting-started.html</a></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'jmvtools'</span>, repos<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'https://repo.jamovi.org'</span>, <span class="st">'https://cran.r-project.org'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/check.html" class="external-link">check</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">install</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>You can use <code><a href="https://devtools.r-lib.org/reference/install.html" class="external-link">devtools::install()</a></code> to use your codes as a
usual R package, submit to github or CRAN.
<code><a href="https://devtools.r-lib.org/reference/check.html" class="external-link">devtools::check()</a></code> does not like some jamovi folders so be
sure to add them under <code>.Rbuildignore</code></p>
</div>
</div>
<div class="section level3">
<h3 id="creating-a-module">Creating a Module<a class="anchor" aria-label="anchor" href="#creating-a-module"></a>
</h3>
<p><a href="https://dev.jamovi.org/tuts0102-creating-a-module.html" class="external-link uri">https://dev.jamovi.org/tuts0102-creating-a-module.html</a></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu">create</span><span class="op">(</span>path <span class="op">=</span> <span class="st">"~/ClinicoPathDescriptives"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="add-analysis">add analysis<a class="anchor" aria-label="anchor" href="#add-analysis"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu">create</span><span class="op">(</span><span class="st">'function'</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="structure">Structure<a class="anchor" aria-label="anchor" href="#structure"></a>
</h2>
<hr>
<iframe src="https://docs.google.com/presentation/d/e/2PACX-1vTfA7dL5y_PzY5L-f8FRxaqvKMME5pcDCbXtWk5-FUNCGJyFKpGJEp8ES9rAge0CbI3Gcbi7Emv4e-S/embed?start=false&amp;loop=true&amp;delayms=3000" frameborder="0" width="960" height="569" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true">
</iframe>
<hr>
<div class="section level3">
<h3 id="development-files">Development Files<a class="anchor" aria-label="anchor" href="#development-files"></a>
</h3>
<div class="section level4">
<h4 id="description-file">
<code>DESCRIPTION</code> file<a class="anchor" aria-label="anchor" href="#description-file"></a>
</h4>
<p><code>Imports</code>, <code>Depends</code>, <code>Suggests</code>,
and <code>Remotes</code> have practically no difference in building
jamovi modules. The <code><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">jmvtools::install()</a></code> copies libraries
under <em>build</em> folder.</p>
<p>Under <code>Imports</code> <code>jmvcore</code> and <code>R6</code>
are defaults.</p>
<p>With Remotes one can install github packages as well. But with each
<code><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">jmvtools::install()</a></code> command it tries to check the updates,
and if you are online throws an error. An
<code>upgrade = FALSE, quick = TRUE</code> argument like in
devtools::install() is not available, yet. One workaround is temporarily
deleting Remotes from DESCRIPTION. The package folders continue to
remain under build folder.</p>
<p>One can also directly copy package folders from system R package
folder (find via <code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code>) as well.</p>
</div>
<div class="section level4">
<h4 id="namespace-file">
<code>NAMESPACE</code> file<a class="anchor" aria-label="anchor" href="#namespace-file"></a>
</h4>
<p>No need to change.</p>
</div>
<div class="section level4">
<h4 id="r-folder">
<code>R</code> folder<a class="anchor" aria-label="anchor" href="#r-folder"></a>
</h4>
<p>R folder is where the codes are present. There are two files.</p>
<div class="section level5">
<h5 id="function-h-r">
<code>function.h.R</code><a class="anchor" aria-label="anchor" href="#function-h-r"></a>
</h5>
<p>No need to change. Auto-updated and overwritten.</p>
</div>
<div class="section level5">
<h5 id="function-b-r">
<code>function.b.R</code><a class="anchor" aria-label="anchor" href="#function-b-r"></a>
</h5>
<div class="section level6">
<h6 id="write-formula">Write Formula<a class="anchor" aria-label="anchor" href="#write-formula"></a>
</h6>
<p><a href="https://cran.r-project.org/web/packages/jmv/vignettes/new-syntax.html" class="external-link uri">https://cran.r-project.org/web/packages/jmv/vignettes/new-syntax.html</a></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmv</span><span class="fu">::</span><span class="fu">ANOVA</span><span class="op">(</span>formula <span class="op">=</span> <span class="va">len</span> <span class="op">~</span> <span class="va">supp</span> <span class="op">*</span> <span class="va">dose</span>, <span class="va">ToothGrowth</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmv</span><span class="fu">::</span><span class="fu">ANOVA</span><span class="op">(</span><span class="va">ToothGrowth</span>, <span class="va">len</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">supp</span>, <span class="va">dose</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmv</span><span class="fu">::</span><span class="fu">ANOVA</span><span class="op">(</span><span class="va">...</span>, emMeans <span class="op">=</span> <span class="op">~</span> <span class="va">supp</span> <span class="op">+</span> <span class="va">dose</span><span class="op">:</span><span class="va">supp</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmv</span><span class="fu">::</span><span class="fu">ANOVA</span><span class="op">(</span><span class="va">ToothGrowth</span>, <span class="st">'len'</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'supp'</span>, <span class="st">'dose'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<blockquote>
<p>In this case, jmv will look for variables in ToothGrowth called ‘dep’
or ‘factors’. This is tidy evaluation. To instruct jmv to use the
contents of it’s arguments, rather than the symbol name, prefix them
with the !! signifier. For example:</p>
</blockquote>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dep</span> <span class="op">&lt;-</span> <span class="st">'len'</span></span>
<span><span class="va">factors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'supp'</span>, <span class="st">'dose'</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">jmv</span><span class="fu">::</span><span class="fu">ANOVA</span><span class="op">(</span><span class="va">ToothGrowth</span>, <span class="op">!</span><span class="op">!</span><span class="va">dep</span>, <span class="op">!</span><span class="op">!</span><span class="va">factors</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level6">
<h6 id="warning-error-messages">Warning, Error Messages<a class="anchor" aria-label="anchor" href="#warning-error-messages"></a>
</h6>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">data</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Data contains no (complete) rows"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level6">
<h6 id="prepare-data-for-analysis">Prepare Data For Analysis<a class="anchor" aria-label="anchor" href="#prepare-data-for-analysis"></a>
</h6>
<pre><code><span>        <span class="va">varsName</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">vars</span></span>
<span></span>
<span>        <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">jmvcore</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvcore/man/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">data</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">varsName</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level6">
<h6 id="remove-na-containing-cases-works-on-selected-variables">Remove NA containing cases (works on selected variables)<a class="anchor" aria-label="anchor" href="#remove-na-containing-cases-works-on-selected-variables"></a>
</h6>
<pre><code><span>        <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">jmvcore</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvcore/man/naOmit.html" class="external-link">naOmit</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre>
<p>jmvcore::toNumeric() <a href="https://dev.jamovi.org/tuts0202-handling-data.html" class="external-link uri">https://dev.jamovi.org/tuts0202-handling-data.html</a></p>
<p>can I just send whole data to plot function? you usually don’t want
to, but sometimes it’s appropriate. normally you just provide a summary
of the data to the plot function … just enough data for it to do it’s
job. but if you need the whole data set for the plot function, then you
can specify requiresData: true on the image object. that means the plot
function can access self$data. i do it in the correlation matrix for
example. there’s no summary i could send … the plot function needs all
the data: <a href="https://github.com/jamovi/jmv/blob/master/jamovi/corrmatrix.r.yaml#L143" class="external-link uri">https://github.com/jamovi/jmv/blob/master/jamovi/corrmatrix.r.yaml#L143</a>
jamovi/corrmatrix.r.yaml:143 requiresData: true</p>
</div>
<div class="section level6">
<h6 id="prepare-data-to-send-to-plot-function">Prepare Data to Send to Plot Function<a class="anchor" aria-label="anchor" href="#prepare-data-to-send-to-plot-function"></a>
</h6>
</div>
</div>
</div>
<div class="section level4">
<h4 id="jamovi-folder">jamovi folder<a class="anchor" aria-label="anchor" href="#jamovi-folder"></a>
</h4>
<div class="section level5">
<h5 id="function-a-yaml">function.a.yaml<a class="anchor" aria-label="anchor" href="#function-a-yaml"></a>
</h5>
</div>
<div class="section level5">
<h5 id="function-r-yaml">function.r.yaml<a class="anchor" aria-label="anchor" href="#function-r-yaml"></a>
</h5>
<div class="section level6">
<h6 id="preformatted">preformatted<a class="anchor" aria-label="anchor" href="#preformatted"></a>
</h6>
<p>Using “preformatted” result element I get a markdown table output. Is
there a way to somehow render/convert this output to html version. Or
should I go with <a href="https://dev.jamovi.org/api_table.html" class="external-link uri">https://dev.jamovi.org/api_table.html</a> table api?</p>
<p>so you’re best to make use of the table api … the table API has a lot
more features than an md table.</p>
</div>
<div class="section level6">
<h6 id="p-value-format">p-value format<a class="anchor" aria-label="anchor" href="#p-value-format"></a>
</h6>
<div class="sourceCode" id="cb16"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="at">     </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> p</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="at">       </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"p"</span></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a><span class="at">       </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="at">       </span><span class="fu">format</span><span class="kw">:</span><span class="at"> zto,pvalue</span></span></code></pre></div>
</div>
</div>
<div class="section level5">
<h5 id="function-u-yaml">function.u.yaml<a class="anchor" aria-label="anchor" href="#function-u-yaml"></a>
</h5>
<div class="section level6">
<h6 id="levelselector">LevelSelector<a class="anchor" aria-label="anchor" href="#levelselector"></a>
</h6>
<pre><code> i have added the property allowNone to the LevelSelector control. This will allow the user to select None from the listbox.</code></pre>
</div>
<div class="section level6">
<h6 id="maxitemcount-1">maxItemCount: 1<a class="anchor" aria-label="anchor" href="#maxitemcount-1"></a>
</h6>
</div>
</div>
<div class="section level5">
<h5 id="yaml">0000.yaml<a class="anchor" aria-label="anchor" href="#yaml"></a>
</h5>
</div>
<div class="section level5">
<h5 id="refs-yaml">00refs.yaml<a class="anchor" aria-label="anchor" href="#refs-yaml"></a>
</h5>
<p>prepare a 00refs.yaml like this: <a href="https://github.com/jamovi/jmv/blob/master/jamovi/00refs.yaml" class="external-link uri">https://github.com/jamovi/jmv/blob/master/jamovi/00refs.yaml</a></p>
<p>attach references to objects in the .r.yaml file like this:</p>
<p><a href="https://github.com/jamovi/jmv/blob/master/jamovi/ancova.r.yaml#L174" class="external-link uri">https://github.com/jamovi/jmv/blob/master/jamovi/ancova.r.yaml#L174</a></p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="tables">Tables<a class="anchor" aria-label="anchor" href="#tables"></a>
</h3>
<p>I want a long table. I tried to use following but got error.</p>
<p>Below is my current .r.yaml - name: irrtable title: Interrater
Reliability type: Table rows: 1 columns: - name: method title: ‘Method’
type: text - name: subjects title: ‘Subjects’ type: integer - name:
raters title: ‘Raters’ type: integer - name: peragree title: ‘Agreement
%’ type: number - name: kappa title: ‘Kappa’ type: number - name: z
title: ‘z’ type: number - name: p title: ‘p-value’ type: number format:
zto,pvalue</p>
<ul>
<li>try setting swapRowsColumns to true.</li>
<li>alternatively, you can name your columns like this method[a],
method[b], this will cause the row to be ‘folded’ where the value in
method[b] appears below the value in method[a] . an example of this is
the t-test: <a href="https://github.com/jamovi/jmv/blob/master/jamovi/ttestis.r.yaml#L20" class="external-link uri">https://github.com/jamovi/jmv/blob/master/jamovi/ttestis.r.yaml#L20</a>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="plots">Plots<a class="anchor" aria-label="anchor" href="#plots"></a>
</h3>
</div>
<div class="section level3">
<h3 id="build-folder">
<code>build</code> folder<a class="anchor" aria-label="anchor" href="#build-folder"></a>
</h3>
<div class="section level4">
<h4 id="js-folder">
<code>js</code> folder<a class="anchor" aria-label="anchor" href="#js-folder"></a>
</h4>
<div class="section level5">
<h5 id="event-js">event.js<a class="anchor" aria-label="anchor" href="#event-js"></a>
</h5>
</div>
</div>
<div class="section level4">
<h4 id="r3-6-3-macos">R3.6.3-macos<a class="anchor" aria-label="anchor" href="#r3-6-3-macos"></a>
</h4>
</div>
</div>
<div class="section level3">
<h3 id="installing">Installing<a class="anchor" aria-label="anchor" href="#installing"></a>
</h3>
<div class="section level4">
<h4 id="jmvtoolsinstall">
<code>jmvtools::install</code><a class="anchor" aria-label="anchor" href="#jmvtoolsinstall"></a>
</h4>
</div>
<div class="section level4">
<h4 id="devtoolsinstall">
<code>devtools::install</code><a class="anchor" aria-label="anchor" href="#devtoolsinstall"></a>
</h4>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/install.html" class="external-link">install</a></span><span class="op">(</span>upgrade <span class="op">=</span> <span class="cn">FALSE</span>, quick <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="init">.init()<a class="anchor" aria-label="anchor" href="#init"></a>
</h3>
<pre><code>so the principle seems right. you initialise the table in the .init() phase (you add rows and columns), and then you populate the table in the .run() phase. however, i notice your .init() function calls .initcTable() which doesn’t actually do anything.
most of the time, .init() isn’t necessary, because the .r.yaml file can take care of it, but sometimes the rows/columns the table should have is a more complex calculation than the .r.yaml allows (and example of this might be the ANOVA table in jmv … there’s not a simple relationship between the number of variables in the option, i.e. dose, supp, and the number of rows in the ANOVA table dose, supp, supp * dose, residuals. so we can’t achieve this with the .r.yaml, and so we set it up in the .init() phase.
finally, there are times where you can’t even determine the number of rows/columns in the .init() phase. you can only decide how many rows/columns are appropriate after you’ve run the analysis. an example of this might be a cluster analysis, where there’s a row for each cluster, but you only know how many rows you need after the analysis has been run. this is the least desireable, because it does lead to the growing and shrinking of the table, but sometimes that’s unavoidable.
so that’s your order of preference. preferably in the .r.yaml, if that can’t work, then do it in the .init(), and as a last resort, you can do it in the .run()</code></pre>
</div>
<div class="section level3">
<h3 id="output-variables-in-jamovi-1-6-16">Output variables in jamovi 1.6.16<a class="anchor" aria-label="anchor" href="#output-variables-in-jamovi-1-6-16"></a>
</h3>
<pre><code>hi, we’ve added “output variables” to version 1.6.16 of jamovi. this allows analyses to save data from the analyses, back to the spreadsheet (for example, residuals). there’s nothing in the 1.6.16 which indicates to users that this functionality is there, and it will only appear when an analysis implements these features. the idea is that we won’t actually release any modules with these features publicly, until an upcoming jamovi 1.8, or 2.0, or whatever. we’ve added these to the 1.6.16 so you can begin developing for the upcoming release.
you begin by specifying an output option in your .a.yaml file, i.e.

                # - name: resids
                # title: Residuals
                # type: Output
                # and then add an entry into your .r.yaml file, with a matching name:
                #     - name: resids
                # title: Residuals
                # type: Output
                # varTitle: '`Residuals - ${ dep }`'
                # varDescription: Residuals from ANCOVA
                # clearWith:
                #     - dep
                # - factors
                # - covs
                # - modelTerms
                # in this case you’ll see that i’m specifying a formatted string, where the name of the column produced is generated from the dep variable, or dependent variable.
                # you can populate the output column with:
                #     if (self$options$resids &amp;&amp; self$results$resids$isNotFilled()) {
                #         self$results$resids$setValues(aVector)
                #     }
                # sometimes your dataset will have gaps in it, either from filters, or from you calling na.omit() on it, and so if you simply send the residuals from your linear model to $setValues() they won’t be placed in the correct rows. there are two ways to solve this.
                call self$results$resids$setRowNums(...) . conveniently, you can simply take the rownames() from your data set (after calling na.omit()) on it, and pass this in here. i.e.
                # cleanData &lt;- na.omit(self$data)
                # ...
                # rowNums &lt;- rownames(cleanData)
                # self$results$resids$setRowNums(rowNums)
                # alternatively, you can turn your residuals into a data frame, attach the row numbers to that:
                #     residuals &lt;- ...
                # residuals &lt;- data.frame(residuals=residuals, row.names=rownames(cleanData))
                # self$results$setValues(residuals)
                # if you want to provide multiple output columns, for example, perhaps in the previous example we want a “predicted values” column as well, we’d add additional entries to the .a.yaml and the .r.yaml. each entry in the .a.yaml will result in one checkbox.
                # if you want to provide multiple columns with a single checkbox/option, then you can use the items property.
                # - name: predInt
                # title: Prediction intervals
                # varTitle: Pred interval
                # type: Output
                # items: 2
                # then you can go:
                #     self$results$predInt$setValues(index=i, values)
                # or you could wrap both columns of values in a data frame, and go:
                #     self$results$predInt$setValues(valuesinadataframe)
                # you can use data bindings with items too. i.e.
                # - name: resids
                # title: Residuals
                # type: Output
                # varTitle: 'Residuals - $key'
                # items: (vars)
                # this will create an output column for each variable assigned to vars. these can be set:
                #     self$results$resids$setValues(key=key, values)

</code></pre>
</div>
<div class="section level3">
<h3 id="other-tips">Other Tips<a class="anchor" aria-label="anchor" href="#other-tips"></a>
</h3>
<div class="section level4">
<h4 id="code-search-in-github">Code Search in GitHub<a class="anchor" aria-label="anchor" href="#code-search-in-github"></a>
</h4>
<p><a href="https://github.com/search/advanced?q=select+repo%3Ajamovi%2Fjmv+filename%3A.b.R+language%3AR&amp;type=Code" class="external-link uri">https://github.com/search/advanced?q=select+repo%3Ajamovi%2Fjmv+filename%3A.b.R+language%3AR&amp;type=Code</a></p>
<p><a href="https://github.com/search?l=&amp;q=select+repo%3Ajamovi%2Fjmv+filename%3A.b.R+language%3AR&amp;type=Code" class="external-link uri">https://github.com/search?l=&amp;q=select+repo%3Ajamovi%2Fjmv+filename%3A.b.R+language%3AR&amp;type=Code</a></p>
<pre><code>select repo:jamovi/jmv filename:.b.R language:R</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>generate advanced search <span class="cf">for</span> all jamovi library</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>jamovi_library_names <span class="ot">&lt;-</span> <span class="fu">readLines</span>(<span class="st">"https://raw.githubusercontent.com/jonathon-love/jamovi-library/master/modules.yaml"</span>)</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a>jamovi_library_names <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_extract</span>(</span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a>  <span class="at">string =</span> jamovi_library_names,</span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a>  <span class="at">pattern =</span> <span class="st">"github.com/(.*).git"</span>)</span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a>jamovi_library_names <span class="ot">&lt;-</span> jamovi_library_names[<span class="sc">!</span><span class="fu">is.na</span>(jamovi_library_names)]</span>
<span id="cb22-9"><a href="#cb22-9" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" tabindex="-1"></a>jamovi_library_names <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">"github.com/|.git"</span>,</span>
<span id="cb22-11"><a href="#cb22-11" tabindex="-1"></a>                             <span class="at">replacement =</span> <span class="st">""</span>,</span>
<span id="cb22-12"><a href="#cb22-12" tabindex="-1"></a>                             <span class="at">x =</span> jamovi_library_names)</span>
<span id="cb22-13"><a href="#cb22-13" tabindex="-1"></a></span>
<span id="cb22-14"><a href="#cb22-14" tabindex="-1"></a>jamovi_library_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"jamovi/jmv"</span>, jamovi_library_names)</span>
<span id="cb22-15"><a href="#cb22-15" tabindex="-1"></a></span>
<span id="cb22-16"><a href="#cb22-16" tabindex="-1"></a>jamovi_library_names <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">"/"</span>,</span>
<span id="cb22-17"><a href="#cb22-17" tabindex="-1"></a>                              <span class="at">replacement =</span> <span class="st">"%2F"</span>,</span>
<span id="cb22-18"><a href="#cb22-18" tabindex="-1"></a>                              <span class="at">x =</span> jamovi_library_names)</span>
<span id="cb22-19"><a href="#cb22-19" tabindex="-1"></a></span>
<span id="cb22-20"><a href="#cb22-20" tabindex="-1"></a>query <span class="ot">&lt;-</span> <span class="st">"type: Level"</span></span>
<span id="cb22-21"><a href="#cb22-21" tabindex="-1"></a></span>
<span id="cb22-22"><a href="#cb22-22" tabindex="-1"></a>repos <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"repo%3A"</span>,jamovi_library_names,<span class="st">"+"</span>)</span>
<span id="cb22-23"><a href="#cb22-23" tabindex="-1"></a></span>
<span id="cb22-24"><a href="#cb22-24" tabindex="-1"></a>repos <span class="ot">&lt;-</span> <span class="fu">paste0</span>(repos, <span class="at">collapse =</span> <span class="st">""</span>)</span>
<span id="cb22-25"><a href="#cb22-25" tabindex="-1"></a></span>
<span id="cb22-26"><a href="#cb22-26" tabindex="-1"></a>repos <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">+$"</span>,</span>
<span id="cb22-27"><a href="#cb22-27" tabindex="-1"></a>              <span class="at">replacement =</span> <span class="st">""</span>,</span>
<span id="cb22-28"><a href="#cb22-28" tabindex="-1"></a>              <span class="at">x =</span> repos)</span>
<span id="cb22-29"><a href="#cb22-29" tabindex="-1"></a></span>
<span id="cb22-30"><a href="#cb22-30" tabindex="-1"></a>github_search <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"https://github.com/search?q="</span>,</span>
<span id="cb22-31"><a href="#cb22-31" tabindex="-1"></a>                        query,</span>
<span id="cb22-32"><a href="#cb22-32" tabindex="-1"></a>                        <span class="st">"+"</span>,</span>
<span id="cb22-33"><a href="#cb22-33" tabindex="-1"></a>                        repos,</span>
<span id="cb22-34"><a href="#cb22-34" tabindex="-1"></a>                        <span class="st">"&amp;type=Code&amp;ref=advsearch&amp;l=&amp;l="</span>)</span>
<span id="cb22-35"><a href="#cb22-35" tabindex="-1"></a></span>
<span id="cb22-36"><a href="#cb22-36" tabindex="-1"></a><span class="fu">cat</span>(github_search)</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="library-development-status">Library Development Status<a class="anchor" aria-label="anchor" href="#library-development-status"></a>
</h4>
<p><a href="https://ci.appveyor.com/project/jonathon-love/jamovi-library/history" class="external-link uri">https://ci.appveyor.com/project/jonathon-love/jamovi-library/history</a></p>
</div>
<div class="section level4">
<h4 id="yaml-1">YAML<a class="anchor" aria-label="anchor" href="#yaml-1"></a>
</h4>
<iframe width="560" height="315" src="https://www.youtube.com/embed/cdLNKUoMc6c" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</div>
<div class="section level4">
<h4 id="rstudio-options">RStudio options<a class="anchor" aria-label="anchor" href="#rstudio-options"></a>
</h4>
<div class="section level5">
<h5 id="gitignore">.gitignore<a class="anchor" aria-label="anchor" href="#gitignore"></a>
</h5>
<p>add following to .gitignore file</p>
<pre><code># jamovi
/build/
/build-*/
*.jmo</code></pre>
</div>
</div>
<div class="section level4">
<h4 id="r-version">R version<a class="anchor" aria-label="anchor" href="#r-version"></a>
</h4>
<p>Try to use compatible packages with the jamovi’s R version.</p>
<p>Use: <strong>R 4.0.5</strong> <a href="https://cran.r-project.org/bin/macosx/R-4.0.5.pkg" class="external-link uri">https://cran.r-project.org/bin/macosx/R-4.0.5.pkg</a></p>
<p>Use packages from mran:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span></span>
<span>repos <span class="op">=</span> <span class="st">"https://cran.microsoft.com/snapshot/2021-04-01"</span></span>
<span>                <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="base-r-packages-within-jamovi">Base R packages within jamovi<a class="anchor" aria-label="anchor" href="#base-r-packages-within-jamovi"></a>
</h4>
<pre><code>jamovi.app/Contents/Resources/modules/base/R

this folder contains base R packages used for jamovi.

jmvtools::install() prevent the packages already installed in base/R from being installed into your module. 

(jmvtools is an R package which is a thin wrapper around the jamovi-compiler. The jamovi-compiler is written in javascript)

That cause problems if you are using different package versions. So it is best to keep up with suggested 'mran' version. </code></pre>
</div>
<div class="section level4">
<h4 id="electron">Electron<a class="anchor" aria-label="anchor" href="#electron"></a>
</h4>
<p>jamovi is electron based. See R, shiny, and electron based
application development here: <a href="https://github.com/sbalci/clinicopathological#deploying-a-shiny-app-as-a-desktop-application-with-electron" class="external-link">Deploying
a Shiny app as a desktop application with Electron</a></p>
</div>
<div class="section level4">
<h4 id="project-structure">Project Structure<a class="anchor" aria-label="anchor" href="#project-structure"></a>
</h4>
<p><a href="https://dev.jamovi.org/info_project-structure.html" class="external-link uri">https://dev.jamovi.org/info_project-structure.html</a></p>
<p><a href="https://forum.jamovi.org/viewtopic.php?f=12&amp;t=1253&amp;p=4251&amp;hilit=npm#p4251" class="external-link uri">https://forum.jamovi.org/viewtopic.php?f=12&amp;t=1253&amp;p=4251&amp;hilit=npm#p4251</a></p>
<blockquote>
<p>the easiest way to build jamovi on macOS is to use our dev bundle. <a href="https://www.jamovi.org/downloads/jamovi-dev.zip" class="external-link uri">https://www.jamovi.org/downloads/jamovi-dev.zip</a> if you
navigate to the <code>jamovi.app/Contents/Resources</code> folder,
you’ll find a package.json which contains a bunch of different build
commands. you can issue commands like: npm run build:client npm run
build:server npm run build:analyses:jmv depending on which component
you’re wanting to build.</p>
</blockquote>
</div>
</div>
<div class="section level3">
<h3 id="other-codes">Other Codes<a class="anchor" aria-label="anchor" href="#other-codes"></a>
</h3>
</div>
<div class="section level3">
<h3 id="add-datasets">Add Datasets<a class="anchor" aria-label="anchor" href="#add-datasets"></a>
</h3>
<pre><code>make a data folder (same as with an R package), and then you put entries in your 0000.yaml file:
https://github.com/gamlj/gamlj/blob/master/jamovi/0000.yaml#L47-L108
jamovi/0000.yaml:47-108
datasets:
  - name: qsport
    path: qsport.csv
    description: Training hours
    tags:</code></pre>
<p>.omv and .csv allowed. excel is also allowed but user does not see if
it is csv or excel file.</p>
</div>
<div class="section level3">
<h3 id="error-messages">Error messages<a class="anchor" aria-label="anchor" href="#error-messages"></a>
</h3>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>outcome<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="cn">NA</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span> <span class="op">!</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">is.numeric</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">outcome</span><span class="op">)</span> <span class="op">||</span> <span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">outcome</span> <span class="op">!=</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">outcome</span> <span class="op">!=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">'Outcome variable must only contains 1s and 0s'</span><span class="op">)</span></span></code></pre></div>
<p>it’s good to test lots of different data sets that a user may have …
include missing values, really large values, etc. etc. and make sure
your analyses always handle them, and provide useful error messages for
why an analysis doesn’t work. you don’t want to leave the user uncertain
why something isn’t working … otherwise they just give up.</p>
<p>part of our philosophy is that people shouldn’t have to set their
data up if they can’t be bothered … because with large data sets it can
take a lot of time. so i’d encourage you to treat whatever the user
provides you with as continuous, by converting it with toNumeric() …
more on our data philosophy here: <a href="https://dev.jamovi.org/tuts0202-handling-data.html" class="external-link uri">https://dev.jamovi.org/tuts0202-handling-data.html</a></p>
<p><a href="https://youtu.be/oWZrrWc6e74" class="external-link uri">https://youtu.be/oWZrrWc6e74</a></p>
<p>in the options, you’ve got Survival Curve, and in the results, it’s
Survival Plot … i’d encourage you to make these consistent. also, if the
Survival Curve is unchecked, i’d hide the Surival plot, rather than
leaving all that vacant space there.</p>
<p>visible: (optionName) <a href="https://github.com/jamovi/jmv/blob/master/jamovi/ttestis.r.yaml#L408-L416" class="external-link uri">https://github.com/jamovi/jmv/blob/master/jamovi/ttestis.r.yaml#L408-L416</a>
jamovi/ttestis.r.yaml:408-416 - name: qq type: Image description: Q-Q
plot width: 350 height: 300</p>
<p>is there a variable type for dates in jamovi? Can I force a user to
add only a date to a VariablesListBox? I tried to get info from a
self<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>o</mi><mi>p</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">options</annotation></semantics></math>var
via lubridate::is.Date and is.na.POSIXlt but it did not work hi, we
don’t have a date data type at this time … only integer, numeric, and
character … you could have people enter dates as character, and parse
them yourself, but i appreciate that’s a bit of a hack</p>
<p>Thank you. Dates are always a problem in my routine practice. I work
with many international colleagues and always date column is a mess, and
people calculate survival time very differently. I want to have raw
dates so that I can calculate survival time. I will try somehow going
around.</p>
<p>learn YAML syntax</p>
<p>it’s a pretty straightforward syntax … you’ve basically got ‘objects’
where each of the elements have names, and you’ve got arrays, where each
of the objects have an index. and that’s more-or-less all there is to
it. you can take a look at jmv for examples: <a href="https://github.com/jamovi/jmv/tree/master/jamovi" class="external-link uri">https://github.com/jamovi/jmv/tree/master/jamovi</a></p>
<p>I don’t think we’ve got a list of allowed parameters anywhere.
Probably your best bet is to browse through the .yaml files in jmv. I
think you’ll find there’s not that many parameter names.</p>
<p>as a work-around, once it’s installed the package from the Remotes,
you can remove it from the DESCRIPTION and it won’t keep installing it
over and over</p>
<p>Hi, there are scarce sources for pairwise chi-square tests. I have
found rmngb::pairwise.chisq.test() and rmngb::pairwise.fisher.test() but
that package has been removed from CRAN. Would you consider implementing
this feature? I also thought to add these functions in a module, but I
want to ask your policy about removed packages as well. 4 replies</p>
<p>jonathon:whale2: 18 days ago provided the module can be built with an
entry in REMOTES, we don’t care if it’s not on CRAN</p>
<p>jonathon:whale2: 18 days ago … but you’re obviously taking a risk
using something which isn’t maintained</p>
<p>Serdar Balci 18 days ago Thanks. Maybe just copying that function
with appropriate reference may solve maintenance issue. I will think
about it.</p>
<p>jonathon:whale2: 18 days ago oh yup</p>
<hr>
<p>I have a question. I want to user to enter cut points in a box and
then evaluate it as a vector. the function is this: summary(km_fit,
times = c(12,36,60) I want user to define times vector. I have tried the
following: utimes &lt;-
jmvcore::decomposeTerms(self<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>o</mi><mi>p</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">options</annotation></semantics></math>cutp)
utimes &lt;- as.vector(utimes) summary(km_fit, times = utimes a.yaml is
as follows: - name: cutp title: Define at least two cutpoints (in
months) for survival table type: String default: ‘12, 36, 60’ Would you
please guide me to convert input into a vector. (edited) 3 replies</p>
<p>Serdar Balci 13 hours ago I think this seems to work: utimes &lt;-
self<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>o</mi><mi>p</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">options</annotation></semantics></math>cutp
utimes &lt;- strsplit(utimes, “,”) utimes &lt;- purrr::reduce(utimes,
as.vector) utimes &lt;- as.numeric(utimes) (edited)</p>
<p>jonathon:whale2: 5 hours ago yup, this will do it too:
as.numeric(strsplit(utimes, ‘,’)[[1]]) (it’s better if you can avoid
using purrr, because it’s not really necessary, and you’re better off
reducing the amount of dependencies you use)</p>
<p>Serdar Balci 5 hours ago thank you. :+1:</p>
<hr>
<p>so wrt width/height, you can set that in the .r.yaml like so: <a href="https://github.com/kylehamilton/MAJOR/blob/master/jamovi/bayesmetacorr.r.yaml#L46-L49" class="external-link uri">https://github.com/kylehamilton/MAJOR/blob/master/jamovi/bayesmetacorr.r.yaml#L46-L49</a>
it’s possible to do it programmatically, with … image$setSize()</p>
<hr>
<pre><code>Serdar Balci  4:48 PM
 I think I am getting familiar with the codes :)
QuickTime Movie
JamoviModule.mov
4 MB QuickTime Movie— Click to download</code></pre>
<pre><code>Serdar Balci Nov 29th, 2019 at 12:39 PM
Module names now have R version and OS in them. Does it mean that this will not work in windows Installing ClinicoPath_0.0.1-macos-R3.3.0.jmo

4 replies

jonathon:whale2:  3 months ago
It depends on whether there are any native R packages in your modules dependencies. Most modules do, but some don't. (You'll notice there's a "uses native" property there now too ... my intention is to use that to determine if a module can be used cross platform or not)

jonathon:whale2:  3 months ago
If there's native dependencies, then the module needs to be built separately for each os.

jonathon:whale2:  3 months ago
But I can take care of building it for different oses

Serdar Balci  3 months ago
Oh, I see. Thank you :slightly_smiling_face:</code></pre>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="develop">Develop<a class="anchor" aria-label="anchor" href="#develop"></a>
</h2>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a>library, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a><span class="co"># install.packages('jmvtools', repos=c('https://repo.jamovi.org', 'https://cran.r-project.org'))</span></span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a><span class="co"># jmvtools::check("C://Program Files//jamovi//bin")</span></span>
<span id="cb30-5"><a href="#cb30-5" tabindex="-1"></a></span>
<span id="cb30-6"><a href="#cb30-6" tabindex="-1"></a><span class="co"># jmvtools::install(home = "C://Program Files//jamovi//bin")</span></span>
<span id="cb30-7"><a href="#cb30-7" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb30-8"><a href="#cb30-8" tabindex="-1"></a><span class="co"># devtools::build(path = "C:\\ClinicoPathOutput")</span></span>
<span id="cb30-9"><a href="#cb30-9" tabindex="-1"></a></span>
<span id="cb30-10"><a href="#cb30-10" tabindex="-1"></a><span class="co"># .libPaths(new = "C:\\ClinicoPathLibrary")</span></span>
<span id="cb30-11"><a href="#cb30-11" tabindex="-1"></a></span>
<span id="cb30-12"><a href="#cb30-12" tabindex="-1"></a><span class="co"># devtools::build(path = "C:\\ClinicoPathOutput", binary = TRUE, args = c('--preclean'))</span></span>
<span id="cb30-13"><a href="#cb30-13" tabindex="-1"></a></span>
<span id="cb30-14"><a href="#cb30-14" tabindex="-1"></a><span class="fu">Sys.setenv</span>(<span class="at">TZ=</span><span class="st">"Europe/Istanbul"</span>)</span>
<span id="cb30-15"><a href="#cb30-15" tabindex="-1"></a></span>
<span id="cb30-16"><a href="#cb30-16" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"jmvtools"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a>check, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a>jmvtools<span class="sc">::</span><span class="fu">check</span>()</span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a><span class="co"># rhub::check_on_macos()</span></span>
<span id="cb31-7"><a href="#cb31-7" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" tabindex="-1"></a><span class="co"># rhub::check_for_cran()</span></span>
<span id="cb31-9"><a href="#cb31-9" tabindex="-1"></a></span>
<span id="cb31-10"><a href="#cb31-10" tabindex="-1"></a><span class="co"># codemetar::write_codemeta()</span></span>
<span id="cb31-11"><a href="#cb31-11" tabindex="-1"></a></span>
<span id="cb31-12"><a href="#cb31-12" tabindex="-1"></a></span>
<span id="cb31-13"><a href="#cb31-13" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">check</span>()</span></code></pre></div>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a>pkgdown build, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">render</span>(<span class="st">'/Users/serdarbalciold/histopathRprojects/ClinicoPath/README.Rmd'</span>,  <span class="at">encoding =</span> <span class="st">'UTF-8'</span>, <span class="at">knit_root_dir =</span> <span class="st">'~/histopathRprojects/ClinicoPath'</span>, <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">document</span>()</span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" tabindex="-1"></a>pkgdown<span class="sc">::</span><span class="fu">build_site</span>()</span></code></pre></div>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a>git force push, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a><span class="co"># gitUpdateCommitPush</span></span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a>CommitMessage <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"updated on "</span>, <span class="fu">Sys.time</span>(), <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a>wd <span class="ot">&lt;-</span> <span class="fu">getwd</span>()</span>
<span id="cb33-5"><a href="#cb33-5" tabindex="-1"></a>gitCommand <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"cd "</span>, wd, <span class="st">" </span><span class="sc">\n</span><span class="st"> git add . </span><span class="sc">\n</span><span class="st"> git commit --message '"</span>, CommitMessage, <span class="st">"' </span><span class="sc">\n</span><span class="st"> git push origin master </span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb33-6"><a href="#cb33-6" tabindex="-1"></a><span class="co"># gitCommand &lt;- paste("cd ", wd, " \n git add . \n git commit --no-verify --message '", CommitMessage, "' \n git push origin master \n", sep = "")</span></span>
<span id="cb33-7"><a href="#cb33-7" tabindex="-1"></a><span class="fu">system</span>(<span class="at">command =</span> gitCommand, <span class="at">intern =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a>add analysis, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" tabindex="-1"></a><span class="co"># jmvtools::install()</span></span>
<span id="cb34-4"><a href="#cb34-4" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb34-5"><a href="#cb34-5" tabindex="-1"></a><span class="co"># jmvtools::create('SuperAwesome')</span></span>
<span id="cb34-6"><a href="#cb34-6" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb34-7"><a href="#cb34-7" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='ttest', title='Independent Samples T-Test')</span></span>
<span id="cb34-8"><a href="#cb34-8" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb34-9"><a href="#cb34-9" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='survival', title='survival')</span></span>
<span id="cb34-10"><a href="#cb34-10" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb34-11"><a href="#cb34-11" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='correlation', title='correlation')</span></span>
<span id="cb34-12"><a href="#cb34-12" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb34-13"><a href="#cb34-13" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='tableone', title='TableOne')</span></span>
<span id="cb34-14"><a href="#cb34-14" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb34-15"><a href="#cb34-15" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='crosstable', title='CrossTable')</span></span>
<span id="cb34-16"><a href="#cb34-16" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb34-17"><a href="#cb34-17" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb34-18"><a href="#cb34-18" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='writesummary', title='WriteSummary')</span></span>
<span id="cb34-19"><a href="#cb34-19" tabindex="-1"></a></span>
<span id="cb34-20"><a href="#cb34-20" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='finalfit', title='FinalFit')</span></span>
<span id="cb34-21"><a href="#cb34-21" tabindex="-1"></a></span>
<span id="cb34-22"><a href="#cb34-22" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='multisurvival', title='FinalFit Multivariate Survival')</span></span>
<span id="cb34-23"><a href="#cb34-23" tabindex="-1"></a></span>
<span id="cb34-24"><a href="#cb34-24" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='report', title='Report General Features')</span></span>
<span id="cb34-25"><a href="#cb34-25" tabindex="-1"></a></span>
<span id="cb34-26"><a href="#cb34-26" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='frequencies', title='Frequencies')</span></span>
<span id="cb34-27"><a href="#cb34-27" tabindex="-1"></a></span>
<span id="cb34-28"><a href="#cb34-28" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='statsplot', title='GGStatsPlot')</span></span>
<span id="cb34-29"><a href="#cb34-29" tabindex="-1"></a></span>
<span id="cb34-30"><a href="#cb34-30" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='statsplot2', title='GGStatsPlot2')</span></span>
<span id="cb34-31"><a href="#cb34-31" tabindex="-1"></a></span>
<span id="cb34-32"><a href="#cb34-32" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='scat2', title='scat2')</span></span>
<span id="cb34-33"><a href="#cb34-33" tabindex="-1"></a></span>
<span id="cb34-34"><a href="#cb34-34" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='decisioncalculator', title='Decision Calculator')</span></span>
<span id="cb34-35"><a href="#cb34-35" tabindex="-1"></a></span>
<span id="cb34-36"><a href="#cb34-36" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='agreement', title='Interrater Intrarater Reliability')</span></span>
<span id="cb34-37"><a href="#cb34-37" tabindex="-1"></a></span>
<span id="cb34-38"><a href="#cb34-38" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='cluster', title='Cluster Analysis')</span></span>
<span id="cb34-39"><a href="#cb34-39" tabindex="-1"></a></span>
<span id="cb34-40"><a href="#cb34-40" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='tree', title='Decision Tree')</span></span></code></pre></div>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a>devtools install, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install</span>()</span></code></pre></div>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a>jmvtools install, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a><span class="co"># jmvtools::check()</span></span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a>jmvtools<span class="sc">::</span><span class="fu">install</span>()</span></code></pre></div>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a>construct, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a>formula <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>), <span class="at">dep =</span> <span class="st">"D"</span>)</span>
<span id="cb37-3"><a href="#cb37-3" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" tabindex="-1"></a>jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="fu">list</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="fu">c</span>(<span class="st">"C"</span>, <span class="st">"D"</span>)), <span class="at">dep =</span> <span class="st">"E"</span>)</span>
<span id="cb37-5"><a href="#cb37-5" tabindex="-1"></a></span>
<span id="cb37-6"><a href="#cb37-6" tabindex="-1"></a></span>
<span id="cb37-7"><a href="#cb37-7" tabindex="-1"></a>jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="fu">list</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>))</span>
<span id="cb37-8"><a href="#cb37-8" tabindex="-1"></a></span>
<span id="cb37-9"><a href="#cb37-9" tabindex="-1"></a>vars <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">decomposeFormula</span>(<span class="at">formula =</span> formula)</span>
<span id="cb37-10"><a href="#cb37-10" tabindex="-1"></a></span>
<span id="cb37-11"><a href="#cb37-11" tabindex="-1"></a><span class="fu">unlist</span>(vars)</span>
<span id="cb37-12"><a href="#cb37-12" tabindex="-1"></a></span>
<span id="cb37-13"><a href="#cb37-13" tabindex="-1"></a>cformula <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(<span class="at">components =</span> formula)</span>
<span id="cb37-14"><a href="#cb37-14" tabindex="-1"></a></span>
<span id="cb37-15"><a href="#cb37-15" tabindex="-1"></a>jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(<span class="st">"A"</span>)</span>
<span id="cb37-16"><a href="#cb37-16" tabindex="-1"></a></span>
<span id="cb37-17"><a href="#cb37-17" tabindex="-1"></a>jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(<span class="at">components =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>))</span>
<span id="cb37-18"><a href="#cb37-18" tabindex="-1"></a></span>
<span id="cb37-19"><a href="#cb37-19" tabindex="-1"></a>jmvcore<span class="sc">::</span><span class="fu">decomposeTerm</span>(<span class="at">term =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>))</span>
<span id="cb37-20"><a href="#cb37-20" tabindex="-1"></a></span>
<span id="cb37-21"><a href="#cb37-21" tabindex="-1"></a>jmvcore<span class="sc">::</span><span class="fu">decomposeTerm</span>(<span class="at">term =</span> formula)</span>
<span id="cb37-22"><a href="#cb37-22" tabindex="-1"></a></span>
<span id="cb37-23"><a href="#cb37-23" tabindex="-1"></a>jmvcore<span class="sc">::</span><span class="fu">decomposeTerm</span>(<span class="at">term =</span> cformula)</span>
<span id="cb37-24"><a href="#cb37-24" tabindex="-1"></a></span>
<span id="cb37-25"><a href="#cb37-25" tabindex="-1"></a></span>
<span id="cb37-26"><a href="#cb37-26" tabindex="-1"></a></span>
<span id="cb37-27"><a href="#cb37-27" tabindex="-1"></a>composeTerm <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(<span class="at">components =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>))</span>
<span id="cb37-28"><a href="#cb37-28" tabindex="-1"></a></span>
<span id="cb37-29"><a href="#cb37-29" tabindex="-1"></a>jmvcore<span class="sc">::</span><span class="fu">decomposeTerm</span>(<span class="at">term =</span> composeTerm)</span>
<span id="cb37-30"><a href="#cb37-30" tabindex="-1"></a></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a>read data, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb38-2"><a href="#cb38-2" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span></code></pre></div>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a>writesummary, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb39-2"><a href="#cb39-2" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install</span>(<span class="at">upgrade =</span> <span class="cn">FALSE</span>, <span class="at">quick =</span> <span class="cn">TRUE</span>)</span>
<span id="cb39-3"><a href="#cb39-3" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb39-4"><a href="#cb39-4" tabindex="-1"></a></span>
<span id="cb39-5"><a href="#cb39-5" tabindex="-1"></a><span class="co"># library("ClinicoPath")</span></span>
<span id="cb39-6"><a href="#cb39-6" tabindex="-1"></a></span>
<span id="cb39-7"><a href="#cb39-7" tabindex="-1"></a>deneme<span class="sc">$</span>Age <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(deneme<span class="sc">$</span>Age))</span>
<span id="cb39-8"><a href="#cb39-8" tabindex="-1"></a></span>
<span id="cb39-9"><a href="#cb39-9" tabindex="-1"></a>ClinicoPath<span class="sc">::</span><span class="fu">writesummary</span>(<span class="at">data =</span> deneme, <span class="at">vars =</span> Age)</span>
<span id="cb39-10"><a href="#cb39-10" tabindex="-1"></a></span>
<span id="cb39-11"><a href="#cb39-11" tabindex="-1"></a>ggstatsplot<span class="sc">::</span><span class="fu">normality_message</span>(deneme<span class="sc">$</span>Age, <span class="st">"Age"</span>)</span>
<span id="cb39-12"><a href="#cb39-12" tabindex="-1"></a></span>
<span id="cb39-13"><a href="#cb39-13" tabindex="-1"></a></span>
<span id="cb39-14"><a href="#cb39-14" tabindex="-1"></a>ClinicoPath<span class="sc">::</span><span class="fu">writesummary</span>(</span>
<span id="cb39-15"><a href="#cb39-15" tabindex="-1"></a>    <span class="at">data =</span> deneme,</span>
<span id="cb39-16"><a href="#cb39-16" tabindex="-1"></a>    <span class="at">vars =</span> Age)</span>
<span id="cb39-17"><a href="#cb39-17" tabindex="-1"></a></span></code></pre></div>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a>finalfit, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb40-2"><a href="#cb40-2" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install</span>(<span class="at">upgrade =</span> <span class="cn">FALSE</span>, <span class="at">quick =</span> <span class="cn">TRUE</span>)</span>
<span id="cb40-3"><a href="#cb40-3" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb40-4"><a href="#cb40-4" tabindex="-1"></a><span class="fu">library</span>(survival)</span>
<span id="cb40-5"><a href="#cb40-5" tabindex="-1"></a><span class="fu">library</span>(finalfit)</span>
<span id="cb40-6"><a href="#cb40-6" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb40-7"><a href="#cb40-7" tabindex="-1"></a>ClinicoPath<span class="sc">::</span><span class="fu">finalfit</span>(<span class="at">data =</span> deneme,</span>
<span id="cb40-8"><a href="#cb40-8" tabindex="-1"></a>                      <span class="at">explanatory =</span> Sex,</span>
<span id="cb40-9"><a href="#cb40-9" tabindex="-1"></a>                      <span class="at">outcome =</span> Outcome,</span>
<span id="cb40-10"><a href="#cb40-10" tabindex="-1"></a>                      <span class="at">overalltime =</span> OverallTime)</span></code></pre></div>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a>decision, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install</span>(<span class="at">upgrade =</span> <span class="cn">FALSE</span>, <span class="at">quick =</span> <span class="cn">TRUE</span>)</span>
<span id="cb41-3"><a href="#cb41-3" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb41-4"><a href="#cb41-4" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" tabindex="-1"></a>ClinicoPath<span class="sc">::</span><span class="fu">decision</span>(</span>
<span id="cb41-6"><a href="#cb41-6" tabindex="-1"></a>    <span class="at">data =</span> deneme,</span>
<span id="cb41-7"><a href="#cb41-7" tabindex="-1"></a>    <span class="at">gold =</span> Outcome,</span>
<span id="cb41-8"><a href="#cb41-8" tabindex="-1"></a>    <span class="at">goldPositive =</span> <span class="st">"1"</span>,</span>
<span id="cb41-9"><a href="#cb41-9" tabindex="-1"></a>    <span class="at">newtest =</span> Smoker,</span>
<span id="cb41-10"><a href="#cb41-10" tabindex="-1"></a>    <span class="at">testPositive =</span> <span class="st">"TRUE"</span>)</span>
<span id="cb41-11"><a href="#cb41-11" tabindex="-1"></a></span>
<span id="cb41-12"><a href="#cb41-12" tabindex="-1"></a>ClinicoPath<span class="sc">::</span><span class="fu">decision</span>(</span>
<span id="cb41-13"><a href="#cb41-13" tabindex="-1"></a>    <span class="at">data =</span> deneme,</span>
<span id="cb41-14"><a href="#cb41-14" tabindex="-1"></a>    <span class="at">gold =</span> LVI,</span>
<span id="cb41-15"><a href="#cb41-15" tabindex="-1"></a>    <span class="at">goldPositive =</span> <span class="st">"Present"</span>,</span>
<span id="cb41-16"><a href="#cb41-16" tabindex="-1"></a>    <span class="at">newtest =</span> PNI,</span>
<span id="cb41-17"><a href="#cb41-17" tabindex="-1"></a>    <span class="at">testPositive =</span> <span class="st">"Present"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a>eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb42-3"><a href="#cb42-3" tabindex="-1"></a>ggstatsplot<span class="sc">::</span><span class="fu">ggbetweenstats</span>(<span class="at">data =</span> deneme,</span>
<span id="cb42-4"><a href="#cb42-4" tabindex="-1"></a>                            <span class="at">x =</span> LVI,</span>
<span id="cb42-5"><a href="#cb42-5" tabindex="-1"></a>                            <span class="at">y =</span> Age)</span></code></pre></div>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a>statsplot, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb43-2"><a href="#cb43-2" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install</span>(<span class="at">upgrade =</span> <span class="cn">FALSE</span>, <span class="at">quick =</span> <span class="cn">TRUE</span>)</span>
<span id="cb43-3"><a href="#cb43-3" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb43-4"><a href="#cb43-4" tabindex="-1"></a>ClinicoPath<span class="sc">::</span><span class="fu">statsplot</span>(</span>
<span id="cb43-5"><a href="#cb43-5" tabindex="-1"></a>    <span class="at">data =</span> deneme,</span>
<span id="cb43-6"><a href="#cb43-6" tabindex="-1"></a>    <span class="at">dep =</span> Age,</span>
<span id="cb43-7"><a href="#cb43-7" tabindex="-1"></a>    <span class="at">group =</span> Smoker)</span></code></pre></div>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a>decision <span class="dv">2</span>, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb44-2"><a href="#cb44-2" tabindex="-1"></a>mytable <span class="ot">&lt;-</span> <span class="fu">table</span>(deneme<span class="sc">$</span>Outcome, deneme<span class="sc">$</span>Smoker)</span>
<span id="cb44-3"><a href="#cb44-3" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" tabindex="-1"></a>caret<span class="sc">::</span><span class="fu">confusionMatrix</span>(mytable)</span>
<span id="cb44-5"><a href="#cb44-5" tabindex="-1"></a><span class="fu">confusionMatrix</span>(pred, truth)</span>
<span id="cb44-6"><a href="#cb44-6" tabindex="-1"></a><span class="fu">confusionMatrix</span>(xtab, <span class="at">prevalence =</span> <span class="fl">0.25</span>)</span>
<span id="cb44-7"><a href="#cb44-7" tabindex="-1"></a></span>
<span id="cb44-8"><a href="#cb44-8" tabindex="-1"></a><span class="fu">levels</span>(deneme<span class="sc">$</span>Outcome)</span>
<span id="cb44-9"><a href="#cb44-9" tabindex="-1"></a></span>
<span id="cb44-10"><a href="#cb44-10" tabindex="-1"></a>mytable[<span class="dv">1</span>,<span class="dv">2</span>]</span>
<span id="cb44-11"><a href="#cb44-11" tabindex="-1"></a></span>
<span id="cb44-12"><a href="#cb44-12" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="st">"0"</span></span>
<span id="cb44-13"><a href="#cb44-13" tabindex="-1"></a></span>
<span id="cb44-14"><a href="#cb44-14" tabindex="-1"></a>mytable[d, <span class="st">"FALSE"</span>]</span>
<span id="cb44-15"><a href="#cb44-15" tabindex="-1"></a></span>
<span id="cb44-16"><a href="#cb44-16" tabindex="-1"></a>mytable[[<span class="dv">0</span>]]</span></code></pre></div>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a>construct formula, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb45-2"><a href="#cb45-2" tabindex="-1"></a>formula <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>))</span>
<span id="cb45-3"><a href="#cb45-3" tabindex="-1"></a></span>
<span id="cb45-4"><a href="#cb45-4" tabindex="-1"></a>jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="fu">list</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>))</span>
<span id="cb45-5"><a href="#cb45-5" tabindex="-1"></a></span>
<span id="cb45-6"><a href="#cb45-6" tabindex="-1"></a>vars <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">decomposeFormula</span>(<span class="at">formula =</span> formula)</span>
<span id="cb45-7"><a href="#cb45-7" tabindex="-1"></a></span>
<span id="cb45-8"><a href="#cb45-8" tabindex="-1"></a>vars <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">decomposeTerms</span>(vars)</span>
<span id="cb45-9"><a href="#cb45-9" tabindex="-1"></a></span>
<span id="cb45-10"><a href="#cb45-10" tabindex="-1"></a></span>
<span id="cb45-11"><a href="#cb45-11" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">unlist</span>(vars)</span>
<span id="cb45-12"><a href="#cb45-12" tabindex="-1"></a></span>
<span id="cb45-13"><a href="#cb45-13" tabindex="-1"></a>formula <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(formula)</span>
<span id="cb45-14"><a href="#cb45-14" tabindex="-1"></a></span>
<span id="cb45-15"><a href="#cb45-15" tabindex="-1"></a></span>
<span id="cb45-16"><a href="#cb45-16" tabindex="-1"></a>my_group <span class="ot">&lt;-</span> <span class="st">"lvi"</span></span>
<span id="cb45-17"><a href="#cb45-17" tabindex="-1"></a>my_dep <span class="ot">&lt;-</span> <span class="st">"age"</span></span>
<span id="cb45-18"><a href="#cb45-18" tabindex="-1"></a></span>
<span id="cb45-19"><a href="#cb45-19" tabindex="-1"></a>formula <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">'x = '</span>, group, <span class="st">'y = '</span>, dep)</span>
<span id="cb45-20"><a href="#cb45-20" tabindex="-1"></a>myformula <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(formula)</span>
<span id="cb45-21"><a href="#cb45-21" tabindex="-1"></a></span>
<span id="cb45-22"><a href="#cb45-22" tabindex="-1"></a>myformula <span class="ot">&lt;-</span> glueformula<span class="sc">::</span><span class="fu">gf</span>(my_group, my_dep)</span>
<span id="cb45-23"><a href="#cb45-23" tabindex="-1"></a></span>
<span id="cb45-24"><a href="#cb45-24" tabindex="-1"></a>myformula <span class="ot">&lt;-</span> glue<span class="sc">::</span><span class="fu">glue</span>( <span class="st">'x = '</span> , my_group, <span class="st">', y = '</span> , my_dep)</span>
<span id="cb45-25"><a href="#cb45-25" tabindex="-1"></a></span>
<span id="cb45-26"><a href="#cb45-26" tabindex="-1"></a>myformula <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(myformula)</span>
<span id="cb45-27"><a href="#cb45-27" tabindex="-1"></a></span></code></pre></div>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a>eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb46-2"><a href="#cb46-2" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb46-3"><a href="#cb46-3" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" tabindex="-1"></a><span class="fu">library</span>(survival)</span>
<span id="cb46-5"><a href="#cb46-5" tabindex="-1"></a>km_fit <span class="ot">&lt;-</span> <span class="fu">survfit</span>(<span class="fu">Surv</span>(OverallTime, Outcome) <span class="sc">~</span> LVI, <span class="at">data =</span> deneme)</span>
<span id="cb46-6"><a href="#cb46-6" tabindex="-1"></a></span>
<span id="cb46-7"><a href="#cb46-7" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb46-8"><a href="#cb46-8" tabindex="-1"></a>km_fit_median_df <span class="ot">&lt;-</span> <span class="fu">summary</span>(km_fit)</span>
<span id="cb46-9"><a href="#cb46-9" tabindex="-1"></a>km_fit_median_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(km_fit_median_df<span class="sc">$</span>table) <span class="sc">%&gt;%</span></span>
<span id="cb46-10"><a href="#cb46-10" tabindex="-1"></a>                janitor<span class="sc">::</span><span class="fu">clean_names</span>(<span class="at">dat =</span> ., <span class="at">case =</span> <span class="st">"snake"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb46-11"><a href="#cb46-11" tabindex="-1"></a>                tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="at">.data =</span> ., <span class="at">var =</span> <span class="st">"LVI"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a>construct formula <span class="dv">2</span>, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb47-2"><a href="#cb47-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb47-3"><a href="#cb47-3" tabindex="-1"></a><span class="fu">library</span>(survival)</span>
<span id="cb47-4"><a href="#cb47-4" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb47-6"><a href="#cb47-6" tabindex="-1"></a></span>
<span id="cb47-7"><a href="#cb47-7" tabindex="-1"></a>myoveralltime <span class="ot">&lt;-</span> deneme<span class="sc">$</span>OverallTime</span>
<span id="cb47-8"><a href="#cb47-8" tabindex="-1"></a>myoutcome <span class="ot">&lt;-</span> deneme<span class="sc">$</span>Outcome</span>
<span id="cb47-9"><a href="#cb47-9" tabindex="-1"></a>myexplanatory <span class="ot">&lt;-</span> deneme<span class="sc">$</span>LVI</span>
<span id="cb47-10"><a href="#cb47-10" tabindex="-1"></a></span>
<span id="cb47-11"><a href="#cb47-11" tabindex="-1"></a><span class="fu">class</span>(myoveralltime)</span>
<span id="cb47-12"><a href="#cb47-12" tabindex="-1"></a><span class="fu">class</span>(myoutcome)</span>
<span id="cb47-13"><a href="#cb47-13" tabindex="-1"></a><span class="fu">typeof</span>(myexplanatory)</span>
<span id="cb47-14"><a href="#cb47-14" tabindex="-1"></a></span>
<span id="cb47-15"><a href="#cb47-15" tabindex="-1"></a><span class="fu">is.ordered</span>(myexplanatory)</span>
<span id="cb47-16"><a href="#cb47-16" tabindex="-1"></a></span>
<span id="cb47-17"><a href="#cb47-17" tabindex="-1"></a>formula2 <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="st">"myexplanatory"</span>)</span>
<span id="cb47-18"><a href="#cb47-18" tabindex="-1"></a><span class="co"># formula2 &lt;- jmvcore::decomposeFormula(formula = formula2)</span></span>
<span id="cb47-19"><a href="#cb47-19" tabindex="-1"></a><span class="co"># formula2 &lt;- paste("", formula2)</span></span>
<span id="cb47-20"><a href="#cb47-20" tabindex="-1"></a><span class="co"># formula2 &lt;- as.formula(formula2)</span></span>
<span id="cb47-21"><a href="#cb47-21" tabindex="-1"></a>formula2 <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(formula2)</span>
<span id="cb47-22"><a href="#cb47-22" tabindex="-1"></a></span>
<span id="cb47-23"><a href="#cb47-23" tabindex="-1"></a></span>
<span id="cb47-24"><a href="#cb47-24" tabindex="-1"></a>formulaL <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="st">"myoveralltime"</span>)</span>
<span id="cb47-25"><a href="#cb47-25" tabindex="-1"></a><span class="co"># formulaL &lt;- jmvcore::decomposeFormula(formula = formulaL)</span></span>
<span id="cb47-26"><a href="#cb47-26" tabindex="-1"></a></span>
<span id="cb47-27"><a href="#cb47-27" tabindex="-1"></a>formulaR <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="st">"myoutcome"</span>)</span>
<span id="cb47-28"><a href="#cb47-28" tabindex="-1"></a><span class="co"># formulaR &lt;- jmvcore::decomposeFormula(formula = formulaR)</span></span>
<span id="cb47-29"><a href="#cb47-29" tabindex="-1"></a></span>
<span id="cb47-30"><a href="#cb47-30" tabindex="-1"></a>formula <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"Surv("</span>, formulaL, <span class="st">","</span>, formulaR, <span class="st">")"</span>)</span>
<span id="cb47-31"><a href="#cb47-31" tabindex="-1"></a><span class="co"># formula &lt;- jmvcore::composeTerm(formula)</span></span>
<span id="cb47-32"><a href="#cb47-32" tabindex="-1"></a><span class="co"># formula &lt;- as.formula(formula)</span></span>
<span id="cb47-33"><a href="#cb47-33" tabindex="-1"></a><span class="co"># jmvcore::constructFormula(terms = c(formula, formula2))</span></span>
<span id="cb47-34"><a href="#cb47-34" tabindex="-1"></a></span>
<span id="cb47-35"><a href="#cb47-35" tabindex="-1"></a>deneme <span class="sc">%&gt;%</span></span>
<span id="cb47-36"><a href="#cb47-36" tabindex="-1"></a>  finalfit<span class="sc">::</span><span class="fu">finalfit</span>(formula, formula2) <span class="ot">-&gt;</span> tUni</span>
<span id="cb47-37"><a href="#cb47-37" tabindex="-1"></a></span>
<span id="cb47-38"><a href="#cb47-38" tabindex="-1"></a>tUni</span></code></pre></div>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a>eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb48-2"><a href="#cb48-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb48-3"><a href="#cb48-3" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb48-4"><a href="#cb48-4" tabindex="-1"></a></span>
<span id="cb48-5"><a href="#cb48-5" tabindex="-1"></a>results <span class="ot">&lt;-</span> deneme <span class="sc">%&gt;%</span></span>
<span id="cb48-6"><a href="#cb48-6" tabindex="-1"></a>                ggstatsplot<span class="sc">::</span><span class="fu">ggbetweenstats</span>(LVI, Age)</span>
<span id="cb48-7"><a href="#cb48-7" tabindex="-1"></a>results</span>
<span id="cb48-8"><a href="#cb48-8" tabindex="-1"></a></span>
<span id="cb48-9"><a href="#cb48-9" tabindex="-1"></a>mydep <span class="ot">&lt;-</span> deneme<span class="sc">$</span>Age</span>
<span id="cb48-10"><a href="#cb48-10" tabindex="-1"></a>mygroup <span class="ot">&lt;-</span> deneme<span class="sc">$</span>LVI</span>
<span id="cb48-11"><a href="#cb48-11" tabindex="-1"></a></span>
<span id="cb48-12"><a href="#cb48-12" tabindex="-1"></a></span>
<span id="cb48-13"><a href="#cb48-13" tabindex="-1"></a>mygroup <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="st">"mygroup"</span>)</span>
<span id="cb48-14"><a href="#cb48-14" tabindex="-1"></a>mygroup <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(mygroup)</span>
<span id="cb48-15"><a href="#cb48-15" tabindex="-1"></a></span>
<span id="cb48-16"><a href="#cb48-16" tabindex="-1"></a>mydep <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="st">"mydep"</span>)</span>
<span id="cb48-17"><a href="#cb48-17" tabindex="-1"></a>mydep <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(mydep)</span>
<span id="cb48-18"><a href="#cb48-18" tabindex="-1"></a></span>
<span id="cb48-19"><a href="#cb48-19" tabindex="-1"></a></span>
<span id="cb48-20"><a href="#cb48-20" tabindex="-1"></a><span class="co"># not working</span></span>
<span id="cb48-21"><a href="#cb48-21" tabindex="-1"></a><span class="co"># eval(mygroup)</span></span>
<span id="cb48-22"><a href="#cb48-22" tabindex="-1"></a><span class="co"># rlang::eval_tidy(mygroup)</span></span>
<span id="cb48-23"><a href="#cb48-23" tabindex="-1"></a><span class="co"># !!mygroup</span></span>
<span id="cb48-24"><a href="#cb48-24" tabindex="-1"></a><span class="co"># mygroup</span></span>
<span id="cb48-25"><a href="#cb48-25" tabindex="-1"></a><span class="co"># sym(mygroup)</span></span>
<span id="cb48-26"><a href="#cb48-26" tabindex="-1"></a><span class="co"># quote(mygroup)</span></span>
<span id="cb48-27"><a href="#cb48-27" tabindex="-1"></a><span class="co"># enexpr(mygroup)</span></span>
<span id="cb48-28"><a href="#cb48-28" tabindex="-1"></a></span>
<span id="cb48-29"><a href="#cb48-29" tabindex="-1"></a>mygroup <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="st">"mygroup"</span>)</span>
<span id="cb48-30"><a href="#cb48-30" tabindex="-1"></a>mydep <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="st">"mydep"</span>)</span>
<span id="cb48-31"><a href="#cb48-31" tabindex="-1"></a></span>
<span id="cb48-32"><a href="#cb48-32" tabindex="-1"></a>formula1 <span class="ot">&lt;-</span> <span class="fu">paste</span>(mydep)</span>
<span id="cb48-33"><a href="#cb48-33" tabindex="-1"></a>formula1 <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(formula1)</span>
<span id="cb48-34"><a href="#cb48-34" tabindex="-1"></a></span>
<span id="cb48-35"><a href="#cb48-35" tabindex="-1"></a></span>
<span id="cb48-36"><a href="#cb48-36" tabindex="-1"></a>mygroup <span class="ot">&lt;-</span> <span class="fu">paste</span>(mygroup)</span>
<span id="cb48-37"><a href="#cb48-37" tabindex="-1"></a>mygroup <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(mygroup)</span>
<span id="cb48-38"><a href="#cb48-38" tabindex="-1"></a></span>
<span id="cb48-39"><a href="#cb48-39" tabindex="-1"></a>mydep <span class="ot">&lt;-</span> deneme<span class="sc">$</span>Age</span>
<span id="cb48-40"><a href="#cb48-40" tabindex="-1"></a>mygroup <span class="ot">&lt;-</span> deneme<span class="sc">$</span>LVI</span>
<span id="cb48-41"><a href="#cb48-41" tabindex="-1"></a></span>
<span id="cb48-42"><a href="#cb48-42" tabindex="-1"></a>mydep <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">resolveQuo</span>(jmvcore<span class="sc">::</span><span class="fu">enquo</span>(mydep))</span>
<span id="cb48-43"><a href="#cb48-43" tabindex="-1"></a>mygroup <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">resolveQuo</span>(jmvcore<span class="sc">::</span><span class="fu">enquo</span>(mygroup))</span>
<span id="cb48-44"><a href="#cb48-44" tabindex="-1"></a></span>
<span id="cb48-45"><a href="#cb48-45" tabindex="-1"></a>mydata2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">mygroup=</span>mygroup, <span class="at">mydep=</span>mydep)</span>
<span id="cb48-46"><a href="#cb48-46" tabindex="-1"></a></span>
<span id="cb48-47"><a href="#cb48-47" tabindex="-1"></a>results <span class="ot">&lt;-</span> mydata2 <span class="sc">%&gt;%</span></span>
<span id="cb48-48"><a href="#cb48-48" tabindex="-1"></a>                ggstatsplot<span class="sc">::</span><span class="fu">ggbetweenstats</span>(</span>
<span id="cb48-49"><a href="#cb48-49" tabindex="-1"></a><span class="at">x =</span> mygroup, <span class="at">y =</span> mydep  )</span>
<span id="cb48-50"><a href="#cb48-50" tabindex="-1"></a></span>
<span id="cb48-51"><a href="#cb48-51" tabindex="-1"></a>results</span>
<span id="cb48-52"><a href="#cb48-52" tabindex="-1"></a></span>
<span id="cb48-53"><a href="#cb48-53" tabindex="-1"></a></span>
<span id="cb48-54"><a href="#cb48-54" tabindex="-1"></a></span>
<span id="cb48-55"><a href="#cb48-55" tabindex="-1"></a>myformula <span class="ot">&lt;-</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">'x = '</span>, mygroup, <span class="st">', y = '</span> , mydep)</span>
<span id="cb48-56"><a href="#cb48-56" tabindex="-1"></a></span>
<span id="cb48-57"><a href="#cb48-57" tabindex="-1"></a>myformula <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(myformula)</span>
<span id="cb48-58"><a href="#cb48-58" tabindex="-1"></a></span>
<span id="cb48-59"><a href="#cb48-59" tabindex="-1"></a>myformula <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(myformula)</span>
<span id="cb48-60"><a href="#cb48-60" tabindex="-1"></a></span>
<span id="cb48-61"><a href="#cb48-61" tabindex="-1"></a></span>
<span id="cb48-62"><a href="#cb48-62" tabindex="-1"></a>mydep2 <span class="ot">&lt;-</span> <span class="fu">quote</span>(mydep)</span>
<span id="cb48-63"><a href="#cb48-63" tabindex="-1"></a>mygroup2 <span class="ot">&lt;-</span> <span class="fu">quote</span>(mygroup)</span>
<span id="cb48-64"><a href="#cb48-64" tabindex="-1"></a></span>
<span id="cb48-65"><a href="#cb48-65" tabindex="-1"></a></span>
<span id="cb48-66"><a href="#cb48-66" tabindex="-1"></a>results <span class="ot">&lt;-</span> deneme <span class="sc">%&gt;%</span></span>
<span id="cb48-67"><a href="#cb48-67" tabindex="-1"></a>                ggstatsplot<span class="sc">::</span><span class="fu">ggbetweenstats</span>(<span class="sc">!!</span>mygroup2, <span class="sc">!!</span>mydep2)</span>
<span id="cb48-68"><a href="#cb48-68" tabindex="-1"></a>results</span></code></pre></div>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a>construct formula <span class="dv">3</span>, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb49-2"><a href="#cb49-2" tabindex="-1"></a>formula <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="fu">c</span>(<span class="st">"myoveralltime"</span>, <span class="st">"myoutcome"</span>))</span>
<span id="cb49-3"><a href="#cb49-3" tabindex="-1"></a></span>
<span id="cb49-4"><a href="#cb49-4" tabindex="-1"></a>vars <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">decomposeFormula</span>(<span class="at">formula =</span> formula)</span>
<span id="cb49-5"><a href="#cb49-5" tabindex="-1"></a></span>
<span id="cb49-6"><a href="#cb49-6" tabindex="-1"></a></span>
<span id="cb49-7"><a href="#cb49-7" tabindex="-1"></a>explanatory <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="fu">c</span>(<span class="st">"explanatory"</span>))</span>
<span id="cb49-8"><a href="#cb49-8" tabindex="-1"></a></span>
<span id="cb49-9"><a href="#cb49-9" tabindex="-1"></a>explanatory <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">decomposeFormula</span>(<span class="at">formula =</span> explanatory)</span>
<span id="cb49-10"><a href="#cb49-10" tabindex="-1"></a></span>
<span id="cb49-11"><a href="#cb49-11" tabindex="-1"></a>explanatory <span class="ot">&lt;-</span> <span class="fu">unlist</span>(explanatory)</span>
<span id="cb49-12"><a href="#cb49-12" tabindex="-1"></a></span>
<span id="cb49-13"><a href="#cb49-13" tabindex="-1"></a>myformula <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"Surv("</span>, vars[<span class="dv">1</span>], <span class="st">", "</span>, vars[<span class="dv">2</span>], <span class="st">")"</span>)</span>
<span id="cb49-14"><a href="#cb49-14" tabindex="-1"></a></span>
<span id="cb49-15"><a href="#cb49-15" tabindex="-1"></a></span>
<span id="cb49-16"><a href="#cb49-16" tabindex="-1"></a></span>
<span id="cb49-17"><a href="#cb49-17" tabindex="-1"></a>deneme <span class="sc">%&gt;%</span></span>
<span id="cb49-18"><a href="#cb49-18" tabindex="-1"></a>finalfit<span class="sc">::</span><span class="fu">finalfit</span>(myformula, explanatory) <span class="ot">-&gt;</span> tUni</span></code></pre></div>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a>table tangram, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb50-2"><a href="#cb50-2" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb50-3"><a href="#cb50-3" tabindex="-1"></a></span>
<span id="cb50-4"><a href="#cb50-4" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" tabindex="-1"></a>table3 <span class="ot">&lt;-</span></span>
<span id="cb50-6"><a href="#cb50-6" tabindex="-1"></a>  tangram<span class="sc">::</span><span class="fu">html5</span>(</span>
<span id="cb50-7"><a href="#cb50-7" tabindex="-1"></a>    tangram<span class="sc">::</span><span class="fu">tangram</span>(</span>
<span id="cb50-8"><a href="#cb50-8" tabindex="-1"></a>      <span class="st">"Death ~ LVI + PNI + Age"</span>, deneme),</span>
<span id="cb50-9"><a href="#cb50-9" tabindex="-1"></a>    <span class="at">fragment=</span><span class="cn">TRUE</span>,</span>
<span id="cb50-10"><a href="#cb50-10" tabindex="-1"></a>    <span class="at">inline=</span><span class="st">"nejm.css"</span>,</span>
<span id="cb50-11"><a href="#cb50-11" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"HTML5 Table NEJM Style"</span>,</span>
<span id="cb50-12"><a href="#cb50-12" tabindex="-1"></a>    <span class="at">id=</span><span class="st">"tbl3"</span>)</span>
<span id="cb50-13"><a href="#cb50-13" tabindex="-1"></a></span>
<span id="cb50-14"><a href="#cb50-14" tabindex="-1"></a>table3</span>
<span id="cb50-15"><a href="#cb50-15" tabindex="-1"></a></span>
<span id="cb50-16"><a href="#cb50-16" tabindex="-1"></a>mydep <span class="ot">&lt;-</span> deneme<span class="sc">$</span>Age</span>
<span id="cb50-17"><a href="#cb50-17" tabindex="-1"></a>mygroup <span class="ot">&lt;-</span> deneme<span class="sc">$</span>Death</span>
<span id="cb50-18"><a href="#cb50-18" tabindex="-1"></a></span>
<span id="cb50-19"><a href="#cb50-19" tabindex="-1"></a></span>
<span id="cb50-20"><a href="#cb50-20" tabindex="-1"></a>formulaR <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span>  <span class="fu">c</span>(<span class="st">"LVI"</span>, <span class="st">"PNI"</span>, <span class="st">"Age"</span>))</span>
<span id="cb50-21"><a href="#cb50-21" tabindex="-1"></a></span>
<span id="cb50-22"><a href="#cb50-22" tabindex="-1"></a>formulaL <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="st">"Death"</span>)</span>
<span id="cb50-23"><a href="#cb50-23" tabindex="-1"></a></span>
<span id="cb50-24"><a href="#cb50-24" tabindex="-1"></a>formula <span class="ot">&lt;-</span> <span class="fu">paste</span>(formulaL, <span class="st">'~'</span>, formulaR)</span>
<span id="cb50-25"><a href="#cb50-25" tabindex="-1"></a></span>
<span id="cb50-26"><a href="#cb50-26" tabindex="-1"></a>formula <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(formula)</span>
<span id="cb50-27"><a href="#cb50-27" tabindex="-1"></a></span>
<span id="cb50-28"><a href="#cb50-28" tabindex="-1"></a></span>
<span id="cb50-29"><a href="#cb50-29" tabindex="-1"></a>table <span class="ot">&lt;-</span> tangram<span class="sc">::</span><span class="fu">html5</span>(</span>
<span id="cb50-30"><a href="#cb50-30" tabindex="-1"></a>    tangram<span class="sc">::</span><span class="fu">tangram</span>(formula, deneme</span>
<span id="cb50-31"><a href="#cb50-31" tabindex="-1"></a>                     ))</span>
<span id="cb50-32"><a href="#cb50-32" tabindex="-1"></a></span>
<span id="cb50-33"><a href="#cb50-33" tabindex="-1"></a>table</span>
<span id="cb50-34"><a href="#cb50-34" tabindex="-1"></a></span></code></pre></div>
<hr>
<div class="section level3">
<h3 id="arsenal">arsenal<a class="anchor" aria-label="anchor" href="#arsenal"></a>
</h3>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a>arsenal, results<span class="ot">=</span><span class="st">'asis'</span>, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb51-2"><a href="#cb51-2" tabindex="-1"></a></span>
<span id="cb51-3"><a href="#cb51-3" tabindex="-1"></a>tab1 <span class="ot">&lt;-</span> arsenal<span class="sc">::</span><span class="fu">tableby</span>(<span class="sc">~</span> Age <span class="sc">+</span> Sex, <span class="at">data =</span> deneme)</span>
<span id="cb51-4"><a href="#cb51-4" tabindex="-1"></a></span>
<span id="cb51-5"><a href="#cb51-5" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">summary</span>(tab1)</span>
<span id="cb51-6"><a href="#cb51-6" tabindex="-1"></a></span>
<span id="cb51-7"><a href="#cb51-7" tabindex="-1"></a></span>
<span id="cb51-8"><a href="#cb51-8" tabindex="-1"></a><span class="co"># results$object</span></span>
<span id="cb51-9"><a href="#cb51-9" tabindex="-1"></a><span class="co"># results$control</span></span>
<span id="cb51-10"><a href="#cb51-10" tabindex="-1"></a><span class="co"># results$totals</span></span>
<span id="cb51-11"><a href="#cb51-11" tabindex="-1"></a><span class="co"># results$hasStrata</span></span>
<span id="cb51-12"><a href="#cb51-12" tabindex="-1"></a><span class="co"># results$text</span></span>
<span id="cb51-13"><a href="#cb51-13" tabindex="-1"></a><span class="co"># results$pfootnote</span></span>
<span id="cb51-14"><a href="#cb51-14" tabindex="-1"></a><span class="co"># results$term.name</span></span>
<span id="cb51-15"><a href="#cb51-15" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb51-16"><a href="#cb51-16" tabindex="-1"></a><span class="co"># tab1$Call</span></span>
<span id="cb51-17"><a href="#cb51-17" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb51-18"><a href="#cb51-18" tabindex="-1"></a><span class="co"># tab1$control</span></span>
<span id="cb51-19"><a href="#cb51-19" tabindex="-1"></a></span>
<span id="cb51-20"><a href="#cb51-20" tabindex="-1"></a>tab1<span class="sc">$</span>tables <span class="co"># this is where results lie</span></span>
<span id="cb51-21"><a href="#cb51-21" tabindex="-1"></a></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="define-survival-time">define survival time<a class="anchor" aria-label="anchor" href="#define-survival-time"></a>
</h3>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a>define survival time, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb52-2"><a href="#cb52-2" tabindex="-1"></a>mydata<span class="sc">$</span>int <span class="ot">&lt;-</span> lubridate<span class="sc">::</span><span class="fu">interval</span>(</span>
<span id="cb52-3"><a href="#cb52-3" tabindex="-1"></a>  lubridate<span class="sc">::</span><span class="fu">ymd</span>(mydata<span class="sc">$</span>SurgeryDate),</span>
<span id="cb52-4"><a href="#cb52-4" tabindex="-1"></a>  lubridate<span class="sc">::</span><span class="fu">ymd</span>(mydata<span class="sc">$</span>LastFollowUpDate)</span>
<span id="cb52-5"><a href="#cb52-5" tabindex="-1"></a>  )</span>
<span id="cb52-6"><a href="#cb52-6" tabindex="-1"></a>mydata<span class="sc">$</span>OverallTime <span class="ot">&lt;-</span> lubridate<span class="sc">::</span><span class="fu">time_length</span>(mydata<span class="sc">$</span>int, <span class="st">"month"</span>)</span>
<span id="cb52-7"><a href="#cb52-7" tabindex="-1"></a>mydata<span class="sc">$</span>OverallTime <span class="ot">&lt;-</span> <span class="fu">round</span>(mydata<span class="sc">$</span>OverallTime, <span class="at">digits =</span> <span class="dv">1</span>)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="multivariate-analysis-survival">Multivariate Analysis Survival<a class="anchor" aria-label="anchor" href="#multivariate-analysis-survival"></a>
</h3>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" tabindex="-1"></a>Multivariate Analysis, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb53-2"><a href="#cb53-2" tabindex="-1"></a><span class="fu">library</span>(finalfit)</span>
<span id="cb53-3"><a href="#cb53-3" tabindex="-1"></a><span class="fu">library</span>(survival)</span>
<span id="cb53-4"><a href="#cb53-4" tabindex="-1"></a>explanatoryMultivariate <span class="ot">&lt;-</span> explanatoryKM</span>
<span id="cb53-5"><a href="#cb53-5" tabindex="-1"></a>dependentMultivariate <span class="ot">&lt;-</span> dependentKM</span>
<span id="cb53-6"><a href="#cb53-6" tabindex="-1"></a></span>
<span id="cb53-7"><a href="#cb53-7" tabindex="-1"></a>mydata <span class="sc">%&gt;%</span></span>
<span id="cb53-8"><a href="#cb53-8" tabindex="-1"></a>  <span class="fu">finalfit</span>(dependentMultivariate, explanatoryMultivariate) <span class="ot">-&gt;</span> tMultivariate</span>
<span id="cb53-9"><a href="#cb53-9" tabindex="-1"></a></span>
<span id="cb53-10"><a href="#cb53-10" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(tMultivariate, <span class="at">row.names=</span><span class="cn">FALSE</span>, <span class="at">align=</span><span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"l"</span>, <span class="st">"r"</span>, <span class="st">"r"</span>, <span class="st">"r"</span>, <span class="st">"r"</span>))</span></code></pre></div>
<hr>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a>eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb54-2"><a href="#cb54-2" tabindex="-1"></a><span class="co"># Find arguments in yaml</span></span>
<span id="cb54-3"><a href="#cb54-3" tabindex="-1"></a></span>
<span id="cb54-4"><a href="#cb54-4" tabindex="-1"></a>list_of_yaml <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb54-5"><a href="#cb54-5" tabindex="-1"></a>    <span class="fu">list.files</span>(<span class="at">path =</span> <span class="st">"~/histopathRprojects/ClinicoPath-Jamovi--prep/jmv"</span>,</span>
<span id="cb54-6"><a href="#cb54-6" tabindex="-1"></a>               <span class="at">pattern =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">.yaml$"</span>,</span>
<span id="cb54-7"><a href="#cb54-7" tabindex="-1"></a>               <span class="at">full.names =</span> <span class="cn">TRUE</span>,</span>
<span id="cb54-8"><a href="#cb54-8" tabindex="-1"></a>               <span class="at">all.files =</span> <span class="cn">TRUE</span>,</span>
<span id="cb54-9"><a href="#cb54-9" tabindex="-1"></a>               <span class="at">include.dirs =</span> <span class="cn">TRUE</span>,</span>
<span id="cb54-10"><a href="#cb54-10" tabindex="-1"></a>               <span class="at">recursive =</span> <span class="cn">TRUE</span></span>
<span id="cb54-11"><a href="#cb54-11" tabindex="-1"></a>    )</span>
<span id="cb54-12"><a href="#cb54-12" tabindex="-1"></a>)</span>
<span id="cb54-13"><a href="#cb54-13" tabindex="-1"></a></span>
<span id="cb54-14"><a href="#cb54-14" tabindex="-1"></a></span>
<span id="cb54-15"><a href="#cb54-15" tabindex="-1"></a>text_of_yaml_yml <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">map</span>(</span>
<span id="cb54-16"><a href="#cb54-16" tabindex="-1"></a>    <span class="at">.x =</span> list_of_yaml,</span>
<span id="cb54-17"><a href="#cb54-17" tabindex="-1"></a>    <span class="at">.f =</span> readLines</span>
<span id="cb54-18"><a href="#cb54-18" tabindex="-1"></a>)</span>
<span id="cb54-19"><a href="#cb54-19" tabindex="-1"></a></span>
<span id="cb54-20"><a href="#cb54-20" tabindex="-1"></a>text_of_yaml_yml <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(<span class="fu">unlist</span>(text_of_yaml_yml))</span>
<span id="cb54-21"><a href="#cb54-21" tabindex="-1"></a></span>
<span id="cb54-22"><a href="#cb54-22" tabindex="-1"></a>arglist <span class="ot">&lt;-</span></span>
<span id="cb54-23"><a href="#cb54-23" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_extract</span>(</span>
<span id="cb54-24"><a href="#cb54-24" tabindex="-1"></a>        <span class="at">string =</span> text_of_yaml_yml,</span>
<span id="cb54-25"><a href="#cb54-25" tabindex="-1"></a>        <span class="at">pattern =</span></span>
<span id="cb54-26"><a href="#cb54-26" tabindex="-1"></a>            <span class="st">"([[:alnum:]]*):"</span></span>
<span id="cb54-27"><a href="#cb54-27" tabindex="-1"></a>    )</span>
<span id="cb54-28"><a href="#cb54-28" tabindex="-1"></a></span>
<span id="cb54-29"><a href="#cb54-29" tabindex="-1"></a>arglist <span class="ot">&lt;-</span> arglist[<span class="sc">!</span><span class="fu">is.na</span>(arglist)]</span>
<span id="cb54-30"><a href="#cb54-30" tabindex="-1"></a>arglist <span class="ot">&lt;-</span> <span class="fu">unique</span>(arglist)</span>
<span id="cb54-31"><a href="#cb54-31" tabindex="-1"></a>arglist <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">":"</span>, <span class="co"># remove some characters</span></span>
<span id="cb54-32"><a href="#cb54-32" tabindex="-1"></a>                    <span class="at">replacement =</span> <span class="st">""</span>,</span>
<span id="cb54-33"><a href="#cb54-33" tabindex="-1"></a>                    <span class="at">x =</span> arglist)</span>
<span id="cb54-34"><a href="#cb54-34" tabindex="-1"></a>arglist <span class="ot">&lt;-</span> <span class="fu">trimws</span>(arglist) <span class="co"># remove whitespace</span></span>
<span id="cb54-35"><a href="#cb54-35" tabindex="-1"></a></span>
<span id="cb54-36"><a href="#cb54-36" tabindex="-1"></a><span class="fu">cat</span>(arglist, <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#</span></span>
<span><span class="co">#                 # tUni_df_descr &lt;- paste0("When ",</span></span>
<span><span class="co">#                 #                         tUni_df$dependent_surv_overall_time_outcome[1],</span></span>
<span><span class="co">#                 #                         " is ",</span></span>
<span><span class="co">#                 #                         tUni_df$x[2],</span></span>
<span><span class="co">#                 #                         ", there is ",</span></span>
<span><span class="co">#                 #                         tUni_df$hr_univariable[2],</span></span>
<span><span class="co">#                 #                         " times risk than ",</span></span>
<span><span class="co">#                 #                         "when ",</span></span>
<span><span class="co">#                 #                         tUni_df$dependent_surv_overall_time_outcome[1],</span></span>
<span><span class="co">#                 #                         " is ",</span></span>
<span><span class="co">#                 #                         tUni_df$x[1],</span></span>
<span><span class="co">#                 #                         "."</span></span>
<span><span class="co">#                 # )</span></span>
<span><span class="co">#</span></span>
<span><span class="co">#                 # results5 &lt;- tUni_df_descr</span></span></code></pre></div>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a>eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb56-2"><a href="#cb56-2" tabindex="-1"></a>boot<span class="sc">::</span>melanoma</span>
<span id="cb56-3"><a href="#cb56-3" tabindex="-1"></a>rio<span class="sc">::</span><span class="fu">export</span>(<span class="at">x =</span> boot<span class="sc">::</span>melanoma, <span class="at">file =</span> <span class="st">"data/melanoma.csv"</span>)</span>
<span id="cb56-4"><a href="#cb56-4" tabindex="-1"></a></span>
<span id="cb56-5"><a href="#cb56-5" tabindex="-1"></a>survival<span class="sc">::</span>colon</span>
<span id="cb56-6"><a href="#cb56-6" tabindex="-1"></a>rio<span class="sc">::</span><span class="fu">export</span>(<span class="at">x =</span> survival<span class="sc">::</span>colon, <span class="at">file =</span> <span class="st">"data/colon.csv"</span>)</span>
<span id="cb56-7"><a href="#cb56-7" tabindex="-1"></a></span>
<span id="cb56-8"><a href="#cb56-8" tabindex="-1"></a><span class="co"># BreastCancerData &lt;- "https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.data"</span></span>
<span id="cb56-9"><a href="#cb56-9" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb56-10"><a href="#cb56-10" tabindex="-1"></a><span class="co"># BreastCancerNames &lt;- "https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.names"</span></span>
<span id="cb56-11"><a href="#cb56-11" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb56-12"><a href="#cb56-12" tabindex="-1"></a><span class="co"># BreastCancerData &lt;- read.csv(file = BreastCancerData, header = FALSE,</span></span>
<span id="cb56-13"><a href="#cb56-13" tabindex="-1"></a><span class="co">#                 col.names = c("id","CT", "UCSize", "UCShape", "MA", "SECS", "BN", "BC", "NN","M", "diagnosis") )</span></span>
<span id="cb56-14"><a href="#cb56-14" tabindex="-1"></a></span>
<span id="cb56-15"><a href="#cb56-15" tabindex="-1"></a><span class="fu">library</span>(mlbench)</span>
<span id="cb56-16"><a href="#cb56-16" tabindex="-1"></a></span>
<span id="cb56-17"><a href="#cb56-17" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"BreastCancer"</span>)</span>
<span id="cb56-18"><a href="#cb56-18" tabindex="-1"></a>BreastCancer</span>
<span id="cb56-19"><a href="#cb56-19" tabindex="-1"></a></span>
<span id="cb56-20"><a href="#cb56-20" tabindex="-1"></a>rio<span class="sc">::</span><span class="fu">export</span>(<span class="at">x =</span> BreastCancer, <span class="at">file =</span> <span class="st">"data/BreastCancer.csv"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" tabindex="-1"></a>pairwise, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb57-2"><a href="#cb57-2" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb57-3"><a href="#cb57-3" tabindex="-1"></a><span class="co"># names(deneme)</span></span>
<span id="cb57-4"><a href="#cb57-4" tabindex="-1"></a></span>
<span id="cb57-5"><a href="#cb57-5" tabindex="-1"></a>mypairwise <span class="ot">&lt;-</span>  survminer<span class="sc">::</span><span class="fu">pairwise_survdiff</span>(</span>
<span id="cb57-6"><a href="#cb57-6" tabindex="-1"></a>                            <span class="at">formula =</span> survival<span class="sc">::</span><span class="fu">Surv</span>(OverallTime, Outcome) <span class="sc">~</span> TStage,</span>
<span id="cb57-7"><a href="#cb57-7" tabindex="-1"></a>                            <span class="at">data =</span> deneme,</span>
<span id="cb57-8"><a href="#cb57-8" tabindex="-1"></a>                            <span class="at">p.adjust.method =</span> <span class="st">"BH"</span></span>
<span id="cb57-9"><a href="#cb57-9" tabindex="-1"></a>                            )</span>
<span id="cb57-10"><a href="#cb57-10" tabindex="-1"></a></span>
<span id="cb57-11"><a href="#cb57-11" tabindex="-1"></a></span>
<span id="cb57-12"><a href="#cb57-12" tabindex="-1"></a>mypairwise2 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(mypairwise[[<span class="st">"p.value"</span>]]) <span class="sc">%&gt;%</span></span>
<span id="cb57-13"><a href="#cb57-13" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>()</span>
<span id="cb57-14"><a href="#cb57-14" tabindex="-1"></a></span>
<span id="cb57-15"><a href="#cb57-15" tabindex="-1"></a>mypairwise2 <span class="sc">%&gt;%</span></span>
<span id="cb57-16"><a href="#cb57-16" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>rowname) <span class="sc">%&gt;%</span></span>
<span id="cb57-17"><a href="#cb57-17" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="fu">complete.cases</span>(.)) <span class="sc">%&gt;%</span></span>
<span id="cb57-18"><a href="#cb57-18" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">description =</span></span>
<span id="cb57-19"><a href="#cb57-19" tabindex="-1"></a>                            glue<span class="sc">::</span><span class="fu">glue</span>(</span>
<span id="cb57-20"><a href="#cb57-20" tabindex="-1"></a>                                <span class="st">"The comparison between rowname and name has a p-value of round(value, 2)."</span></span>
<span id="cb57-21"><a href="#cb57-21" tabindex="-1"></a>                            )</span>
<span id="cb57-22"><a href="#cb57-22" tabindex="-1"></a>                    ) <span class="sc">%&gt;%</span></span>
<span id="cb57-23"><a href="#cb57-23" tabindex="-1"></a>                    dplyr<span class="sc">::</span><span class="fu">select</span>(description) <span class="sc">%&gt;%</span></span>
<span id="cb57-24"><a href="#cb57-24" tabindex="-1"></a>                    dplyr<span class="sc">::</span><span class="fu">pull</span>() <span class="ot">-&gt;</span> mypairwisedescription</span>
<span id="cb57-25"><a href="#cb57-25" tabindex="-1"></a></span>
<span id="cb57-26"><a href="#cb57-26" tabindex="-1"></a>mypairwisedescription <span class="ot">&lt;-</span> <span class="fu">unlist</span>(mypairwisedescription)</span>
<span id="cb57-27"><a href="#cb57-27" tabindex="-1"></a></span>
<span id="cb57-28"><a href="#cb57-28" tabindex="-1"></a>mypairwisedescription <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb57-29"><a href="#cb57-29" tabindex="-1"></a><span class="st">"In the pairwise comparison of"</span>,</span>
<span id="cb57-30"><a href="#cb57-30" tabindex="-1"></a>mypairwisedescription)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="diagrams">Diagrams<a class="anchor" aria-label="anchor" href="#diagrams"></a>
</h3>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">echo</span><span class="op">=</span><span class="cn">FALSE</span></span>
<span><span class="fu">DiagrammeR</span><span class="fu">::</span><span class="fu"><a href="https://rich-iannone.github.io/DiagrammeR/reference/grViz.html" class="external-link">grViz</a></span><span class="op">(</span></span>
<span>  diagram <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org/reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"vignettes/graph.gv"</span><span class="op">)</span>,</span>
<span>  height <span class="op">=</span> <span class="fl">200</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" tabindex="-1"></a>eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span>, echo<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb59-2"><a href="#cb59-2" tabindex="-1"></a>DiagrammeR<span class="sc">::</span><span class="fu">mermaid</span>(</span>
<span id="cb59-3"><a href="#cb59-3" tabindex="-1"></a>  <span class="at">diagram =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"vignettes/graph.mmd"</span>),</span>
<span id="cb59-4"><a href="#cb59-4" tabindex="-1"></a>  <span class="at">height =</span> <span class="dv">200</span></span>
<span id="cb59-5"><a href="#cb59-5" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>

Remotes:

    easystats/correlation,
    easystats/report

# Future Works:

## ndphillips/FFTrees

            # gtsummary

            # myvars &lt;- jmvcore::constructFormula(terms = self$options$vars)
            # myvars &lt;- jmvcore::decomposeFormula(formula = myvars)
            # myvars &lt;- unlist(myvars)
            # mytableone2 &lt;- self$data %&gt;%
            #     dplyr::select(myvars)
            # mytableone2 &lt;- gtsummary::tbl_summary(mytableone2)
            # self$results$text2$setContent(mytableone2)



    # - name: outcomeLevel
    #   title: |
    #       Select Event (Death, Recurrence)
    #   type: Level
    #   variable: (outcome)


,
arsenal,

rlang,
knitr,
remotes,
kableExtra,

caret,
irr
Remotes:


easystats/bayestestR,
easystats/performance,
easystats/parameters,
easystats/report
Suggests:
    effectsize,
emmeans,
rmarkdown,
igraph,
iterators,
rms,
commonmark,
sass


# #
# #
# #     if (is.null(self$options$dep) || is.null(self$options$group))
# #         return()
# #
# #     mydata &lt;- self$data
# #
# #     mydep &lt;- self$data[[self$options$dep]]
# #
# #     mygroup &lt;- self$data[[self$options$group]]
# #
# #
# #     # klass &lt;- print(
# #     #     list(
# #     #         "mydep" = c(typeof(mydep), class(mydep)),
# #     #         "mygroup" = c(typeof(mygroup), class(mygroup))
# #     #         )
# #     #     )
# #
# #
# #     # self$results$text1$setContent(klass)
# #
# #
# #     # plotData &lt;- data.frame(gr = mygroup,
# #     #                        dp = mydep)
# #     # plotData &lt;- jmvcore::naOmit(plotData)
# #     # mydata_changes &lt;- plotData %&gt;%
# #     #     dplyr::group_by(gr, dp) %&gt;%
# #     #     dplyr::tally(x = .)
# #     #
# #     # self$results$text2$setContent(mydata_changes)
# #     #
# #     # plotData &lt;- data.frame(gr = mygroup,
# #     #                        dp = mydep)
# #     #
# #     # plotData &lt;- jmvcore::naOmit(plotData)
# #     #
# #     #
# #     # mydata_changes &lt;- plotData %&gt;%
# #     #     dplyr::group_by(gr, dp) %&gt;%
# #     #     dplyr::tally(x = .)
# #     #
# #     #
# #     # deneme &lt;- ggalluvial::is_alluvia_form(
# #     #     as.data.frame(mydata_changes),
# #     #     axes = 1:2, silent = TRUE)
# #
# #     # nodes = data.frame("name" =
# #     #                        c(self$options$group,
# #     #                          self$options$dep))
# #     #
# #     # links &lt;- mydata_changes
# #     #
# #     # names(links) = c("source", "target", "value")
# #     #
# #     # deneme &lt;- networkD3::sankeyNetwork(Links = links, Nodes = nodes,
# #     #                                  Source = "source", Target = "target",
# #     #                                  Value = "value", NodeID = "name",
# #     #                                  fontSize= 12, nodeWidth = 30)
# #
# #
# #
# #     # self$results$text3$setContent(deneme)
# #
# #
# #
# #
# #     # Prepare Data for Plot ----
# #
# #     direction &lt;- self$options$direction
# #
# #     mydata &lt;- self$data
# #
# #     mydep &lt;- self$data[[self$options$dep]]
# #
# #     mygroup &lt;- self$data[[self$options$group]]
# #
# #     contin &lt;- c("integer", "numeric", "double")
# #     categ &lt;- c("factor")
# #
# # # independent, factor, continuous ----
# # # ggbetweenstats    violin plots    for comparisons between groups/conditions
# #     if (direction == "independent" &amp;&amp; class(mygroup) == "factor" &amp;&amp; class(mydep) %in% contin) {
# #             plotData &lt;- data.frame(gr = mygroup,
# #                                    dp = jmvcore::toNumeric(mydep))
# #
# #
# #
# #
# # # independent, continuous, continuous ----
# # # ggscatterstats    scatterplots    for correlations between two variables
# #
# #     if (direction == "independent" &amp;&amp; class(mygroup) %in% contin &amp;&amp; class(mydep) %in% contin) {
# #             plotData &lt;- data.frame(gr = jmvcore::toNumeric(mygroup),
# #                                    dp = jmvcore::toNumeric(mydep))
# #
# #
# #
# #
# #
# # # independent, factor, factor ----
# # # ggbarstats    bar charts  for categorical data
# #     if (direction == "independent" &amp;&amp; class(mygroup) == "factor" &amp;&amp; class(mydep) == "factor") {
# #
# #             plotData &lt;- data.frame(gr = mygroup,
# #                                    dp = mydep)
# #
# #
# #
# #     # independent, continuous, factor ----
# #
# #     if (direction == "independent" &amp;&amp; class(mygroup) %in% contin &amp;&amp; class(mydep) == "factor") {
# #
# #         stop("Please switch the values: factor variable should be on x-axis and continuous variable should be on y-axis")
# #         }
# #
# #
# #
# #     # repeated, factor, continuous ----
# #     # ggwithinstats     violin plots    for comparisons within groups/conditions
# #
# #
# #
# #     if (direction == "repeated" &amp;&amp; class(mygroup) == "factor" &amp;&amp; class(mydep) %in% contin) {
# #             plotData &lt;- data.frame(gr = mygroup,
# #                                    dp = jmvcore::toNumeric(mydep))
# #
# #
# #
# #
# #     # repeated, continuous, continuous ----
# #     # rmcorr::rmcorr()
# #
# #
# #     if (direction == "repeated" &amp;&amp; class(mygroup) %in% contin &amp;&amp; class(mydep) %in% contin) {
# #
# #
# #         stop("Currently this module does not support repeated measures correlation.")
# #
# #     }
# #
# #
# #     # repeated, factor, factor ----
# #     # http://corybrunson.github.io/ggalluvial/
# #
# #     if (direction == "repeated" &amp;&amp; class(mygroup) == "factor" &amp;&amp; class(mydep) == "factor") {
# #             plotData &lt;- data.frame(gr = mygroup,
# #                                    dp = mydep)
# #
# #
# #
# #     # repeated, continuous, factor ----
# #
# #     if (direction == "repeated" &amp;&amp; class(mygroup) %in% contin &amp;&amp; class(mydep) == "factor") {
# #
# 
# 
# 
# 
# 
# # Results ----
# 
# 
# 
# # Send Data to Plot ----
# 
# # plotData &lt;- jmvcore::naOmit(plotData)
# # image &lt;- self$results$plot
# # image$setState(plotData)
# 
# 
# # }
# 
# 
# # ,
# #
# # .plot = function(image, ...) {  # &lt;-- the plot function ----
# #
# #
# #     if (is.null(self$options$dep) || is.null(self$options$group))
# #         return()
# #
# #
# #     plotData &lt;- image$state
# #
# #     direction &lt;- self$options$direction
# #
# #     mydata &lt;- self$data
# #
# #     mydep &lt;- self$data[[self$options$dep]]
# #
# #     mygroup &lt;- self$data[[self$options$group]]
# #
# #     contin &lt;- c("integer", "numeric", "double")
# #     categ &lt;- c("factor")
# #
# #     # independent, factor, continuous ----
# #     # ggbetweenstats    violin plots    for comparisons between groups/conditions
# #
# #     if (direction == "independent" &amp;&amp; class(mygroup) == "factor" &amp;&amp; class(mydep) %in% contin) {
# #
# #             plot &lt;- ggstatsplot::ggbetweenstats(
# #                 data = plotData,
# #                 x = gr,
# #                 y = dp
# #             )
# #         }
# #
# #     # independent, continuous, continuous ----
# #     # ggscatterstats    scatterplots    for correlations between two variables
# #
# #
# #         if (direction == "independent" &amp;&amp; class(mygroup) %in% contin &amp;&amp; class(mydep) %in% contin) {
# #
# #             plot &lt;- ggstatsplot::ggscatterstats(
# #                 data = plotData,
# #                 x = gr,
# #                 y = dp
# #             )
# #
# #         }
# #
# #     # independent, factor, factor ----
# #     # ggbarstats    bar charts  for categorical data
# #
# #
# #     if (direction == "independent" &amp;&amp; class(mygroup) == "factor" &amp;&amp; class(mydep) == "factor") {
# #
# #
# #
# #             plot &lt;- ggstatsplot::ggbarstats(
# #                                     data = plotData,
# #                                     main = gr,
# #                                     condition = dp
# #                                 )
# #         }
# #
# #     # repeated, factor, continuous ----
# #     # ggwithinstats     violin plots    for comparisons within groups/conditions
# #
# #
# # if (direction == "repeated" &amp;&amp; class(mygroup) == "factor" &amp;&amp; class(mydep) %in% contin) {
# #
# #
# #             plot &lt;- ggstatsplot::ggwithinstats(
# #                 data = plotData,
# #                 x = gr,
# #                 y = dp
# #             )
# #
# #         }
# #
# #     # repeated, continuous, continuous ----
# #     # rmcorr::rmcorr()
# #
# #             # my.rmc &lt;- rmcorr::rmcorr(participant = Subject,
# #             #                          measure1 = PacO2,
# #             #                          measure2 = pH,
# #             #                          dataset = rmcorr::bland1995)
# #             #
# #             # plot(my.rmc, overall = TRUE)
# #             #
# #             # ggplot2::ggplot(rmcorr::bland1995,
# #             #                 ggplot2::aes(x = PacO2,
# #             #                              y = pH,
# #             #                              group = factor(Subject),
# #             #                              color = factor(Subject)
# #             #                 )
# #             # ) +
# #             #     ggplot2::geom_point(ggplot2::aes(colour = factor(Subject))) +
# #             #     ggplot2::geom_line(ggplot2::aes(y = my.rmc$model$fitted.values), linetype = 1)
# #
# #
# #
# #     # repeated, factor, factor ----
# #     # http://corybrunson.github.io/ggalluvial/
# #     # networkD3
# #
# #
# #     if (direction == "repeated" &amp;&amp; class(mygroup) == "factor" &amp;&amp; class(mydep) == "factor") {
# #
# #
# #             mydata_changes &lt;- plotData %&gt;%
# #                 dplyr::group_by(gr, dp) %&gt;%
# #                 dplyr::tally(x = .)
# #
# #
# #             # head(as.data.frame(UCBAdmissions), n = 12)
# #
# #             # ggalluvial::is_alluvia_form(
# #             #     as.data.frame(UCBAdmissions),
# #             #     axes = 1:3, silent = TRUE)
# #
# #
# #
# #             # plot &lt;- ggplot(as.data.frame(UCBAdmissions),
# #             #        aes(y = Freq, axis1 = Gender, axis2 = Dept)) +
# #             #     geom_alluvium(aes(fill = Admit), width = 1/12) +
# #             #     geom_stratum(width = 1/12, fill = "black", color = "grey") +
# #             #     geom_label(stat = "stratum", infer.label = TRUE) +
# #             #     scale_x_discrete(limits = c("Gender", "Dept"), expand = c(.05, .05)) +
# #             #     scale_fill_brewer(type = "qual", palette = "Set1") +
# #             #     ggtitle("UC Berkeley admissions and rejections, by sex and department")
# #
# #
# #
# #
# #
# #             stratum &lt;- ggalluvial::StatStratum
# #
# #             plot &lt;- ggplot2::ggplot(data = mydata_changes,
# #                                     ggplot2::aes(axis1 = gr,
# #                        axis2 = dp,
# #                        y = n)) +
# #                 ggplot2::scale_x_discrete(limits = c(self$options$group, self$options$dep),
# #                                  expand = c(.1, .05)
# #                 ) +
# #                 ggplot2::xlab(self$options$group) +
# #                 ggalluvial::geom_alluvium(ggplot2::aes(fill = gr,
# #                                   colour = gr
# #                 )) +
# #                 ggalluvial::geom_stratum() +
# #                 ggalluvial::stat_stratum(geom = "stratum") +
# #                 ggplot2::geom_label(stat = stratum, infer.label = TRUE) +
# #
# #                 # ggalluvial::geom_stratum(stat = "stratum", label.strata = TRUE) +
# #                 # ggplot2::geom_text(stat = "stratum", infer.label = TRUE) +
# #                 # ggplot2::geom_text(label.strata = TRUE) +
# #                 # ggalluvial::geom_stratum()
# #                 ggplot2::theme_minimal()
# #                 # ggplot2::ggtitle(paste0("Changes in ", self$options$group))
# #             #
# #             #
# #             # nodes = data.frame("name" =
# #             #                        c(self$options$group,
# #             #                          self$options$dep))
# #             #
# #             # links &lt;- mydata_changes
# #             #
# #             # names(links) = c("source", "target", "value")
# #             #
# #             # plot &lt;- networkD3::sankeyNetwork(Links = links, Nodes = nodes,
# #             #               Source = "source", Target = "target",
# #             #               Value = "value", NodeID = "name",
# #             #               fontSize= 12, nodeWidth = 30)
# #
# #             # library(networkD3)
# #             # nodes = data.frame("name" =
# #             #                        c("Node A", # Node 0
# #             #                          "Node B", # Node 1
# #             #                          "Node C", # Node 2
# #             #                          "Node D"))# Node 3
# #             # links = as.data.frame(matrix(c(
# #             #     0, 1, 10, # Each row represents a link. The first number
# #             #     0, 2, 20, # represents the node being conntected from.
# #             #     1, 3, 30, # the second number represents the node connected to.
# #             #     2, 3, 40),# The third number is the value of the node
# #             #     byrow = TRUE, ncol = 3))
# #             # names(links) = c("source", "target", "value")
# #             # sankeyNetwork(Links = links, Nodes = nodes,
# #             #               Source = "source", Target = "target",
# #             #               Value = "value", NodeID = "name",
# #             #               fontSize= 12, nodeWidth = 30)
# #
# #             # plot &lt;- c("Under Construction")
# #
# #             # plot &lt;- list(plot1,
# #             #              plot2)
# #
# #
# #
# #         }
# #
# #
# #
# #     print(plot)
# #     TRUE
# #
# # }
# #
# #         )
# # )


# Packages


Imports: 
    jmvcore (&gt;= 0.8.5),
    R6,
    dplyr,
    survival,
    survminer,
    finalfit,
    arsenal,
    purrr,
    glue,
    janitor,
    ggplot2,
    forcats,
    ggstatsplot,
    tableone,
    explore,
    tangram,
    irr,
    rlang,
    tidyselect,
    knitr



Remotes:
    easystats/correlation,
    neuropsychology/psycho.R@0.4.0


Suggests:
    rmarkdown,
    remotes,
    devtools,
    lubridate,
    broom, 
    GGally, 
    gridExtra, 
    Hmisc, 
    lme4, 
    magrittr, 
    mice, 
    pillar, 
    pROC, 
    scales, 
    stringr, 
    tibble, 
    tidyr, 
    covr, 
    cmprsk, 
    readr, 
    rstan, 
    survey, 
    testthat, 
    backports, 
    generics, 
    assertthat, 
    pkgconfig, 
    Rcpp, 
    BH, 
    plogr, 
    ellipsis, 
    gtable, 
    progress, 
    RColorBrewer, 
    reshape, 
    digest, 
    lazyeval, 
    viridisLite, 
    withr, 
    Formula, 
    latticeExtra, 
    acepack, 
    data.table, 
    htmlTable, 
    viridis, 
    htmltools, 
    base64enc, 
    minqa, 
    nloptr, 
    RcppEigen, 
    mitml, 
    cli, 
    crayon, 
    fansi, 
    utf8, 
    vctrs, 
    farver, 
    labeling, 
    munsell, 
    lifecycle, 
    stringi, 
    ggpubr, 
    maxstat, 
    survMisc, 
    jsonlite, 
    rex, 
    evaluate, 
    highr, 
    markdown, 
    xfun, 
    hms, 
    clipr, 
    mime, 
    tinytex, 
    StanHeaders, 
    inline, 
    loo, 
    pkgbuild, 
    numDeriv, 
    mitools, 
    pkgload, 
    praise, 
    zeallot, 
    colorspace, 
    prettyunits, 
    checkmate, 
    htmlwidgets, 
    pan, 
    jomo, 
    ordinal, 
    ucminf, 
    ggrepel,
    ggsci, 
    cowplot, 
    ggsignif,
    polynom, 
    exactRankTests,
    mvtnorm, 
    KMsurv, 
    zoo, 
    km.ci,
    xtable,
    curl, 
    openssl, 
    askpass, 
    sys, 
    matrixStats,
    callr, 
    desc,
    rprojroot,
    processx, 
    ps, 
    DBI,
    png, 
    jpeg, 
    boot, 
    grid, 
    snakecase,
    caret,
    iterators,
    timeDate,
    foreach,
    plyr,
    ModelMetrics,
    nlme,
    reshape2,
    recipes,
    BradleyTerry2,
    e1071,
    earth,
    fastICA,
    gam,
    ipred,
    kernlab,
    klaR,
    MASS,
    ellipse,
    mda,
    mgcv,
    mlbench,
    MLmetrics,
    nnet,
    party,
    pls,
    proxy,
    randomForest,
    RANN,
    spls,
    subselect,
    pamr,
    superpc,
    Cubist,
    rpart,
    qgraph,
    nFactors,
    ppcor,
    rstanarm,
    MuMIn,
    blavaan,
    
    
    
    
    



# Develop



# install.packages('jmvtools', repos=c('https://repo.jamovi.org', 'https://cran.r-project.org'))

# jmvtools::check("C://Program Files//jamovi//bin")

# jmvtools::install(home = "C://Program Files//jamovi//bin")
# 
# jmvtools::install(pkg = "C://ClinicoPath", home = "C://Program Files//jamovi//bin")

# devtools::build(path = "C:\\ClinicoPathOutput")

# .libPaths(new = "C:\\ClinicoPathLibrary")

# devtools::build(path = "C:\\ClinicoPathOutput", binary = TRUE, args = c('--preclean'))

Sys.setenv(TZ = "Europe/Istanbul")

library("jmvtools")

jmvtools::check()

# rhub::check_on_macos()

# rhub::check_for_cran()

# codemetar::write_codemeta()


devtools::check()


# From CRAN
# install.packages("attachment")
# From github
# remotes::install_github("ThinkR-open/attachment")

# If you correctly called the package dependencies in the {roxygen2} skeleton, in your functions, in your Rmarkdown vignettes and in your tests, you only need to run attachment::att_to_description()just before devtools::check(). And that’s it, there is nothing else to remember !
# attachment::att_to_description()



devtools::document()

codemetar::write_codemeta()

# rmarkdown::render('/Users/serdarbalciold/histopathRprojects/ClinicoPath/README.Rmd',  encoding = 'UTF-8', knit_root_dir = '~/histopathRprojects/ClinicoPath', quiet = TRUE)


pkgdown::build_articles()
# pkgdown::build_favicons()
pkgdown::build_home()
pkgdown::build_news()
pkgdown::build_reference()
# pkgdown::build_reference_index()
# pkgdown::build_tutorials()

pkgdown::build_site()

# devtools::github_release()


# gitUpdateCommitPush
CommitMessage &lt;- paste("updated on ", Sys.time(), sep = "")
wd &lt;- getwd()
gitCommand &lt;- paste("cd ", wd, " \n git add . \n git commit --message '", CommitMessage, "' --no-verify \n git push origin master \n", sep = "")
# gitCommand &lt;- paste("cd ", wd, " \n git add . \n git commit --no-verify --message '", CommitMessage, "' \n git push origin master \n", sep = "")
system(command = gitCommand, intern = TRUE)



# jmvtools::install()
# 
# jmvtools::create('SuperAwesome')
# 
# jmvtools::addAnalysis(name='ttest', title='Independent Samples T-Test')
# 
# jmvtools::addAnalysis(name='survival', title='survival')
# 
# jmvtools::addAnalysis(name='correlation', title='correlation')
# 
# jmvtools::addAnalysis(name='tableone', title='TableOne')
# 
# jmvtools::addAnalysis(name='crosstable', title='CrossTable')
# 
# 
# jmvtools::addAnalysis(name='writesummary', title='WriteSummary')

# jmvtools::addAnalysis(name='finalfit', title='FinalFit')

# jmvtools::addAnalysis(name='multisurvival', title='FinalFit Multivariate Survival')

# jmvtools::addAnalysis(name='report', title='Report General Features')

# jmvtools::addAnalysis(name='frequencies', title='Frequencies')

# jmvtools::addAnalysis(name='statsplot', title='GGStatsPlot')

# jmvtools::addAnalysis(name='statsplot2', title='GGStatsPlot2')

# jmvtools::addAnalysis(name='statsplotbetween', title='Stats Plot Between')

# jmvtools::addAnalysis(name='competingsurvival', title='Competing Survival')


# jmvtools::addAnalysis(name='scat2', title='scat2')

# jmvtools::addAnalysis(name='decisioncalculator', title='Decision Calculator')

# jmvtools::addAnalysis(name='agreement', title='Interrater Intrarater Reliability')

# jmvtools::addAnalysis(name='cluster', title='Cluster Analysis')

# jmvtools::addAnalysis(name='tree', title='Decision Tree')
# 
# jmvtools::addAnalysis(name='oddsratio', title='Odds Ratio Table and Plot')

# jmvtools::addAnalysis(name='roc', title='ROC')

# jmvtools::addAnalysis(name = "icccoeff", title = "ICC coefficients")

# jmvtools::addAnalysis(name = "gtsummary", title = "Tables via gtsummary")

# jmvtools::addAnalysis(name = "alluvial", title = "Alluvial Diagrams")



Sys.unsetenv("R_PROFILE_USER")
devtools::check()

devtools::install()

# jmvtools::check()
jmvtools::install()

formula &lt;- jmvcore::constructFormula(terms = c("A", "B", "C"), dep = "D")

jmvcore::constructFormula(terms = list("A", "B", c("C", "D")), dep = "E")

jmvcore::constructFormula(terms = "A B")


jmvcore::constructFormula(terms = list("A", "B", "C"))

vars &lt;- jmvcore::decomposeFormula(formula = formula) 

unlist(vars)

cformula &lt;- jmvcore::composeTerm(components = formula)

jmvcore::composeTerm("A B")

jmvcore::composeTerm(components = c("A", "B", "C"))

jmvcore::decomposeTerm(term = c("A", "B", "C"))

jmvcore::decomposeTerm(term = formula)

jmvcore::decomposeTerm(term = cformula)



composeTerm &lt;- jmvcore::composeTerm(components = c("A", "B", "C"))

jmvcore::decomposeTerm(term = composeTerm)




BreastCancer &lt;- readr::read_csv(file = "/Users/serdarbalciold/histopathRprojects/ClinicoPath/data/BreastCancer.csv")

usethis::use_data(BreastCancer)

BreastCancer &lt;- readr::read_csv(file = "/Users/serdarbalciold/histopathRprojects/ClinicoPath/data/BreastCancer.csv")

usethis::use_data(BreastCancer)

colon &lt;- readr::read_csv(file = 
"/Users/serdarbalciold/histopathRprojects/ClinicoPath/data/colon.csv")

usethis::use_data(colon)


melanoma &lt;- readr::read_csv(file = 
"/Users/serdarbalciold/histopathRprojects/ClinicoPath/data/melanoma.csv")

usethis::use_data(melanoma)


rocdata &lt;- readr::read_csv(file = 
"/Users/serdarbalciold/histopathRprojects/ClinicoPath/data/rocdata.csv")

usethis::use_data(rocdata)

histopathology &lt;- readr::read_csv(file = 
"/Users/serdarbalciold/histopathRprojects/ClinicoPath/data/histopathology.csv")

usethis::use_data(histopathology)




## force git


# gitUpdateCommitPush
CommitMessage &lt;- paste("updated on ", Sys.time(), sep = "")
wd &lt;- getwd()
gitCommand &lt;- paste("cd ", wd, " \n git add . \n git commit --message '", CommitMessage, "' \n git push origin master \n", sep = "")
system(command = gitCommand, intern = TRUE)




## update project for release



readyfunctions &lt;- c(
    "refs",
    # "^agreement",
    # "^competingsurvival",
    # "^correlation",
    "^crosstable",
    # "^decision",
    # "^decisioncalculator",
    # "^icccoeff",
    "^multisurvival",
    "^oddsratio",
    # "^pairchi2",
    "^reportcat",
    # "^roc",
    "^statsplot2",
    "^summarydata",
    "^survival",
    "^tableone"
    # "^tree",
    # "^utils-pipe"
    # "^vartree"
)


readyfunctions &lt;- paste0(readyfunctions, collapse = "|")

files_R &lt;-
    list.files(path = here::here("R"),
               pattern = readyfunctions,
               full.names = TRUE)

files_jamovi &lt;-
    list.files(
        path = here::here("jamovi"),
        pattern = readyfunctions,
        full.names = TRUE
    )

files_data &lt;-
    list.files(
        path = here::here("data"),
        full.names = TRUE
    )


file.copy(from = files_R,
          to = "~/ClinicoPath/R/",
          overwrite = TRUE)


file.copy(from = files_jamovi,
          to = "~/ClinicoPath/jamovi/",
          overwrite = TRUE)


file.copy(from = files_data,
          to = "~/ClinicoPath/data/",
          overwrite = TRUE)

file.copy(from = files_data,
          to = "~/histopathRprojects/ClinicoPath/inst/extdata/",
          overwrite = TRUE)


# Example



deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

library(magrittr)

corx &lt;- deneme %&gt;%
                dplyr::select(Age, OverallTime) %&gt;% 
                stats::cor(method = "spearman") %&gt;%
                report::report()











inherits(deneme$Sex, "character")



ggstatsplot::ggbetweenstats(data = deneme,
                            x = Sex,
                            y = Age,
                            type = "p")

ClinicoPath::statsplot2(
    data = deneme,
    dep = Age,
    group = Sex)






devtools::install(upgrade = FALSE, quick = TRUE)
deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

# library("ClinicoPath")

deneme$Age &lt;- as.numeric(as.character(deneme$Age))

ClinicoPath::writesummary(data = deneme, vars = Age)

ggstatsplot::normality_message(deneme$Age, "Age")


ClinicoPath::writesummary(
    data = deneme,
    vars = Age)


devtools::install(upgrade = FALSE, quick = TRUE)
library(dplyr)
library(survival)
library(finalfit)
deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))
ClinicoPath::finalfit(data = deneme,
                      explanatory = Sex,
                      outcome = Outcome,
                      overalltime = OverallTime)

devtools::install(upgrade = FALSE, quick = TRUE)
deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

ClinicoPath::decision(
    data = deneme,
    gold = Outcome,
    goldPositive = "1",
    newtest = Smoker,
    testPositive = "TRUE")

ClinicoPath::decision(
    data = deneme,
    gold = LVI,
    goldPositive = "Present",
    newtest = PNI,
    testPositive = "Present")

deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))
ggstatsplot::ggbetweenstats(data = deneme, 
                            x = LVI,
                            y = Age)



devtools::install(upgrade = FALSE, quick = TRUE)
deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))
ClinicoPath::statsplot(
    data = deneme,
    dep = Age,
    group = Smoker)

mytable &lt;- table(deneme$Outcome, deneme$Smoker)

caret::confusionMatrix(mytable)
confusionMatrix(pred, truth)
confusionMatrix(xtab, prevalence = 0.25)

levels(deneme$Outcome)

mytable[1,2]

d &lt;- "0"

mytable[d, "FALSE"]

mytable[[0]]


formula &lt;- jmvcore::constructFormula(terms = c("A", "B", "C"))

jmvcore::constructFormula(terms = list("A", "B", "C"))

vars &lt;- jmvcore::decomposeFormula(formula = formula) 

vars &lt;- jmvcore::decomposeTerms(vars)


vars &lt;- unlist(vars)

formula &lt;- as.formula(formula)


my_group &lt;- "lvi"

jmvcore::composeTerm(my_group)


my_dep &lt;- "age"

formula &lt;- paste0('x = ', group, 'y = ', dep)
myformula &lt;- as.formula(formula)

myformula &lt;- glueformula::gf({my_group}, {my_dep})

myformula &lt;- glue::glue( 'x = ' , {my_group}, ', y = ' , {my_dep})

myformula &lt;- jmvcore::composeTerm(myformula)



deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

library(survival)
km_fit &lt;- survfit(Surv(OverallTime, Outcome) ~ LVI, data = deneme)

library(dplyr)
km_fit_median_df &lt;- summary(km_fit)
km_fit_median_df &lt;- as.data.frame(km_fit_median_df$table) %&gt;%
                janitor::clean_names(dat = ., case = "snake") %&gt;%
                tibble::rownames_to_column(.data = ., var = "LVI")


library(dplyr)
library(survival)

deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

myoveralltime &lt;- deneme$OverallTime
myoutcome &lt;- deneme$Outcome
myexplanatory &lt;- deneme$LVI

class(myoveralltime)
class(myoutcome)
typeof(myexplanatory)

is.ordered(myexplanatory)

formula2 &lt;- jmvcore::constructFormula(terms = "myexplanatory")
# formula2 &lt;- jmvcore::decomposeFormula(formula = formula2)
# formula2 &lt;- paste("", formula2)
# formula2 &lt;- as.formula(formula2)
formula2 &lt;- jmvcore::composeTerm(formula2)


formulaL &lt;- jmvcore::constructFormula(terms = "myoveralltime")
# formulaL &lt;- jmvcore::decomposeFormula(formula = formulaL)

formulaR &lt;- jmvcore::constructFormula(terms = "myoutcome")
# formulaR &lt;- jmvcore::decomposeFormula(formula = formulaR)

formula &lt;- paste("Surv(", formulaL, ",", formulaR, ")")
# formula &lt;- jmvcore::composeTerm(formula)
# formula &lt;- as.formula(formula)
# jmvcore::constructFormula(terms = c(formula, formula2))

deneme %&gt;%
  finalfit::finalfit(formula, formula2) -&gt; tUni

tUni

library(dplyr)
deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

results &lt;- deneme %&gt;%
                ggstatsplot::ggbetweenstats(LVI, Age)
results

mydep &lt;- deneme$Age
mygroup &lt;- deneme$LVI


mygroup &lt;- jmvcore::constructFormula(terms = "mygroup")
mygroup &lt;- jmvcore::composeTerm(mygroup)

mydep &lt;- jmvcore::constructFormula(terms = "mydep")
mydep &lt;- jmvcore::composeTerm(mydep)


# not working
# eval(mygroup)
# rlang::eval_tidy(mygroup)
# !!mygroup
# {{mygroup}}
# sym(mygroup)
# quote(mygroup)
# enexpr(mygroup)

mygroup &lt;- jmvcore::constructFormula(terms = "mygroup")
mydep &lt;- jmvcore::constructFormula(terms = "mydep")

formula1 &lt;- paste(mydep)
formula1 &lt;- jmvcore::composeTerm(formula1)


mygroup &lt;- paste(mygroup)
mygroup &lt;- jmvcore::composeTerm(mygroup)

mydep &lt;- deneme$Age
mygroup &lt;- deneme$LVI

mydep &lt;- jmvcore::resolveQuo(jmvcore::enquo(mydep))
mygroup &lt;- jmvcore::resolveQuo(jmvcore::enquo(mygroup))

mydata2 &lt;- data.frame(mygroup=mygroup, mydep=mydep)

results &lt;- mydata2 %&gt;%
                ggstatsplot::ggbetweenstats(
x = mygroup, y = mydep  )

results



myformula &lt;- glue::glue('x = ', {mygroup}, ', y = ' , {mydep})

myformula &lt;- jmvcore::composeTerm(myformula)

myformula &lt;- as.formula(myformula)



mydep2 &lt;- quote(mydep)
mygroup2 &lt;- quote(mygroup)


results &lt;- deneme %&gt;%
                ggstatsplot::ggbetweenstats(!!mygroup2, !!mydep2)
results


formula &lt;- jmvcore::constructFormula(terms = c("myoveralltime", "myoutcome"))

vars &lt;- jmvcore::decomposeFormula(formula = formula) 


explanatory &lt;- jmvcore::constructFormula(terms = c("explanatory"))    

explanatory &lt;- jmvcore::decomposeFormula(formula = explanatory)

explanatory &lt;- unlist(explanatory)

myformula &lt;- paste("Surv(", vars[1], ", ", vars[2], ")")



deneme %&gt;%
finalfit::finalfit(myformula, explanatory) -&gt; tUni


deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))


table3 &lt;-
  tangram::html5(
    tangram::tangram(
      "Death ~ LVI + PNI + Age", deneme),
    fragment=TRUE,
    # style = "hmisc",
    style = "nejm",
    # inline="nejm.css",
    caption = "HTML5 Table",
    id="tbl3")

table3

mydep &lt;- deneme$Age
mygroup &lt;- deneme$Death


formulaR &lt;- jmvcore::constructFormula(terms =  c("LVI", "PNI", "Age"))

formulaL &lt;- jmvcore::constructFormula(terms = "Death")

formula &lt;- paste(formulaL, '~', formulaR)

# formula &lt;- as.formula(formula)

sty &lt;- jmvcore::composeTerm(components = "nejm")

gr &lt;- jmvcore::composeTerm(components = "Death")


table &lt;- tangram::html5(
    tangram::tangram(formula, deneme
                     ),
    fragment=TRUE,
    # style = "hmisc",
    # style = "nejm",
    style = sty,
    # inline="nejm.css",
    caption = paste0("HTML5 Table ", gr),
    id="tbl4")

table



deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))


mydata &lt;- deneme

formula2 &lt;- jmvcore::constructFormula(terms = c("LVI", "PNI", "Age"))

formulaR &lt;- jmvcore::constructFormula(terms = "Death")

formulaR &lt;- jmvcore::toNumeric(formulaR)



plot &lt;-
                finalfit::or_plot(
                    .data = mydata,
                    dependent = formulaR,
                    explanatory = formula2,
                    remove_ref = FALSE,
                    table_text_size = 4,
                    title_text_size = 14,
                    random_effect = NULL,
                    factorlist = NULL,
                    glmfit = NULL,
                    confint_type = NULL,
                    breaks = NULL,
                    column_space = c(-0.5, 0, 0.5),
                    dependent_label = "Death",
                    prefix = "",
                    suffix = ": OR (95% CI, p-value)",
                    table_opts = NULL,
                    plot_opts = list(
                    ggplot2::xlab("OR, 95% CI"),
                    ggplot2::theme(
                    axis.title = ggplot2::element_text(size = 12)
                    )
                    )
                    )



# Other Codes



## arsenal


tab1 &lt;- arsenal::tableby(~ Age + Sex, data = deneme)

results &lt;- summary(tab1)


# results$object
# results$control
# results$totals
# results$hasStrata
# results$text
# results$pfootnote
# results$term.name
# 
# tab1$Call
# 
# tab1$control

tab1$tables # this is where results lie





## define survival time


mydata$int &lt;- lubridate::interval(
  lubridate::ymd(mydata$SurgeryDate),
  lubridate::ymd(mydata$LastFollowUpDate)
  )
mydata$OverallTime &lt;- lubridate::time_length(mydata$int, "month")
mydata$OverallTime &lt;- round(mydata$OverallTime, digits = 1)





## Multivariate Analysis Survival



library(finalfit)
library(survival)
explanatoryMultivariate &lt;- explanatoryKM
dependentMultivariate &lt;- dependentKM

mydata %&gt;%
  finalfit(dependentMultivariate, explanatoryMultivariate) -&gt; tMultivariate

knitr::kable(tMultivariate, row.names=FALSE, align=c("l", "l", "r", "r", "r", "r"))


# Find arguments in yaml

list_of_yaml &lt;- c(
    list.files(path = "~/histopathRprojects/ClinicoPath-Jamovi--prep/jmv",
               pattern = "\\.yaml$",
               full.names = TRUE,
               all.files = TRUE,
               include.dirs = TRUE,
               recursive = TRUE
    )
)


text_of_yaml_yml &lt;- purrr::map(
    .x = list_of_yaml,
    .f = readLines
)

text_of_yaml_yml &lt;- as.vector(unlist(text_of_yaml_yml)) 

arglist &lt;-
    stringr::str_extract(
        string = text_of_yaml_yml, 
        pattern = 
            "([[:alnum:]]*):"
    )

arglist &lt;- arglist[!is.na(arglist)]
arglist &lt;- unique(arglist)
arglist &lt;- gsub(pattern = ":", # remove some characters
                    replacement = "",
                    x = arglist)
arglist &lt;- trimws(arglist) # remove whitespace

cat(arglist, sep = "\n")


#
#                 # tUni_df_descr &lt;- paste0("When ",
#                 #                         tUni_df$dependent_surv_overall_time_outcome[1],
#                 #                         " is ",
#                 #                         tUni_df$x[2],
#                 #                         ", there is ",
#                 #                         tUni_df$hr_univariable[2],
#                 #                         " times risk than ",
#                 #                         "when ",
#                 #                         tUni_df$dependent_surv_overall_time_outcome[1],
#                 #                         " is ",
#                 #                         tUni_df$x[1],
#                 #                         "."
#                 # )
#
#                 # results5 &lt;- tUni_df_descr



boot::melanoma
rio::export(x = boot::melanoma, file = "data/melanoma.csv")

survival::colon
rio::export(x = survival::colon, file = "data/colon.csv")

# BreastCancerData &lt;- "https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.data"
# 
# BreastCancerNames &lt;- "https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.names"
# 
# BreastCancerData &lt;- read.csv(file = BreastCancerData, header = FALSE,
#                 col.names = c("id","CT", "UCSize", "UCShape", "MA", "SECS", "BN", "BC", "NN","M", "diagnosis") )

library(mlbench)

data("BreastCancer")
BreastCancer

rio::export(x = BreastCancer, file = "data/BreastCancer.csv")



deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))
# names(deneme)

mypairwise &lt;-  survminer::pairwise_survdiff(
                            formula = survival::Surv(OverallTime, Outcome) ~ TStage,
                            data = deneme,
                            p.adjust.method = "BH"
                            )


mypairwise2 &lt;- as.data.frame(mypairwise[["p.value"]]) %&gt;% 
  tibble::rownames_to_column()

mypairwise2 %&gt;% 
  tidyr::pivot_longer(cols = -rowname) %&gt;% 
  dplyr::filter(complete.cases(.)) %&gt;% 
  dplyr::mutate(description =
                            glue::glue(
                                "The comparison between {rowname} and {name} has a p-value of {round(value, 2)}."
                            )
                    ) %&gt;% 
                    dplyr::select(description) %&gt;%
                    dplyr::pull() -&gt; mypairwisedescription

mypairwisedescription &lt;- unlist(mypairwisedescription)

mypairwisedescription &lt;- c(
"In the pairwise comparison of",
mypairwisedescription)



            # mydata &lt;- self$data

            # mydep &lt;- self$data[[self$options$dep]]
            # mygroup &lt;- self$data[[self$options$group]]
            #
            #
            # plotData &lt;- data.frame(gr = mygroup, dp = jmvcore::toNumeric(mydep))
            # plotData &lt;- jmvcore::naOmit(plotData)
            #
            # image &lt;- self$results$plot
            #
            # image$setState(plotData)


            # self$results$text1$setContent(plotData)


            # mydepType &lt;- data.frame(vclass = class(mydep),
            #                         vtypeof = typeof(mydep),
            #                         vordered = is.ordered(mydep),
            #                         vfactor = is.factor(mydep),
            #                         vnumeric = is.numeric(mydep),
            #                         vdouble = is.double(mydep),
            #                         vcharacter = is.character(mydep),
            #                         vdate = lubridate::is.Date(mydep),
            #                         vdate2 = is.na.POSIXlt(mydep)
            #                         )
            # mygroupType &lt;- class(mygroup)
            # variableTypes &lt;- list(mydepType, mygroupType)
            # self$results$text1$setContent(variableTypes)

            # plotData &lt;- image$state


            # https://indrajeetpatil.github.io/ggstatsplot/
            # ggbetweenstats    violin plots    for comparisons between groups/conditions
            # ggwithinstats     violin plots    for comparisons within groups/conditions
            #
            # ggdotplotstats    dot plots/charts    for distribution about labeled numeric variable
            #
            # ggbarstats    bar charts  for categorical data
            #
            # ggscatterstats    scatterplots    for correlations between two variables

            # http://corybrunson.github.io/ggalluvial/


            # plot &lt;- ggplot(plotData, aes(x = gr,
            #                              y = dp)) +
            #     geom_point()

            # plot &lt;- plotData %&gt;%
            #     ggstatsplot::ggbetweenstats(
            #         x = gr,
            #         y = dp
            #         )

library(readr)
BreastCancer &lt;- read_csv("data/BreastCancer.csv")
View(BreastCancer)



mytarget &lt;- "Class"
myvars &lt;- c("Cl.thickness",
            "Cell.size",
            "Cell.shape",
            "Marg.adhesion",
            "Epith.c.size",
            "Bare.nuclei",
            "Bl.cromatin",
            "Normal.nucleoli",
            "Mitoses")

mydata &lt;- BreastCancer %&gt;% 
    select(mytarget, myvars)

formula &lt;- jmvcore::constructFormula(terms = mytarget)

formula &lt;- paste(formula, '~ .')

formula &lt;- as.formula(formula)

 # Create an FFTrees object from the data
 FFTrees.fft &lt;- FFTrees::FFTrees(
     formula = formula,
     data = mydata
     )

 # Plot the best tree applied to the test data
 plot2 &lt;- plot(FFTrees.fft,
      data = mydata
      # ,
      # main = "Heart Disease",
      # decision.labels = c("Healthy", "Disease")
                 )


devtools::install(upgrade = FALSE, quick = TRUE)


deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))


ClinicoPath::statsplotbetween(
    data = deneme,
    dep = LVI,
    group = PNI)

myirr &lt;- data.frame(
          Rater1 = c(0L,1L,1L,0L,0L,0L,1L,1L,1L,0L,1L,
                 1L,1L,1L,1L,0L,NA,1L,1L,0L,0L,1L,1L,1L,1L,1L,0L,
                 1L,1L,1L,1L,0L,1L,1L,1L,1L,1L,0L,0L,1L,1L,1L,
                 1L,1L,0L,1L,1L,1L,0L,0L,1L,1L,1L,0L,1L,1L,1L,0L,
                 1L,1L,0L,1L,0L,1L,1L,0L,0L,1L,0L,1L,1L,1L,0L,0L,
                 0L,0L,1L,1L,1L,0L,0L,1L,1L,1L,1L,0L,0L,0L,1L,0L,
                 0L,1L,1L,0L,1L,1L,0L,1L,1L,0L,1L,1L,0L,1L,1L,
                 0L,1L,1L,1L,0L,1L,1L,1L,0L,1L,1L,0L,0L,1L,0L,1L,
                 1L,1L,0L,1L,1L,1L,1L,1L,1L,1L,1L,0L,1L,1L,1L,1L,
                 1L,1L,1L,1L,1L,1L,0L,1L,1L,1L,1L,1L,1L,1L,0L,0L,
                 1L,0L,1L,1L,1L,1L,1L,0L,0L,1L,1L,1L,1L,1L,0L,
                 0L,0L,1L,1L,0L,1L,1L,0L,1L,0L,1L,1L,1L,0L,1L,1L,
                 1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,
                 0L,0L,1L,1L,1L,1L,0L,0L,1L,1L,0L,1L,1L,1L,0L,1L,
                 0L,1L,1L,1L,1L,0L,0L,0L,0L,1L,0L,1L,1L,1L,0L,
                 0L,1L,1L,1L,0L,1L,0L,0L,0L,1L,1L,1L,0L,1L,0L,0L,
                 0L,1L,1L),
          Rater2 = c(0L,0L,0L,0L,0L,0L,0L,0L,0L,0L,0L,
                 0L,0L,0L,0L,0L,0L,0L,0L,0L,0L,0L,0L,1L,1L,1L,0L,
                 1L,1L,1L,1L,0L,1L,1L,1L,1L,1L,0L,0L,1L,1L,1L,
                 1L,1L,0L,1L,1L,1L,0L,0L,1L,1L,1L,0L,1L,1L,1L,0L,
                 1L,1L,0L,1L,0L,1L,1L,0L,0L,1L,0L,1L,1L,1L,0L,0L,
                 0L,0L,1L,1L,1L,0L,0L,1L,1L,1L,1L,0L,0L,0L,1L,0L,
                 0L,1L,1L,0L,1L,1L,0L,1L,1L,0L,1L,1L,0L,1L,1L,
                 0L,1L,1L,1L,0L,1L,1L,1L,0L,1L,1L,0L,0L,1L,0L,1L,
                 1L,1L,0L,1L,1L,1L,1L,1L,1L,1L,1L,0L,1L,1L,1L,1L,
                 1L,1L,1L,1L,1L,1L,0L,1L,1L,1L,1L,1L,1L,1L,0L,0L,
                 1L,0L,1L,1L,1L,1L,1L,0L,0L,1L,1L,1L,1L,1L,0L,
                 0L,0L,1L,1L,0L,1L,1L,0L,1L,0L,1L,1L,1L,0L,1L,1L,
                 1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,
                 0L,0L,1L,1L,1L,1L,0L,0L,1L,1L,0L,1L,1L,1L,1L,1L,
                 1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,0L,1L,1L,1L,0L,
                 0L,1L,1L,1L,0L,1L,0L,0L,0L,1L,1L,1L,0L,1L,0L,0L,
                 0L,1L,1L)
)

myirr &lt;- myirr %&gt;% 
    dplyr::mutate(
        RaterA = dplyr::case_when(
            Rater1 == 0 ~ "Negative",
            Rater1 == 1 ~ "Positive"
        )
    ) %&gt;% 
    dplyr::mutate(
        RaterB = dplyr::case_when(
            Rater2 == 0 ~ "Negative",
            Rater2 == 1 ~ "Positive"
        )
    ) %&gt;% 
    dplyr::select(RaterA, RaterB) %&gt;% 
    mutate(RaterA = as.factor(RaterA)) %&gt;% 
    mutate(RaterB = as.factor(RaterB))

table &lt;- myirr %$% 
table(RaterA, RaterB)

mymatrix &lt;- caret::confusionMatrix(table, positive = "Positive")
mymatrix

caret::sensitivity(table, positive = "Positive")


mymatrix2 &lt;- caret::confusionMatrix(table, positive = "Positive", prevalence = 0.25)
mymatrix2


 dat &lt;- as.table(
                matrix(c(670,202,74,640),
                       nrow = 2,
                       byrow = TRUE)
                )

            colnames(dat) &lt;- c("Dis+","Dis-")
            rownames(dat) &lt;- c("Test+","Test-")

            rval &lt;- epiR::epi.tests(dat, conf.level = 0.95)

            rval &lt;- list(
                dat,
                rval,
                print(rval),
                summary(rval)
                         )

devtools::install(upgrade = FALSE, quick = TRUE)
library(dplyr)

deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

ratings &lt;- deneme %&gt;% 
    dplyr::select(LVI, PNI, Age, ID)


f &lt;- unlist(lapply(ratings, class))

any(f == "numeric")

all(f == "numeric")


xtitle &lt;- names(ratings)[1]
ytitle &lt;- names(ratings)[2]

result &lt;- table(ratings[,1], ratings[,2],
                dnn = list(xtitle, ytitle))

table(ratings)



result1 &lt;- irr::agree(ratings)


result2 &lt;- irr::kappa2(ratings)


ClinicoPath::agreement(
    data = deneme,
    vars = c(LVI,PNI)
)


result2 &lt;- irr::kappam.fleiss(
                    ratings = ratings,
                    exact = FALSE,
                    detail = TRUE)




deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

mytree &lt;- vtree::vtree(deneme, "LVI PNI")

# write(mytree[["x"]][["diagram"]], 
#       file = here::here("/_tododata/trial1.gv"))

# DiagrammeR::grViz(diagram = here::here("/_tododata/trial1.gv"))

diagram &lt;- mytree[["x"]][["diagram"]]

mytree2 &lt;- DiagrammeR::grViz(diagram = diagram)


print(mytree2)



# Packages for Development





## rpkgtools


devtools::install_github("IndrajeetPatil/rpkgtools")



## available


Check if a package name is available to use https://docs.ropensci.org/available


https://github.com/r-lib/available



available::available("clinicopath")
available::available("lens2r")





## bench


High Precision Timing of R Expressions http://bench.r-lib.org/

https://github.com/r-lib/bench






## desc


Manipulate DESCRIPTION files
https://github.com/r-lib/desc



## pkgverse

pkgverse: Build a Meta-Package Universe
https://pkgverse.mikewk.com/



## pkgbuild

pkgbuild: Find Tools Needed to Build R Packages
https://github.com/r-lib/pkgbuild


## pkgload

pkgload: Simulate Package Installation and Attach
https://github.com/r-lib/pkgload


## rcmdcheck

rcmdcheck: Run 'R CMD check' from 'R' and Capture Results
https://github.com/r-lib/rcmdcheck




## remotes


## sessioninfo

Print Session Information

https://github.com/r-lib/sessioninfo



## "covr




## "exampletestr


## "covrpage",


## "gramr",


## "lintr",


## "goodpractice",


## "pkgdown",


## "usethis",


## "testthat",


## "spelling",


## "RTest",

https://towardsdatascience.com/rtest-pretty-testing-of-r-packages-50f50b135650


## "rhub",


## "roxygen2",


## "sinew",


## "styler",



## "vdiffr"




## "attachment (https://github.com/ThinkR-open/attachment)
## "covrpage (https://github.com/yonicd/covrpage)
## "defender (https://github.com/ropenscilabs/defender)
## "gramr (https://github.com/ropenscilabs/gramr)
## "packagemetrics (https://github.com/ropenscilabs/packagemetrics)
## "pRojects (https://github.com/lockedata/pRojects)
## "revdepcheck (https://github.com/r-lib/revdepcheck)
## "roxygen2Comment (https://github.com/csgillespie/roxygen2Comment)
## "roxygen2md (https://github.com/r-lib/roxygen2md)
## "testdown (https://github.com/ThinkR-open/testdown)
## "tic (https://github.com/ropenscilabs/tic)





            # Table1 &lt;- table(mydata[[testVariable]], mydata[[goldVariable]])


            # Table1 &lt;- mydata %&gt;%
            #     janitor::tabyl(.data[[testVariable]], .data[[goldVariable]]) %&gt;%
            #     janitor::adorn_totals(dat = ., where = c("row", "col")) %&gt;%
            #     janitor::adorn_percentages(dat = ., denominator = "row") %&gt;%
            #     janitor::adorn_percentages(dat = ., denominator = "col") %&gt;%
            #     janitor::adorn_pct_formatting(dat = ., rounding = "half up", digits = 1) %&gt;%
            #     janitor::adorn_ns(dat = .) %&gt;%
            #     janitor::adorn_title("combined")
            # results1 &lt;- Table1

                # results1 &lt;- summary(km_fit)$table

                # km_fit_median_df &lt;- summary(km_fit)
                # km_fit_median_df &lt;- as.data.frame(km_fit_median_df$table) %&gt;%
                #     janitor::clean_names(dat = ., case = "snake") %&gt;%
                #     tibble::rownames_to_column(.data = .)

                # results1 &lt;- tibble::as_tibble(results1,
                #                              .name_repair = "minimal") %&gt;%
                #     janitor::clean_names(dat = ., case = "snake") %&gt;%
                #     tibble::rownames_to_column(.data = ., var = self$options$explanatory)


table2 &lt;- matrix(c(80, 20, 30, 70), nrow = 2, ncol = 2, byrow = TRUE, dimnames = list(c("Positive", "Negative"), c("Positive","Negative")))

            table3 &lt;- as.table(table2)

            names(attributes(table3)$dimnames) &lt;- c("Test","Gold Standart")

caretresult &lt;- caret::confusionMatrix(table3, mode = "everything")



table3 &lt;- matrix(c(80L, 20L, 25L, 30L, 70L, 75L), nrow = 2, ncol = 3, byrow = TRUE)


# RVAideMemoire::chisq.multcomp() RVAideMemoire::fisher.multcomp()

result1 &lt;- RVAideMemoire::chisq.multcomp(table3)

result1 &lt;- result1[["p.value"]]


result1 &lt;- as.data.frame(result1) %&gt;%
                                tibble::rownames_to_column()

result1 &lt;- result1 %&gt;%
    tidyr::pivot_longer(cols = -rowname) %&gt;%
    dplyr::filter(complete.cases(.))




myfun &lt;- function(i,j) {
    if(!is.na(result1[i,j])){
    paste0(    
dimnames(result1)[[1]][i],
" vs ",
dimnames(result1)[[2]][j],
" p= ",    
result1[i,j])
    }
}

for (i in 1:dim(result1)[1]) {
for (j in 1:dim(result1)[2]) {
    des &lt;- myfun(i,j)
    if(!is.null(des)) print(des)
}
}


myfun1 &lt;- function(i,j) {
    if(!is.na(result1[i,j])){
dimnames(result1)[[1]][i]
    }
}


for (i in 1:dim(result1)[1]) {
for (j in 1:dim(result1)[2]) {
    des &lt;- myfun1(i,j)
    if(!is.null(des)) print(des)
}
}





myfun(3,3)

myfun(1,2)


dimnames(result1)[[1]][2]


RVAideMemoire::fisher.multcomp(table3)


# rmngb::pairwise.chisq.test(x, ...)  rmngb::pairwise.fisher.test(x, ...)


library(rmngb)
x &lt;- sample(1:2, 1e3, TRUE)
g &lt;- sample(1:4, 1e3, TRUE)
result2 &lt;- rmngb::pairwise.chisq.test(x, g)
tab &lt;- table(g, x)

resultrmngb &lt;- rmngb::pairwise.fisher.test(tab, p.adj = "bonf")

result2[["p.value"]]
resultrmngb[["p.value"]]

rmngb::pairwise.chisq.test(tab)





 
formula &lt;- jmvcore::constructFormula(terms = self$options$vars)
formula &lt;- paste('~', formula)
formula &lt;- as.formula(formula)
table1 &lt;- arsenal::tableby(formula, self$data,
total = TRUE,
digits = 1,
digits.count = 1
)
myarsenal &lt;- summary(table1, text = "html")
myarsenal &lt;- kableExtra::kable(myarsenal, format = "html",
digits = 1,
escape = TRUE) %&gt;%
kableExtra::kable_styling(kable_input = .,
bootstrap_options = "striped",
full_width = F,
position = "left")



library(dplyr)

deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))


varsName &lt;- c("LVI", "PNI")

tablelist &lt;- list()

                for (i in 1:length(varsName)) {

                    var &lt;- varsName[i]
                    
                    
                    table &lt;- deneme %&gt;%
                        janitor::tabyl(dat = ., var) %&gt;%
                        janitor::adorn_totals("row") %&gt;%
                        janitor::adorn_pct_formatting(dat = .)

                    tablelist[[i]] &lt;- table

                }

tablelist






            data &lt;- self$data

            vars &lt;- self$options$vars

            facs &lt;- self$options$facs

            target &lt;- self$options$target

            # data &lt;- jmvcore::select(data, c(vars, facs, target))


            if ( ! is.null(vars))
            for (var in vars)
                data[[var]] &lt;- jmvcore::toNumeric(data[[var]])

            if ( ! is.null(facs))
            for (fac in facs)
                data[[fac]] &lt;- as.factor(data[[fac]])


            data[[target]] &lt;- as.factor(data[[target]])

            data &lt;- jmvcore::naOmit(data)
            
            
            
            
            

            # TODO

            # todo &lt;- glue::glue(
            #     "This Module is still under development
            #     -
            #     -
            #     "
            # )

            # self$results$todo$setContent(todo)

            # if (nrow(self$data) == 0)
            #     stop('Data contains no (complete) rows')


            # if (is.null(self$options$vars) || is.null(self$options$target))
            #     return()


            # prepare data for explore ----
            # https://cran.r-project.org/web/packages/explore/vignettes/explore.html


            # result1 &lt;- iris %&gt;% explore::explain_tree(target = Species)
            #
            # self$results$text1$setContent(result1)


            # image &lt;- self$results$plot

            # image$setState(plotData)



            # from https://forum.jamovi.org/viewtopic.php?f=2&amp;t=1287
            # library(caret)
            # library(partykit)
            # detach("package:partykit", unload=TRUE)
            # library(party)

            # Conditional Trees

            # set.seed(3456)
            # model &lt;- train(
            #     yvar ~ .,
            #     data = df,
            #     method = 'ctree2',
            #     trControl = trainControl("cv", number = 10, classProbs = FALSE),
            #     tuneGrid = expand.grid(maxdepth = 3, mincriterion = 0.95)
            # )
            # plot(model$finalModel)
            #
            # t(sapply(unique(where(model$finalModel)), function(x) {
            #     n &lt;- nodes(model$finalModel, x)[[1]]
            #     yvar &lt;- df[as.logical(n$weights), "yvar"]
            #     cbind.data.frame("Node" = as.integer(x),
            #                      psych::describe(yvar, quant=c(.25,.50,.75), skew = FALSE))
            # }))
            
            
            
            
            


            # data &lt;- private$.cleanData()

            # vars &lt;- self$options$vars
            # facs &lt;- self$options$facs
            # target &lt;- self$options$target

            # tree1 &lt;- data %&gt;%
            #     explore::explain_tree(target = .data[[target]])




            # if (is.null(self$options$vars) || is.null(self$options$target))
            #     return()


            # varsName &lt;- self$options$vars
            #
            # facsName &lt;- self$options$facs
            #
            # targetName &lt;- self$options$target
            #
            # data &lt;- jmvcore::select(self$data, c(varsName, facsName, targetName))
            #
            # data[[varsName]] &lt;- jmvcore::toNumeric(data[[varsName]])
            #
            # for (fac in facsName)
            #     data[[facsName]] &lt;- as.factor(data[[facsName]])
            #
            # data &lt;- jmvcore::naOmit(data)




            # tree1 &lt;- data %&gt;%
            #     explore::explain_tree(target = .data[[targetName]])


            # plot &lt;- iris %&gt;% explore::explain_tree(target = Species)
            # if (length(self$options$dep) + length(self$options$group) &lt; 2)
            #     return()

            # tree1 &lt;- iris %&gt;% explore::explain_tree(target = Species)
            # iris$is_versicolor &lt;- ifelse(iris$Species == "versicolor", 1, 0)
            # tree2 &lt;- iris %&gt;%
            # dplyr::select(-Species) %&gt;%
            # explore::explain_tree(target = is_versicolor)
            # tree3 &lt;- iris %&gt;%
            # explore::explain_tree(target = Sepal.Length)



library(magrittr)
# devtools::install(upgrade = FALSE, quick = TRUE)
deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

mydata &lt;- deneme

varsName &lt;- "Age"

# facsName &lt;- c("LVI", "PNI")

targetName &lt;- "Outcome"

mydata[[targetName]] &lt;- as.factor(mydata[[targetName]])

mydata &lt;- jmvcore::select(mydata, c(varsName, 
                                    # facsName, 
                                    targetName))

mydata &lt;- jmvcore::naOmit(mydata)



explore::explain_tree(data = mydata,
                      target = targetName
                      )

mydata %&gt;%
explore::explain_tree(target = .data[[targetName]])




iris %&gt;% explore::explain_tree(target = Species)




BreastCancer %&gt;%
                dplyr::select(all_of(mytarget), all_of(myvars)) %&gt;%
                explore::explain_tree(target = .data[[mytarget]])




ClinicoPath::tree(
    data = data,
    vars = Age,
    facs = vars(LVI, PNI),
    target = Mortality)


mytarget &lt;- "Class"
myvars &lt;- c("Cl.thickness",
            "Cell.size",
            "Cell.shape",
            "Marg.adhesion",
            "Epith.c.size",
            "Bare.nuclei",
            "Bl.cromatin",
            "Normal.nucleoli",
            "Mitoses")

# mytarget &lt;- jmvcore::composeTerms(mytarget)
# mytarget &lt;- jmvcore::constructFormula(terms = mytarget)



# install.packages("easyalluvial")
library(magrittr)
# devtools::install(upgrade = FALSE, quick = TRUE)
deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

mydata &lt;- deneme

var1 &lt;- "TStage"

var2 &lt;- "Grade"

mydata &lt;- jmvcore::select(df = mydata, columnNames = c(var1, var2))

mydata &lt;- jmvcore::naOmit(mydata)

plot &lt;- 
easyalluvial::alluvial_wide( data = mydata
                , max_variables = 5
                , fill_by = 'first_variable'
                , verbose = TRUE
                )

plot %&gt;% 
    easyalluvial::add_marginal_histograms(mydata)


</code></pre>
<!-- I already got the First one(Raju's statistic) using $.  but for the second one, I can not get the results using $ -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- so you’re after the mF-mR values? -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- what i do in this situation, is take a look at the print function. so i’ll go: -->
<!-- class(res) -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- that gives me: -->
<!-- [1] "Raj" -->
<!-- Seol  3 hours ago -->
<!-- The result that I want to -->
<!-- 이미지 2.png  -->
<!-- 이미지 2.png -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- so this object is an S3 class … -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- in S3 classes, the print function is print.ClassName so in this case, it’s print.Raj -->
<!-- Seol  3 hours ago -->
<!-- Oh yub how can I get the results to use in the b.R ? -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- i’m getting there :slightly_smiling_face: -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- so now we take a look at the print.Raj() function. like this: -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- > print.Raj -->
<!-- function (x, ...)  -->
<!-- { -->
<!--     res <- x -->
<!--     if (is.character(res))  -->
<!--         cat("Error: unappropriate model specification!", "\n") -->
<!--     else { -->
<!--         cat("\n") -->
<!--         cat("Detection of Differential Item Functioning using Raju's method",  -->
<!--             "\n") -->
<!--         if (res$purification & is.null(res$anchor.names))  -->
<!--             pur <- "with " -->
<!--         else pur <- "without " -->
<!--         cat("with ", res$model, " model and ", pur, "item purification",  -->
<!--             "\n", "\n", sep = "") -->
<!--         if (res$signed)  -->
<!--             cat("Type of Raju's Z statistic: based on signed area",  -->
<!--                 "\n", "\n") -->
<!--         else cat("Type of Raju's Z statistic: based on unsigned area",  -->
<!--             "\n", "\n") -->
<!--         if (res$estPar) { -->
<!--             if (res$model != "1PL" | res$engine == "ltm")  -->
<!--                 cat("Engine 'ltm' for item parameter estimation",  -->
<!--                   "\n", "\n") -->
<!--             else cat("Engine 'lme4' for item parameter estimation",  -->
<!--                 "\n", "\n") -->
<!--         } -->
<!--         if (res$model == "1PL" & res$engine == "ltm") { -->
<!--             if (is.null(res$discr))  -->
<!--                 cat("Common discrimination parameter: estimated from 'ltm'",  -->
<!--                   "\n", "\n") -->
<!--             else cat("Common discrimination parameter: fixed to ",  -->
<!--                 res$discr, "\n", "\n", sep = "") -->
<!--         } -->
<!--         if (!is.null(res$c)) { -->
<!--             if (length(res$c) == 1)  -->
<!--                 cat("Common pseudo-guessing value:", res$c, "\n",  -->
<!--                   "\n") -->
<!--             else { -->
<!--                 mat <- cbind(res$c) -->
<!--                 if (!is.null(res$names))  -->
<!--                   rownames(mat) <- res$names -->
<!--                 else { -->
<!--                   rn <- NULL -->
<!--                   for (i in 1:nrow(mat)) rn[i] <- paste("Item",  -->
<!--                     i, sep = "") -->
<!--                   rownames(mat) <- rn -->
<!--                 } -->
<!--                 colnames(mat) <- "c" -->
<!--                 cat("Common pseudo-guessing values:", "\n", "\n") -->
<!--                 print(mat) -->
<!--                 cat("\n") -->
<!--             } -->
<!--         } -->
<!--         if (res$purification & is.null(res$anchor.names)) { -->
<!--             if (res$nrPur <= 1)  -->
<!--                 word <- " iteration" -->
<!--             else word <- " iterations" -->
<!--             if (!res$convergence) { -->
<!--                 cat("WARNING: no item purification convergence after ",  -->
<!--                   res$nrPur, word, "\n", sep = "") -->
<!--                 loop <- NULL -->
<!--                 for (i in 1:res$nrPur) loop[i] <- sum(res$difPur[1,  -->
<!--                   ] == res$difPur[i + 1, ]) -->
<!--                 if (max(loop) != length(res$RajuZ))  -->
<!--                   cat("(Note: no loop detected in less than ",  -->
<!--                     res$nrPur, word, ")", "\n", sep = "") -->
<!--                 else cat("(Note: loop of length ", min((1:res$nrPur)[loop ==  -->
<!--                   length(res$RajuZ)]), " in the item purification process)",  -->
<!--                   "\n", sep = "") -->
<!--                 cat("WARNING: following results based on the last iteration of the purification",  -->
<!--                   "\n", "\n") -->
<!--             } -->
<!--             else cat("Convergence reached after ", res$nrPur,  -->
<!--                 word, "\n", "\n", sep = "") -->
<!--         } -->
<!--         if (is.null(res$anchor.names)) { -->
<!--             itk <- 1:length(res$RajuZ) -->
<!--             cat("No set of anchor items was provided", "\n",  -->
<!--                 "\n") -->
<!--         } -->
<!--         else { -->
<!--             itk <- (1:length(res$RajuZ))[!is.na(res$RajuZ)] -->
<!--             cat("Anchor items (provided by the user):", "\n") -->
<!--             if (is.numeric(res$anchor.names))  -->
<!--                 mm <- res$names[res$anchor.names] -->
<!--             else mm <- res$anchor.names -->
<!--             mm <- cbind(mm) -->
<!--             rownames(mm) <- rep("", nrow(mm)) -->
<!--             colnames(mm) <- "" -->
<!--             print(mm, quote = FALSE) -->
<!--             cat("\n", "\n") -->
<!--         } -->
<!--         if (is.null(res$p.adjust.method))  -->
<!--             cat("No p-value adjustment for multiple comparisons",  -->
<!--                 "\n", "\n") -->
<!--         else { -->
<!--             pAdjMeth <- switch(res$p.adjust.method, bonferroni = "Bonferroni",  -->
<!--                 holm = "Holm", hochberg = "Hochberg", hommel = "Hommel",  -->
<!--                 BH = "Benjamini-Hochberg", BY = "Benjamini-Yekutieli") -->
<!--             cat("Multiple comparisons made with", pAdjMeth, "adjustement of p-values",  -->
<!--                 "\n", "\n") -->
<!--         } -->
<!--         cat("Raju's statistic:", "\n", "\n") -->
<!--         pval <- round(2 * (1 - pnorm(abs(res$RajuZ))), 4) -->
<!--         if (is.null(res$p.adjust.method))  -->
<!--             symb <- symnum(pval, c(0, 0.001, 0.01, 0.05, 0.1,  -->
<!--                 1), symbols = c("***", "**", "*", ".", "")) -->
<!--         else symb <- symnum(res$adjusted.p, c(0, 0.001, 0.01,  -->
<!--             0.05, 0.1, 1), symbols = c("***", "**", "*", ".",  -->
<!--             "")) -->
<!--         m1 <- cbind(round(res$RajuZ[itk], 4), pval[itk]) -->
<!--         if (!is.null(res$p.adjust.method))  -->
<!--             m1 <- cbind(m1, round(res$adjusted.p[itk], 4)) -->
<!--         m1 <- noquote(cbind(format(m1, justify = "right"), symb[itk])) -->
<!--         if (!is.null(res$names))  -->
<!--             rownames(m1) <- res$names[itk] -->
<!--         else { -->
<!--             rn <- NULL -->
<!--             for (i in 1:nrow(m1)) rn[i] <- paste("Item", i, sep = "") -->
<!--             rownames(m1) <- rn[itk] -->
<!--         } -->
<!--         con <- c("Stat.", "P-value") -->
<!--         if (!is.null(res$p.adjust.method))  -->
<!--             con <- c(con, "Adj. P", "") -->
<!--         else con <- c(con, "") -->
<!--         colnames(m1) <- con -->
<!--         print(m1) -->
<!--         cat("\n") -->
<!--         cat("Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 ",  -->
<!--             "\n") -->
<!--         cat("\n", "Detection thresholds: ", -round(res$thr, 4),  -->
<!--             " and ", round(res$thr, 4), " (significance level: ",  -->
<!--             res$alpha, ")", "\n", "\n", sep = "") -->
<!--         if (is.character(res$DIFitems))  -->
<!--             cat("Items detected as DIF items:", res$DIFitems,  -->
<!--                 "\n", "\n") -->
<!--         else { -->
<!--             cat("Items detected as DIF items:", "\n") -->
<!--             if (!is.null(res$names))  -->
<!--                 m2 <- res$names -->
<!--             else { -->
<!--                 rn <- NULL -->
<!--                 for (i in 1:length(res$RajuZ)) rn[i] <- paste("Item",  -->
<!--                   i, sep = "") -->
<!--                 m2 <- rn -->
<!--             } -->
<!--             m2 <- cbind(m2[res$DIFitems]) -->
<!--             rownames(m2) <- rep("", nrow(m2)) -->
<!--             colnames(m2) <- "" -->
<!--             print(m2, quote = FALSE) -->
<!--             cat("\n") -->
<!--         } -->
<!--     } -->
<!--     if (res$model == "1PL") { -->
<!--         cat("Effect size (ETS Delta scale):", "\n", "\n") -->
<!--         cat("Effect size code:", "\n") -->
<!--         cat(" 'A': negligible effect", "\n") -->
<!--         cat(" 'B': moderate effect", "\n") -->
<!--         cat(" 'C': large effect", "\n", "\n") -->
<!--         if (res$purification & is.null(res$anchor.names))  -->
<!--             pars <- res$itemParFinal -->
<!--         else pars <- res$itemParInit -->
<!--         J <- nrow(pars)/2 -->
<!--         mR <- pars[1:J, 1] -->
<!--         mF <- itemRescale(pars[1:J, ], pars[(J + 1):(2 * J),  -->
<!--             ])[, 1] -->
<!--         rr1 <- round(mF - mR, 4) -->
<!--         rr2 <- round(-2.35 * rr1, 4) -->
<!--         symb1 <- symnum(abs(rr2), c(0, 1, 1.5, Inf), symbols = c("A",  -->
<!--             "B", "C")) -->
<!--         matR2 <- cbind(rr1, rr2)[itk, ] -->
<!--         matR2 <- noquote(cbind(format(matR2, justify = "right"),  -->
<!--             symb1[itk])) -->
<!--         if (!is.null(res$names))  -->
<!--             rownames(matR2) <- res$names[itk] -->
<!--         else { -->
<!--             rn <- NULL -->
<!--             for (i in 1:nrow(matR2)) rn[i] <- paste("Item", i,  -->
<!--                 sep = "") -->
<!--             rownames(matR2) <- rn[itk] -->
<!--         } -->
<!--         colnames(matR2) <- c("mF-mR", "deltaRaju", "") -->
<!--         print(matR2) -->
<!--         cat("\n") -->
<!--         cat("Effect size codes: 0 'A' 1.0 'B' 1.5 'C'", "\n") -->
<!--         cat(" (for absolute values of 'deltaRaju')", "\n", "\n") -->
<!--     } -->
<!--     if (!x$save.output)  -->
<!--         cat("Output was not captured!", "\n") -->
<!--     else { -->
<!--         if (x$output[2] == "default")  -->
<!--             wd <- paste(getwd(), "/", sep = "") -->
<!--         else wd <- x$output[2] -->
<!--         fileName <- paste(wd, x$output[1], ".txt", sep = "") -->
<!--         cat("Output was captured and saved into file", "\n",  -->
<!--             " '", fileName, "'", "\n", "\n", sep = "") -->
<!--     } -->
<!-- } -->
<!-- Seol  3 hours ago -->
<!-- :disappointed_relieved: -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- the important part (the part you’re interested in) is under this if-statement: -->
<!-- if (res$model == "1PL") { -->
<!--         cat("Effect size (ETS Delta scale):", "\n", "\n") -->
<!-- Seol  3 hours ago -->
<!-- Thanks, Probably, I am gonna insert them into ,b,R? -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- yup -->
<!-- Seol  3 hours ago -->
<!-- Oh yub, I'will try that:thinking_face: -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- i think this is what you want: -->
<!-- if (is.null(res$anchor.names)) { -->
<!--     itk <- 1:length(res$RajuZ) -->
<!-- } else { -->
<!--     itk <- (1:length(res$RajuZ))[!is.na(res$RajuZ)] -->
<!--     if (is.numeric(res$anchor.names))  -->
<!--         mm <- res$names[res$anchor.names] -->
<!--     else mm <- res$anchor.names -->
<!--         mm <- cbind(mm) -->
<!--     rownames(mm) <- rep("", nrow(mm)) -->
<!--     colnames(mm) <- "" -->
<!-- } -->
<!-- if (res$purification & is.null(res$anchor.names)) { -->
<!--     pars <- res$itemParFinal -->
<!-- } else pars <- res$itemParInit -->
<!-- J <- nrow(pars)/2 -->
<!-- mR <- pars[1:J, 1] -->
<!-- mF <- itemRescale(pars[1:J, ], pars[(J + 1):(2 * J),  -->
<!--                                     ])[, 1] -->
<!-- rr1 <- mF - mR -->
<!-- rr2 <- -2.35 * rr1 -->
<!-- symb1 <- symnum(abs(rr2), c(0, 1, 1.5, Inf), symbols = c("A",  -->
<!--                                                          "B", "C")) -->
<!-- matR2 <- cbind(rr1, rr2)[itk, ] -->
<!-- but you can probably simplify it down a bit more too -->
<!-- Seol  3 hours ago -->
<!-- Is there any simple way to call Effect size result in the screen? For example, in the above screen, to get Raju's statistics, I am using res$RajuZ and to get p value, I'm just using res$p.value  -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- i don’t think so. it doesn’t look like it. sometimes R packages calculate all the results, and you can access them using $blah … but sometimes they don’t calculate the results until you print them. … -->
<!-- Seol  3 hours ago -->
<!-- I'm just wondering only those functions describe above might working well:thinking_face: -->
<!-- Seol  3 hours ago -->
<!-- Anyway, I'll try that :+1: -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- you can probably reduce it down to this: -->
<!-- itk <- 1:length(res$RajuZ) -->
<!-- pars <- res$itemParInit -->
<!-- J <- nrow(pars)/2 -->
<!-- mR <- pars[1:J, 1] -->
<!-- mF <- itemRescale(pars[1:J, ], pars[(J + 1):(2 * J),])[, 1] -->
<!-- rr1 <- mF - mR -->
<!-- rr2 <- -2.35 * rr1 -->
<!-- matR2 <- cbind(rr1, rr2)[itk, ] -->
<!-- depending on your needs -->
<p>imports &lt;- c( <a href="attachment::att_from_rscripts" class="uri">attachment::att_from_rscripts</a>(“./R”, recursive = TRUE)
)</p>
<p><a href="attachment::att_to_desc_from_is(path.d" class="uri">attachment::att_to_desc_from_is(path.d</a> = “DESCRIPTION”,
imports = imports, normalize = TRUE, add_remotes = TRUE)</p>
<pre><code>so you’ve got a few options … but it’s worth pointing out that most of the time, the name of the jamovi function/analysis doesn’t really matter. unless you’re wanting people to be able to use the same functions from R, then no-one will ever use them/see them. (the only thing that matters is that the name of the analysis doesn’t change, so jamovi can match the analysis with analyses in old .omv files)
so assuming you want people to be able to use these same functions from R, and you want to rename, say, the flexplota function, you can use rename in the .a.yaml file. we use it for the anova:
https://github.com/jamovi/jmv/blob/master/jamovi/anova.a.yaml#L2-L3
this only renames the function used to call the analysis from R, and preserves the underlying ‘analysis name’ that jamovi depends on. in the case of our ANOVA, we decided the lowercase name conflicted with too many anova() functions in R. the only change this makes to your .h.R file is here:
https://github.com/jamovi/jmv/blob/master/R/anova.h.R#L527
another approach, if you don’t want to provide the analysis R functions at all, you can see export: false in the .a.yaml file.
https://github.com/jamovi/jmv/blob/master/jamovi/empty.a.yaml#L7
in the case of anova, this would completely remove the ANOVA() function from the .h.R file (jamovi doesn’t actually use that top level function itself, rather it constructs the anovaClass, anovaOptions, etc. objects directly) … some times people do this where they want to implement their own top level function, rather than relying on the automatically generated one. or sometimes they just don’t want people to use that function from R, and want them to use a different approach in R. (one usually wants to override the syntax generated for ‘syntax mode’ if taking this approach … i can walk you through that if that’s where you want to head). (edited) </code></pre>
<pre><code>flatpak install flathub org.freedesktop.Sdk.Extension.gfortran-62
sudo apt install libcanberra-gtk-module libcanberra-gtk3-module

flatpak run --command=R --devel org.jamovi.jamovi
install.packages('node', repos='https://repo.jamovi.org')
install.packages('jmvtools', repos='https://repo.jamovi.org')
jmvtools::install(home='/app/bin/')</code></pre>
<!-- Serdar Balci -->
<!--   2 months ago -->
<!-- At least I am now getting a different error :slightly_smiling_face: -->
<!-- > jmvtools::prepare() -->
<!-- jamovi compiler -->
<!-- jamovi 2.3.2 found at /usr/bin/flatpak -->
<!-- error: runtime/org.freedesktop.Sdk/x86_64/21.08 not installed -->
<!-- Error: Command failed: "flatpak" run --devel org.jamovi.jamovi "-R" --version -->
<!-- error: runtime/org.freedesktop.Sdk/x86_64/21.08 not installed -->
<!--   at checkExecSyncError (node:child_process:828:11) -->
<!--   at Object.execSync (node:child_process:902:15) -->
<!--   at /home/parallels/R/x86_64-pc-linux-gnu-library/4.1/jmvtools/node_modules/jamovi-compiler/index.js:214:40 -->
<!--   at Object.<anonymous> (/home/parallels/R/x86_64-pc-linux-gnu-library/4.1/jmvtools/node_modules/jamovi-compiler/index.js:580:3) -->
<!--   at Module._compile (node:internal/modules/cjs/loader:1103:14) -->
<!--   at Object.Module._extensions..js (node:internal/modules/cjs/loader:1157:10) -->
<!--   at Module.load (node:internal/modules/cjs/loader:981:32) -->
<!--   at Function.Module._load (node:internal/modules/cjs/loader:822:12) -->
<!--   at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:77:12) -->
<!--   at node:internal/main/run_main_module:17:47 -->
<!-- Command failed: "flatpak" run --devel org.jamovi.jamovi "-R" --version -->
<!-- error: runtime/org.freedesktop.Sdk/x86_64/21.08 not installed -->
<!-- (edited) -->
<!-- jonathon -->
<!-- :whale2:  2 months ago -->
<!-- flatpak install flathub org.freedesktop.Sdk//21.08 -->
<!-- Serdar Balci -->
<!--   2 months ago -->
<!-- Thank you, seems to work now. -->
<!-- You have a warning message: -->
<!-- (node:4706) [DEP0128] DeprecationWarning: Invalid 'main' field in '/home/parallels/R/x86_64-pc-linux-gnu-library/4.1/jmvtools/node_modules/jamovi-compiler/node_modules/po2json/package.json' of './lib/po2json'. Please either fix that or report it to the module author -->
<!-- (Use `node --trace-deprecation ...` to show where the warning was created) -->
<!-- jonathon -->
<!-- :whale2:  2 months ago -->
<!-- oh yeah, i’ve got enough on my plate, to worry about warnings :stuck_out_tongue: -->
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.serdarbalci.com/" class="external-link">Serdar Balci</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
